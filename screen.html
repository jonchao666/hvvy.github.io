<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="Cache-Control" content="no-siteapp">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1, minimum-scale=1, maximum-scale=1">
<meta name="renderer" content="webkit">
<meta name="google" value="notranslate">
<meta name="robots" content="index,follow">


<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="567899.xyz">
<meta name="twitter:description" content="这家伙很赖，什么也没有留下。">
<meta name="twitter:image:src" content="https://567899.xyz/images/avatar.png">

<meta property="og:url" content="https://567899.xyz">
<meta property="og:title" content="567899.xyz">
<meta property="og:description" content="这家伙很赖，什么也没有留下。">
<meta property="og:site_name" content="567899.xyz">
<meta property="og:image" content="https://567899.xyz/images/avatar.png">
<meta property="og:type" content="website">
<meta name="robots" content="noodp">

<meta itemprop="name" content="567899.xyz">
<meta itemprop="description" content="这家伙很赖，什么也没有留下。">
<meta itemprop="image" content="https://567899.xyz/images/avatar.png">

<link rel="canonical" href="https://567899.xyz">

<link rel="shortcut icon" href="/favicon.png">
<link rel="apple-itouch-icon" href="/favicon.png">
<link rel="stylesheet" href="/bundle/index.css">
<script type="text/javascript">
    var timeSinceLang = {
        year: '年前',
        month: '个月前',
        day: '天前',
        hour: '小时前',
        minute: '分钟前',
        second: '秒前'
    };
    var root = '';
</script>


        <meta name="keywords" content="screen,">
        <meta name="description" content="SSH远程会话管理工具screen使用教程">
        <meta name="author" content="567899.xyz">
        <title>SSH远程会话管理工具screen使用教程</title>
    </head>
    <body>
        <article class="container">
            <header class="header-wrap">
  <a class="index" href="/">
    <img class="logo" src="/images/avatar.png" />
    567899.xyz
  </a>
  <ul class="menu">
      <li class="menu-item"><a href="/archive.html">归档</a></li>
      <li class="menu-item"><a href="/tag.html">标签</a></li>
      <li class="menu-item"><a href="/atom.xml">订阅</a></li>
  </ul>
</header>

            <article class="main article">
                <h1 class="title">SSH远程会话管理工具screen使用教程</h1>
                <section class="info">
                    <span class="avatar" style="background-image: url(/images/avatar.png);"></span>
                    <a class="name" href="/about.me.html">567899.xyz</a>
                    
                    <span class="date" data-time="1466586000"><span class="from"></span></span>
                    
                    <span class="tags"><a class="tag" href="/tag/screen/index.html">screen</a></span>
                </section>
                <article class="content"><p>在刚接触Linux时最怕的就是SSH远程登录Linux VPS编译安装程序时（比如安装lnmp）网络突然断开，或者其他情况导致不得不与远程SSH服务器链接断开，远程执行的命令也被迫停止，只能重新连接，重新运行。</p>

<p>一、screen命令是什么？</p>

<p>Screen是一个可以在多个进程之间多路复用一个物理终端的全屏窗口管理器。Screen中有会话的概念，用户可以在一个screen会话中创建多个screen窗口，在每一个screen窗口中就像操作一个真实的telnet/SSH连接窗口那样。</p>

<p>二、如何安装screen命令？</p>

<p>除部分精简的系统或者定制的系统大部分都安装了screen命令，如果没有安装，
CentOS系统可以执行：</p>

<pre><code class="language-bash">yum install screen
</code></pre>

<p>Debian/Ubuntu系统执行：</p>

<pre><code class="language-bash">apt-get install screen
</code></pre>

<p>三、screen命令使用方法？</p>

<p>1、常用的使用方法</p>

<p>用来解决文章开始我们遇到的问题，比如在安装lnmp时。</p>

<p>1.1 创建screen会话</p>

<p>可以先执行：screen -S lnmp ，screen就会创建一个名字为lnmp的会话。 VPS侦探 <a href="https://www.vpser.net/">https://www.vpser.net/</a></p>

<p>1.2 暂时离开，保留screen会话中的任务或程序</p>

<p>当需要临时离开时（会话中的程序不会关闭，仍在运行）可以用快捷键Ctrl+a d(即按住Ctrl，依次再按a,d)</p>

<p>1.3 恢复screen会话</p>

<p>当回来时可以再执行执行：<code>screen -r lnmp</code> 即可恢复到离开前创建的lnmp会话的工作界面。如果忘记了，或者当时没有指定会话名，可以执行：screen -ls screen会列出当前存在的会话列表，如下图：</p>

<p>11791.lnmp即为刚才的screen创建的lnmp会话，目前已经暂时退出了lnmp会话，所以状态为Detached，当使用<code>screen -r lnmp</code>后状态就会变为Attached，11791是这个screen的会话的进程ID，恢复会话时也可以使用：screen -r 11791</p>

<p>1.4 关闭screen的会话</p>

<p>执行：<code>exit</code> 会提示：[screen is terminating]，表示已经成功退出screen会话。VPS侦探 <a href="https://www.vpser.net/">https://www.vpser.net/</a></p>

<p>2、远程演示
首先演示者先在服务器上执行 screen -S test 创建一个screen会话，观众可以链接到远程服务器上执行screen -x test 观众屏幕上就会出现和演示者同步。</p>

<p>3、常用快捷键</p>

<ul>
<li><code>Ctrl+a c</code> ：在当前screen会话中创建窗口</li>
<li><code>Ctrl+a w</code> ：窗口列表</li>
<li>`Ctrl+a n ：下一个窗口</li>
<li><code>Ctrl+a p</code> ：上一个窗口</li>
<li><code>Ctrl+a 0-9</code> ：在第0个窗口和第9个窗口之间切换</li>
</ul>

<p>执行：<code>screen -S lnmp</code> 创建screen会话。</p>

<ul>
<li>如果网络掉线，可以重新连接SSH，再执行 <code>screen -r lnmp</code> 就会看到你的lnmp安装进程。</li>
<li>有时候screen异常退出可能会提示状态为Attached，可以执行：<code>screen -D -r lnmp</code> 进行恢复。</li>
<li>有时候可能会创建了多个同名的screen会话，可以执行：<code>screen -ls</code> 查看对应会话的session id，然后使用<code>screen -D -r sessionid</code> 进行恢复。</li>
</ul>

<p>转载自： <a href="https://www.vpser.net/manage/screen.html">https://www.vpser.net/manage/screen.html</a></p>

<p>防止中途掉线</p>
</article>
                <section class="author">
                    <div class="avatar" style="background-image: url(/images/avatar.png);"></div>
                    <a class="name" href="/about.me.html">567899.xyz</a>
                    <div class="intro">记录折腾中的点点滴滴</div>
                </section>
                <section class="recommend">
                    
                    <section class="nav prev more">
                        <div class="head">上篇文章</div>
                        <a class="link" href="/git-push-pull-password.html">Git push/pull提交记住保存用户名和密码</a>
                    </section>
                    
                    
                    <section class="nav next more">
                        <div class="head">下篇文章</div>
                        <a class="link" href="/cmd-shutdown.html">cmd定时关机重启</a>
                    </section>
                    
                </section>
                
    <section id="disqus_thread"></section>
    <script type="text/javascript">
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//vvy.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>


            </article>
        </article>
        <footer class="footer">
    <span class="copyright">
        567899.xyz ©
        <script type="text/javascript">
            document.write(new Date().getFullYear());
        </script>
    </span>
    <span class="publish">Powered by <a href="http://www.chole.io/" target="_blank">Ink</a></span>
</footer>

        <script src="/bundle/index.js"></script>
    </body>
</html>
