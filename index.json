[{"content":"\r\n\r\n\r\n## 更新新版folderclone使用方法\r\n\r\n详情https://github.com/Spazzlo/folderclone\r\n\r\n---\r\n\r\n\r\n\r\n### [可选]加入Google Drive团队盘\r\n\r\n没有Google Drive团队盘的小伙伴可以自助添加\r\n\r\n1. 英国谢菲尔德大学：https://gdrive.zppcw.cn/\r\n2. 404 NOT FOUND：https://gd.404edu.workers.dev/\r\n3. https://gd.zxd.workers.dev/\r\n4. http://leon.educationhost.cloud/\r\n5. swccd.edu团队盘：https://teamdrive.xcpx.workers.dev/\r\n6. 洛杉矶加利福尼亚大学团队盘：https://ucla.ur.workers.dev/\r\n7. 日本国際大学团队盘：https://iuj.ur.workers.dev/\r\n8. 自动创建：https://www.teamdrive.workers.dev\r\n\r\n感谢大佬提供的Google Drive团队盘\r\n\r\n---\r\n\r\n===新版folderclone教程开始===\r\n\r\n### 第一步 安装folderclone\r\n\r\nLinux\r\n\r\nDebian/Ubuntu安装\r\n\r\n``` bash\r\napt update\r\napt install python3-pip git screen -y\r\ngit clone https://github.com/Spazzlo/folderclone.git\r\ncd folderclone\r\npip3 install folderclone\r\n```\r\n\r\n`CentOS`把`apt-get`替换成`yum` \r\n\r\n因拷贝时间长，防止中断，强烈建议使用`screen`后台运行。`screen`简单使用方法\r\n\r\n``` bash\r\n# 创建screen窗口,folderclone名字可自定义\r\nscreen -S folderclone\r\n# 临时退出使用screen后台运行,按组合键\r\n【Ctrl】【a】【d】\r\n# 回到screen窗口\r\nscreen -r folderclone\r\n```\r\n\r\nWindows安装\r\n\r\n[下载Python](https://www.python.org/downloads/)安装\r\n\r\n[Python 3.7.4 64-bit](https://www.python.org/ftp/python/3.7.4/python-3.7.4-amd64.exe) 、 [Python 3.8.1](https://www.python.org/ftp/python/3.8.1/python-3.8.1.exe)\r\n\r\n[下载folderclone源码](https://github.com/Spazzlo/folderclone/archive/master.zip)并解压，比如我的放置在`E:\\folderclone-master`\r\n\r\n**以管理员身份运行**  `cmd`或`Windows PowerShell`执行,且**确保本地cmd或Windows PowerShell稳定的外网环境。**\r\n\r\n``` bash\r\n# 进入folderclone解压根目录\r\ncd E:\\folderclone-master\r\npip install folderclone\r\n```\r\n\r\n### 第二步 开启Drive API服务\r\n\r\n打开登陆[Python Quickstart](https://developers.google.com/drive/api/v3/quickstart/python)  点击`Enable the Drive API`\r\n\r\n![](/images/PythonQuickstart.png)\r\n\r\n然后`DOWNLOAD CLIENT CONFIGUIRATION`\r\n\r\n![](/images/PythonQuickstart1.png)\r\n\r\n会下载一个`credentials.json`的文件，把`credentials.json`放置上传到folderclone解压根目录，如下图所示\r\n\r\n![](/images/folderclone_Python_Quickstart.png)\r\n\r\n\r\n在终端上，将目录更改为您刚才创建并运行的folderclone文件夹：\r\n\r\n``` bash\r\nmultimanager interactive\r\n```\r\n\r\n这将以交互模式启动多管理器。首先，将您带到登录页面进行身份验证。然后会提示您启用服务使用API​​。访问它提供的链接，启用API，然后返回并按Enter键重试。不必担心每次都要这样做，这是一次设置。\r\n\r\n\r\n然后会自动弹窗打开浏览器`选择账号`登陆\r\n\r\n![](/images/dvfvdfbtrt.png)\r\n\r\n【高级】\r\n\r\n![](/images/dvfvdfbtrtfefrg.png)\r\n\r\n![](/images/thhyrger434.png)\r\n\r\n【转至Quickstart（不安全）】【允许】`Quickstart`\r\n\r\n![](/images/ytjty6533grt.png)\r\n\r\n直到浏览器提示`The authentication flow has completed. You may close this window.`\r\n\r\n按提示复制里面的`3`个URL链接到浏览器中打开\r\n\r\n![](/images/serviceapigerg.png)\r\n\r\n启用API 和服务【Service Usage API】、【Cloud Resource Manager API】、【Cloud Resource Manager API】\r\n\r\n完成后按`Enter`回车键，将出现Multi Manager提示。\r\n\r\n``` bash\r\nMulti Manager\r\nmm\u003e\r\n```\r\n\r\n您已成功设置Multi Manager！\r\n\r\n### 第三步 创建SA机器人、添加成员到团队盘\r\n\r\n对于folderclone，您需要准备几个服务帐户（service accounts）。为此，请运行：\r\n\r\n``` bash\r\nmm\u003e quick-setup N SHARED_DRIVE_ID\r\n```\r\n\r\n`N`您要使用的项目数量以及`SHARED_DRIVE_ID`要复制到的共享驱动器的ID 在哪里。\r\n\r\n例如，假设我想复制100 TB的内容。我需要134个SA（每个750 GB）来进行复制，因此需要2个项目。我将复制到ID为`0ABCdeyz_ZaMsxxxLGA`的全新共享驱动器。我将运行：\r\n\r\n``` bash\r\nmm\u003e quick-setup 2 0ABCdeyz_ZaMsxxxLGA\r\n```\r\n\r\n![](/images/ERGEGTGRT454GHTRH.png)\r\n\r\n![](/images/folderclone-quick-setup.png)\r\n\r\n这将自动；\r\n\r\n- 创建2个项目\r\n- 启用所需的服务\r\n- 创建服务帐户\r\n- 将它们添加到共享驱动器\r\n- 并将其凭据下载到新文件夹中 `accounts`\r\n\r\n``` bash\r\nmm\u003e quick-setup 2 0AKqujK7R10w9Uk9PVA\r\nCreating 2 projects.\r\nEnabling services.\r\nCreating Service Accounts in mm-q1n5s5q0tenwkm6i-844bj5-43n\r\nCreating Service Account keys in mm-q1n5s5q0tenwkm6i-844bj5-43n\r\nCreating Service Accounts in mm-bj81pc594lhe8z4rr1jkk0871k5\r\nCreating Service Account keys in mm-bj81pc594lhe8z4rr1jkk0871k5\r\nFetching emails.\r\nAdding 200 users  #按回车键\r\nDone.\r\nmm\u003e\r\n```\r\n\r\n现在您可以进行下一步了。\r\n\r\n### 第四步 使用foldeclone拷贝文件(夹)\r\n\r\nmultifoldeclone是可以为您完成所有克隆的工具。这是最简单的使用方法。\r\n\r\n``` bash\r\nmultifolderclone -s SOURCE_FOLDER_ID -d DESTINATION_FOLDER_ID\r\n```\r\n\r\n凡`SOURCE_FOLDER_ID`（通过使该文件夹的公共或共享与服务使用的是具有复制账户文件夹确保源文件夹的服务帐户访问）是你要复制的文件夹的ID，并且`DESTINATION_FOLDER_ID`是您要复制到的文件夹的ID。这可以是共享驱动器的ID，也可以是共享驱动器中的文件夹。\r\n\r\n![](/images/folderclone-copy-433erg4545.png)\r\n\r\n这将自动开始克隆文件夹！就是这样！你做到了！\r\n\r\n---\r\n\r\n===新版folderclone教程结束===\r\n\r\n---\r\n\r\n## 关于Folderclone\r\n\r\nFolderclone，增加了服务帐户的TD成员和上载数据TB的，在使用某种算法每个服务帐户（750GB /天）的载配额。\r\n基本上我们可以通过一个项目在TD中添加100个服务帐户。因此，每天可以复制的最大数据是每个项目最大750GB * 100 = 75TB（每天）。\r\n\r\n首先计算您每天要复制的数据大小，取决于创建的项目数量。每个项目最多可以创建100个服务帐户。所以每个项目的复制容量是75tb。复制需要至少2个项目。\r\n\r\n本教程中TD = Team drive和GD = Gdrive文件夹\r\n\r\n详情请查看\r\n\r\nhttps://github.com/Spazzlo/folderclone\r\n\r\nhttps://github.com/SameerkumarP/Multifolderclone\r\n\r\nhttps://blackpearl.biz/threads/7408/\r\n\r\nhttps://blackpearl.biz/threads/7892/\r\n\r\n\r\n## 新建项目\r\n\r\n\r\n在Google云端控制台上设置2个项目转到[此处](https://console.developers.google.com) \r\n在【Google Cloud Platform】 【服务条款】中勾选【同意并继续】\r\n\r\n![](/images/folderclone/GoogleCloudPlatform.png)\r\n\r\n我们必须创建2个新项目，项目名称随便，例如我的项目名称是“foldercloneA”和“foldercloneB”。 \r\n\r\n### 新建项目foldercloneA\r\n\r\n在[Google云端控制台](https://console.developers.google.com) 【选择项目】【新建项目】\r\n\r\n![](/images/folderclone/folderclone1.png)\r\n\r\n![](/images/folderclone/foldercloneA1.png)\r\n\r\n\r\n在【API和服务】【库】里面搜索【Google Drive API】和【Identity and Access Management (IAM) API】并启用它们。\r\n\r\n\r\n![](/images/folderclone/apis.png)\r\n\r\n![](/images/folderclone/GoogleDriveAPI.png)\r\n\r\n![](/images/folderclone/Identity_and_Access_Management_IAM_API.png)\r\n\r\n\r\n【导航菜单】【IAM和管理】【IAM】\r\n\r\n![](/images/folderclone/apis1.png)\r\n\r\n【服务账号】【创建服务账号】\r\n\r\n![](/images/folderclone/apis2.png)\r\n\r\n【服务帐号详情】【服务帐号名称】随便填  比如我填写的是\r\n\r\n![](/images/folderclone/iam_admin_serviceaccounts.png)\r\n\r\n【服务帐号权限（可选）】【请选择一个角色】【Project】【所有者】\r\n\r\n![](/images/folderclone/iam_admin_serviceaccounts1.png)\r\n\r\n【+添加其它角色】\r\n\r\n![](/images/folderclone/iam_admin_serviceaccounts2.png)\r\n\r\n【请选择一个角色】【Service Accounts】【Service Account Admin 】\r\n\r\n![](/images/folderclone/iam_admin_serviceaccounts3.png)\r\n\r\n2个角色【Project-所有者】和【Service Account Admin 】【继续】\r\n\r\n![](/images/folderclone/iam_admin_serviceaccounts4.png)\r\n\r\n【创建密钥】【密钥类型】选择默认的【JSON】【创建】\r\n\r\n![](/images/folderclone/iam_admin_serviceaccounts5.png)\r\n\r\n私钥已保存到您的计算机\r\nfolderclonea-253301-XXXXXXf.json 可用来访问您的云端资源，请妥善保存。\r\n\r\n![](/images/folderclone/iam_admin_serviceaccounts6.png)\r\n\r\n打开刚才创建下载的文件folderclonea-253301-XXXXXXf.json找到client_email把里面生成的邮箱记下来\r\n\r\n![](/images/folderclone/folderclone_client_email.png)\r\n\r\n比如我的是【folderclone@folderclonea-253301.iam.gserviceaccount.com】\r\n\r\n\r\n### 新建项目foldercloneB\r\n\r\n在[Google云端控制台](https://console.developers.google.com)【创建项目】【foldercloneB】【选择项目】并切换到项目foldercloneB\r\n\r\n\r\n\r\n添加API【Google Drive API】和【Identity and Access Management (IAM) API】并启用它们。方法跟新建项目foldercloneA一样\r\n\r\n【导航菜单】【IAM和管理】【IAM】【添加】项目foldercloneA文件folderclonea-253301-XXXXXXf.json里的邮箱地址\r\n\r\n![](/images/folderclone/foldercloneB_add_iam_admin.png)\r\n\r\n![](/images/folderclone/foldercloneB_add_iam_admin1.png)\r\n\r\n![](/images/folderclone/foldercloneB_add_iam_admin2.png)\r\n\r\n并记录保存好foldercloneB_ID\r\n\r\n![](/images/folderclone/foldercloneB_ID.png)\r\n\r\n比如我这里的是foldercloneb-253302\r\n\r\n## 安装Python并配置依赖环境\r\n\r\n使用64-bit的Windows  \r\n\r\n### 下载Python并安装\r\n\r\n1. [下载Python 3.7.4 64-bit](https://www.python.org/ftp/python/3.7.4/python-3.7.4-amd64.exe) 并按如下图所示安装\r\n\r\n![](/images/folderclone/install_python1.png)\r\n\r\n![](/images/folderclone/install_python2.png)\r\n\r\n![](/images/folderclone/install_python3.png)\r\n\r\n### 安装依赖环境\r\n\r\n在C:\\Program Files\\Python37目录中按【Shift+鼠标右键】\r\n\r\n![](/images/folderclone/Python99.png)\r\n\r\n打开CMD安装以下依赖环境\r\n\r\n``` bash\r\npython -m pip install --upgrade pip\r\npip install oauth2client\r\npip install google-api-python-client\r\npip install progress\r\npip install progressbar2\r\npip install  httplib2shim\r\n```\r\n\r\n\r\n## 设置folderclone\r\n\r\n项目地址https://github.com/Spazzlo/folderclone  \r\n\r\n### 设置folderclone文件\r\n\r\n1. [本站下载Multifolderclone-master.zip](/uploads/Multifolderclone-master.zip) 或者克隆[下载folderclone](https://github.com/Spazzlo/folderclone/archive/master.zip)到本地 解压  移动文件夹到您想要的地方\r\n\r\n2. 在该目录下新建文件夹名为CONTROLLER\r\n\r\n![](/images/folderclone/CONTROLLER.png)\r\n\r\n3. 把项目foldercloneA文件folderclonea-253301-XXXXXXf.json复制到文件夹CONTROLLER目录下\r\n\r\n![](/images/folderclone/CONTROLLER1.png)\r\n\r\n\r\n\r\n### 生成并创建folderclone用户及配置文件\r\n\r\n进入folderclone文件夹目录\r\n\r\n![](/images/folderclone/folderclone_add_user.png)\r\n\r\n运行以下命令\r\n\r\n``` bash\r\npython serviceaccountfactory.py\r\n```\r\n\r\n然后手动输入foldercloneB_ID空格加数字100回车，回车\r\n\r\n输入生成的自定义邮箱前缀，比如我用的是users\r\n\r\n比如我这里的是foldercloneb-253302 100\r\n\r\n![](/images/folderclone/folderclone_users_config.png)\r\n\r\n等待完成后会生成文件夹accounts里面会看到1到199的用户配置文件\r\n\r\n![](/images/folderclone/accounts.png)\r\n\r\n![](/images/folderclone/accounts1.png)\r\n\r\n这时我们可以压缩保存整个文件夹了。\r\n\r\n\r\n## 共享云端硬盘添加成员\r\n\r\n1. 查看【共享云端硬盘】的ID\r\n\r\n![](/images/folderclone/team_ID.png)\r\n\r\n进入【共享云端硬盘】添加新成员项目folderclone-253301-XXXXXXf.json找到client_email里面的邮箱为管理员\r\n\r\n![](/images/folderclone/team_add_admin.png)\r\n\r\n进入folderclone文件夹目录\r\n\r\n![](/images/folderclone/folderclone_add_user.png)\r\n\r\n执行python masshare.py -d YYYYYY  其中YYYYYY替换成【共享云端硬盘】的ID\r\n\r\n``` bash\r\npython masshare.py -d YYYYYY\r\n```\r\n\r\n![](/images/folderclone/folderclone_add_user1.png)\r\n\r\n![](/images/folderclone/folderclone_add_user2.png)\r\n\r\n\r\n## 拷贝文件到共享云端硬盘\r\n\r\n先获取共享链接，且设置成知道此链接的任何人都可以查看\r\n\r\n![](/images/folderclone/googledrivesharelink.png)\r\n\r\n例如分享链接https://drive.google.com/open?id=1WyhcL9GbMQbtlhrmEGVSIGAltE_G5bRA\r\n\r\n![](/images/folderclone/sharefileID.png)\r\n\r\nid=1WyhcL9GbMQbtlhrmEGVSIGAltE_G5bRA\r\n\r\n如果是别人分享的链接，先右击选择添加到我的云端硬盘\r\n\r\n![](/images/folderclone/add_my_drive.png)\r\n\r\n 查看【共享云端硬盘】的ID\r\n\r\n![](/images/folderclone/team_ID.png)\r\n\r\n进入folderclone文件夹目录\r\n\r\n![](/images/folderclone/Multifolderclone-master.png)\r\n\r\n在CMD窗口执行\r\n\r\n``` bash\r\npython multifolderclone.py -s 源文件ID -d TD-ID\r\n```\r\n\r\n\r\n例如\r\n\r\n``` bash\r\npython multifolderclone.py -s 1WyhcL9GbMQbtlhrmEGVSIGAltE_G5bRA -d 0ANSyUOxsS0C7Uk9PVA\r\n```\r\n\r\n## 【共享云端硬盘】文件转移到【我的云端硬盘】\r\n\r\n借助【共享云端硬盘】作为文件中转站，我们可以将【共享云端硬盘】里面的文件或文件夹【移至】其它【共享云端硬盘】或者【我的云端硬盘】\r\n\r\n![](/images/folderclone/yizhi.png)\r\n\r\n![](/images/folderclone/tixing.png)\r\n\r\n文件所有者会变成我移动者且会占用空间大小\r\n\r\n![](/images/folderclone/tixing555.png)\r\n\r\n注意只能移至  相当于剪切  并不能复制\r\n\r\n\r\n## GD目标文件夹的准备\r\n\r\n比如我想要在【我的云端硬盘】里的某个文件夹里面复制转存文件，具体操作如下\r\n\r\n### 安装扩展程序Email Extractor\r\n\r\n[下载Chrome](https://dl.google.com/tag/s/dl/chrome/install/googlechromestandaloneenterprise64.msi) 浏览器，然后安装扩展程序[Email Extractor](https://chrome.google.com/webstore/detail/email-extractor/jdianbbpnakhcmfkcckaboohfgnngfcc?hl=en-US) \r\n\r\n![](/images/folderclone/add_EmailExtractor.png)\r\n\r\n\r\n![](/images/folderclone/EmailExtractor.png)\r\n\r\n### 获取源【共享云端硬盘】成员邮箱\r\n\r\n切换到目标【共享云端硬盘】然后点击扩展程序【Email Extractor】【Copy all】复制【共享云端硬盘】所有成员的邮箱。\r\n\r\n![](/images/folderclone/TDEmailExtractor.png)\r\n\r\n### 创建共享目录文件夹添加成员\r\n\r\n![](/images/folderclone/mydriveshare.png)\r\n\r\n在【共享对象】里面用【Ctrl+V】粘贴刚才复制的成员邮箱\r\n\r\n![](/images/folderclone/mydriveshareaddusers.png)\r\n\r\n![](/images/folderclone/mydriveshareaddusers1.png)\r\n\r\n现在您的GD目标文件夹已准备就绪。\r\n\r\n## GD到GD文件传输\r\n\r\n必须先完成上面的GD目标文件夹的准备，然后使用以下代码\r\n\r\n``` bash\r\npython multifolderclone.py -s ZZZZZZ -d DDDDDD\r\n```\r\n\r\n用源文件夹ID替换ZZZZZZ。\r\n并将DDDDDD替换为目标文件夹（您刚设置的文件夹）\r\n\r\n- 必须将共享文件夹添加到驱动器中\r\n- 源文件夹的公共链接必须处于活动状态，否则服务帐户无法访问源文件夹数据。\r\n\r\n## TD到GD文件传输\r\n\r\n必须先完成上面的GD目标文件夹的准备，然后使用以下代码\r\n\r\n``` bash \r\npython multifolderclone.py -s ZZZZZZ -d DDDDDD\r\n```\r\n\r\n用TD中的源文件夹ID替换ZZZZZZ，\r\n用目标文件夹替换DDDDDD（您刚设置的文件夹）\r\n\r\n1. 目标GD所在的帐户present必须是您正在传输文件的TD的管理员。\r\n2. 应在TD和GD中使用相同的服务帐户。\r\n\r\n## TD到TD文件传输\r\n\r\n现在我们要对2个TD进行处理。一个是源TD，一个是目的地TD。\r\n\r\n在根据我的原始帖子设置folderclone时，您必须使用这两个不同的TD ID运行masshare.py两次。\r\n\r\n``` bash\r\npython masshare.py -d 源TDid\r\n```\r\n\r\n``` bash\r\npython masshare.py -d 目的地TDid\r\n```\r\n\r\n之后，为了在TD到TD之间传输数据，请使用以下代码\r\n\r\n``` bash\r\npython multifolderclone.py -s ZZZZZZ -d DDDDDD\r\n```\r\n\r\n- 将ZZZZZZ替换为源TD中的源文件夹ID \r\n- 将DDDDDD替换为目标TD中的目标文件夹。\r\n\r\n\r\n要记住的事项\r\n\r\n1. 必须将相同的服务帐户添加到两个TD。\r\n2. 您将使用的源文件夹，必须生成公共链接。\r\n3. 在所有情况下，必须将源共享文件夹添加到驱动器中\r\n\r\n## 注意事项\r\n\r\n1. folderclone在拷贝文件夹数目多的时候不全会丢文件，文件夹较少就不会，比如就在那么几个文件夹，哪怕每个文件夹目录下有成千上万个文件也没事。\r\n2. 运行CMD窗口不要太多，最好最多就俩个吧，多了会大概率丢文件。\r\n3. 速度比[Copy, URL to Google Drive](https://softgateon.herokuapp.com/urltodrive)快\r\n4. Folderclone丢失文件，拷贝不全不完整怎么办？删除重来或者用rclone copy校验补全\r\n5. 文件刚分享或者刚移动文件(夹)不久，不要立刻使用folderclone，有时间延迟，最好适量等侍一会，否则会出现很多空文件夹或者丢失文件太离谱，我一般会隔一天再操作。\r\n6. 使用[sstap](/uploads/sstap-beta-1.0.9.7.exe.7z)全局富强上网。\r\n","cover":"/images/google-drive-cover.png","link":"google_drive_folderclone.html","preview":"\u003cp\u003e超级详细Folderclone使用的图文教程，更新新版Folderclone的使用方法\u003c/p\u003e\n","title":"[更新]Folderclone谷歌Google Drive共享云端硬盘转存相互转移拷贝复制文件的正确姿势"},{"content":"\n\n### 注册使用Goorm免费VPS\n\nGoorm官网 https://www.goorm.io/\n\n1. [注册](https://accounts.goorm.io/signup) **需要验证邮箱地址**  \n2. [登陆](https://accounts.goorm.io/login)\n3. [管理面板](https://ide.goorm.io/my/)\n4. [新建VPS](https://accounts.goorm.io/container/new)\n\nRegion地区\n\n1. Oregon (US)\n2. Seoul (KOR) 建议选择韩国首尔，国内访问快。\n3. Frankfurt (DE)\n4. Mumbai (IN)\n\n推荐系统镜像\n\n1. Stack推荐选择`Java`\n2. Template: Java Console Project\n3. Base image:Ubuntu 14.04 LTS\n4. 其它按需要选择`Port\n\n该系统能运行`service xxx start`  `ping www.baidu.com`等，部分其它系统无法运行此类命令。避免掉坑里\n\n`Port Forwarding`添加端口号\n\n### 保持始终运行\n\nAlways-on: Available only with PREMIUM plan\n\n机翻`永远在线：仅适用于高级套餐`\n\n方法一：通过注册N个账号，每个账号均会获得一枚5天的高级套餐体验，可以重复叠加使用。\n\n注意：去邮箱垃圾箱查看，Gmail分类在`推广`里面。\n\n方法二： 浏览器后台运行`goormIDE`\n\n注意：不能关闭`goormIDE`窗口，使它后台运行。同时得保持它不能长时间无操作，防止自动关机休眠。可执行以下命令\n\n``` bash\nping www.baidu.com\n```\n\n![](/images/goormIDE.png)\n\n- Windows系统在浏览器，这个就不说了，相信小伙伴都会。\n- Linux可以通过[安装VNC和Firefox浏览器](/debian-lxde-vnc-firefox.html)来运行。\n\n\n演示: https://goorm.567899.xyz:55102/  演示站使用的是浏览器后台运行`goormIDE` 并非使用5天高级套餐体验券。\n\n### 注意事项\n\n1. 免费套餐只能同时运行1个VPS、2个NAT端口号;\n2. 每次开机IP地址、端口号会变;\n3. 部分应用程序不会开机自动启动，需要手动启动。\n","cover":"","link":"goorm.html","preview":"","title":"Goorm免费NAT VPS"},{"content":"\n\n怎么快速拷贝1000T资源到我的Google Drive？\n\n必须是Rclone/AutoRclone啊！一直不想写关于AutoRclone的（中文）教程，因为其一直处于测试阶段，如果后面代码有大的更新那么前面的教程对于后面的人来说就是一个误导。但是现在应该不会有大的更新了，而且这么长时间的测试发现如果没有一个详细的教程的话，会让很多不会程序的小白错过这么好的工具 :)\n\nAutoRclone是一个用Python写的小程序的集合，其\n\n* 学习了folderclone利用service accounts来替代普通Google账号进行拷贝/上传；\n* 通过rclone rc来做到对Rclone任务的监、控；\n* 还可以用Google Groups的形式对成百上千的service accounts进行管理。\n\n从而方便快速地\n\n* 从本地到 Team Drive，\n* 从公共分享目录到 Team Drive，\n* 再或者从 Team Drive 到 Team Drive。\n\n其食用方法极其简单！\n\n### 步骤 1 下载代码\n\n首先不管你是哪个操作系统，需要安装Python。对于Linux和Windows分别用以下方式安装相关脚本\n\n**Linux:** 安装screen，git和最新的Rclone。如果是Debian/Ubuntu，直接输入以下命令\n\n``` bash\nsudo apt-get update\nsudo apt-get install -y python3-pip screen git curl\ncurl https://rclone.org/install.sh | sudo bash\n```\n\n**CentOS**把`apt-get`替换成`yum`\n\n然后从Github下载代码并安装相关Python依赖包\n\n``` bash\nsudo git clone https://github.com/xyou365/AutoRclone \u0026\u0026 cd AutoRclone \u0026\u0026 sudo pip3 install -r requirements.txt\n```\n\n**Windows:** 安装最新的[Rclone](https://rclone.org/downloads/)，直接从Github下载[AutoRclone](https://github.com/xyou365/AutoRclone)后在Windows的cmd或PowerShell中切换到AutoRclone的目录，输入以下命令安装相关Python依赖包\n\n``` bash\npip3 install -r requirements.txt\n```\n\n- 以上步骤如果输入python3没有反应，请输入python或者py3\n- 以下所有步骤由于需要用到谷歌服务，请确保cmd或者vps能够翻墙\n\n### 步骤 2 生成service accounts\n\n首先开启Drive API[Enable the Drive API](https://developers.google.com/drive/api/v3/quickstart/python)并将`credentials.json`保存到你的AutoRclone目录下面\n\n开启Drive API然后分三种情况\n\n如果你之前没创建过项目, 直接运行\n\n``` bash\npython3 gen_sa_accounts.py --quick-setup 5\n```\n\n1. 创建6个项目（项目0到项目5）\n2. 按提示打开url链接、登陆、授权允许信任`Quickstart`启用`Service Usage API`\n3. 创建600个service accounts（6个项目，每个项目100个）\n4. 将600个service accounts的授权文件下载到accounts文件夹下面\n\n查看`quickstart`这个项目，可以看到里面只有一个 OAuth 授权，下载这个授权文件，放到AutoRclone目录下。\n\n![](/images/quickstart-OAuth-ID-4RTTHTRH5.png)\n\n如果你已经有N个项目，现需要创建新的项目并在新的项目中创建`service accounts`直接运行\n\n``` bash\npython3 gen_sa_accounts.py --quick-setup 2 --new-only\n```\n\n1. 额外创建2个项目（项目N+1到项目N+2）\n2. 开启相关的服务\n3. 创建200个service accounts（2个项目，每个项目100个）\n4. 将200个service accounts的授权文件下载到accounts文件夹下面\n\n如果你想用已有的项目来创建service accounts（不创建新的项目），直接运行\n\n``` bash\npython3 gen_sa_accounts.py --quick-setup -1\n```\n\n注意这会覆盖掉已有的service accounts\n\n顺利完成后，AutoRclone文件下面的accounts文件夹下会有很多的json文件。\n\n### 步骤 3 可选：将service accounts加入Google Groups\n\n为了方便管理service accounts，也是为了让我们的Team Drive可以容纳更多的service accounts，我们这里用到了Google Groups。\n\n\u003e [Official limits to the members of Team Drive](https://support.google.com/a/answer/7338880?hl=en) (Limit for individuals and groups directly added as members is 600).\n\n对于G Suite管理员\n\n1. 按照[官方步骤](https://developers.google.com/admin-sdk/directory/v1/quickstart/python)开启Directory API，将生成的json文件保存到credentials文件下。\n2. 在[控制面版](https://support.google.com/a/answer/33343?hl=en)里面创建一个群组，创建好你会获得一个类似域名邮箱的地址sa@yourdomain.com\n3. 利用API将service accounts加入Google Groups\n\n``` bash\npython3 add_to_google_group.py -g sa@yourdomain.com\n```\n\n如果想看参数的具体含义，直接运行`python3 add_to_google_group.py -h`\n\n对于普通Google账号\n\n直接创建一个[Google Group](https://groups.google.com/)然后手动地将service accounts对应的邮箱地址（可以在json认证文件中找到）挨个加进去。但每次只能加10个，每24小时只能加100个。\n\n### 步骤 4 将service accounts或者Google Groups加入到Team Drive\n\n- 如果你没有Team Drive，那可以找朋友帮你开一个或者去买一个，实在不嫌弃也可以留言找博主开一个\n- 如果你已经在完成了步骤2中的用Google Groups来管理service accounts，那么直接将Google Groups地址sa@yourdomain.com或者sb@googlegroups.com加入你的源Team Drive（tdsrc）和目标Team Drive（tddst）\n- 如果你在步骤2中没有生成并保存credentials.json那么再做一遍\n\n将service accounts加入到源Team Drive\n\n``` bash\npython3 add_to_team_drive.py -d SharedTeamDriveSrcID\n```\n\n将service accounts加入到目标Team Drive\n\n``` bash\npython3 add_to_team_drive.py -d SharedTeamDriveDstID\n```\n\n### 步骤 5 开始拷贝/上传\n\n准备工作都做好了，以后你只需要将项目文件夹拷贝到任何地方，进行此拷贝/上传步骤就可以啦\n\n拷贝\n\n``` bash\npython3 rclone_sa_magic.py -s SourceID -d DestinationID -dp DestinationPathName -b 1 -e 600\n```\n\n1. `-s`后跟源文件文件夹id\n2. `-d`后跟团队盘id\n3. `-dp`后跟保存的目标文件夹路径\n4. `-b`后跟开始账号序号\n5. `-e`后跟结束账号序号,**少于或等于已经添加到团队盘成员的个数数值**\n\n其它\n\n1. 如果想看参数的具体含义，直接运行`python3 rclone_sa_magic.py -h`\n2. 特别地，如果想多开，请用`-p`参数给不同的复制任务指定不同的端口\n3. 如果发现拷贝内容明显少于源Team Drive里面的内容，那么你可能碰到[Bug](https://forum.rclone.org/t/rclone-cannot-see-all-files-folder-in-public-shared-folder/12351)了，请给上运行参数再加上`--disable_list_r`\n4. 如果你一开始就碰到了\n\n``` bash\nFailed to rc: connection failed: Post http://localhost:5572/core/stats: dial tcp :5572: connectex: No connection could be made because the target machine actively refused it.\n```\n\n那么可能是权限或者路径导致Rclone任务都没跑起来，请观察日志文件`log_rclone.txt`，并结合如下简单命令检查出原因\n\n``` bash\nrclone --config rclone.conf size --disable ListR src001:，rclone --config rclone.conf size --disable ListR dst001:\n```\n\n上传\n\n``` bash\npython3 rclone_sa_magic.py -sp YourLocalPath -d DestinationID -dp DestinationPathName -b 1 -e 600\n```\n\n拷贝截图\n\n不出意外应该就可以跑起来了。每个service account的总的时间消耗是校验时间+拷贝时间，如果你的拷贝任务比较大的话建议将其（按文件夹）稍微拆分，挨个或者并行完成，这样能极大减小每次切换service accounts后不必要的校验时间。另外关于拷贝速度，API调用限制了每秒不超过10次调用，每次拷贝固定数量的文件数目，所以如果你的任务中的文件比较小的话，拷贝速度可能是每秒几百MB，文件都比较大的话，拷贝速度可能是几十GB/s。\n\n### 一些 Q \u0026 A\n\nQ. 怎么检查是否拷贝完全？发现丢文件了？\nA. 拷贝完请做以下检查\n\n``` bash\nrclone --config rclone.conf size src001:源路径\nrclone --config rclone.conf size dst001:目标路径\n```\n\n如果发现目标盘比源盘体积还要大，那么对目标盘进行去重；如果发现目标盘比源盘少文件了，那么再拷贝一次；如果还是少，那么就是源盘里面的有重复文件了，直接对其进行去重复。去重命令：\n\n``` bash\nrclone --config rclone.conf dedupe dst001:源路径\nrclone --config rclone.conf dedupe src001:目标路径\n```\n\n转载自https://gsuitems.com/index.php/archives/13/\n","cover":"","link":"autorclone.html","preview":"","title":"【转载】Rclone 750G自动换号– AutoRclone使用教程"},{"content":"\n\n\u003e Github地址：https://github.com/vcheckzen/FODI\n\n预览 [DEMO](https://logi.im/fodi.html)\n\n### 获取 refresh_token\n\n[国际版、个人版、家庭版](https://service-36wivxsc-1256127833.ap-hongkong.apigateway.myqcloud.com/release/scf_onedrive_filelistor)  、 [中国世纪互联版](https://service-gzs9xkdm-1256127833.ap-hongkong.apigateway.myqcloud.com/release/onedrive-token-cn)\n\n点击其中的 `Get a refresh_token`，在打开的微软账号登录页面中，填写你的 OneDrive 账号和密码，完成登录。\n\n登录完毕后浏览器将跳转回上面的页面，此时修改网址，从左往右找到第一个`?`将其删除,再找到第一个 `\u0026`将其改为`?` **注意要使用英文输入法**\n\n![](/images/fodi_refresh_token.png)\n\n下面是修改前后的网址对比：\n\n``` bash\n#修改前\nhttps://service-36wivxsc-1256127833.ap-hongkong.apigateway.myqcloud.com/release/scf_onedrive_filelistor/?authorization_code\u0026code=...\n#修改后\nhttps://service-36wivxsc-1256127833.ap-hongkong.apigateway.myqcloud.com/release/scf_onedrive_filelistor/authorization_code?code=...\n```\n\n修改完毕后直接回车，稍等片刻页面将返回 `refresh_token`，复制保存。\n\n![](/images/fodi_refresh_token1.png)\n\n### 部署FODI后端\n\n创建[Cloudflare Workers](https://workers.cloudflare.com)编辑界面里面的代码替换成[index.js](https://raw.githubusercontent.com/vcheckzen/FODI/master/back-end-cf/index.js)\n\n找到并修改`const ONEDRIVE_REFRESHTOKEN = \"xxxxxxxxxxxxxxxxx\"`\n\n其中`xxxxxxxxxxxxxxxxx`为`refresh_token`的参数\n\n### 通过[Github Pages](https://pages.github.com)部署前端\n\n打开[index.html](https://raw.githubusercontent.com/vcheckzen/FODI-FRONT-END/master/index.html)在`SCF_GATEWAY`中填上你的[Cloudflare Workers](https://workers.cloudflare.com)地址\n\n``` bash\n/**\n* SCF_GATEWAY：SCF 云函数网关地址\n* SITE_NAME：站点名称\n*/\nwindow.GLOBAL_CONFIG = {\n    SCF_GATEWAY: \"https://xxxx.xxx.workers.dev\",\n    SITE_NAME: \"FODI\",\n    IS_CF: true\n};\n```\n\n### 其它\n\n在某个文件夹下添加`.password`文件加密码,`README.md`Markdown语法自述文件.注意文件必须以**UTF-8无BOM格式编码**且密码前后不能有空格或空行\n\n转载自：https://logi.im/back-end/fodi-on-cloudflare.html\n","cover":"","link":"fodi.html","preview":"\u003cp\u003eOneDrive列表程序FODI,不需要服务器，利用Cloudflare Workers和Github Pages搭建FODI\u003c/p\u003e\n","title":"在Cloudflare Workers和Github Pages部署FODI"},{"content":"\n\n\n\u003e [Github地址](https://github.com/MoeClub/OneList)\n\n目前OneDrive目录程序已经很多了，比如：PyOne、OneIndex和OLAINDEX。\n\nOneList主要特色就是解决了因OneDrive API抽风导致的很多问题，稳定性和访问速度都是不错的。\n\n### 更新\n\n``` bash\n【2020.01.09】\n修复内存占用过大。\n新增支持在线视频播放的移动端自适应主题。\n\n【2019.12.29】\n新增隐藏目录或者文件。直接跳过缓存，减少API调用。\n新增目录加密，支持不同目录不同账户密码。HTTP 401认证。\n\n【2019.12.28】\n新增搜索功能。\n功能\n支持国际版、个人免费版(家庭版)、中国版(世纪互联)。\n支持同时列出多个盘的目录。(要求每个盘的SubPath唯一)\n支持文件夹内超过200个项目。\n支持后台自动刷新缓存。\n支持路径中含有特殊字符。\n数据储存在内存中，响应更加迅速。\n```\n\n### 安装\n\nGithub地址：https://github.com/MoeClub/OneList/tree/master/Rewrite\n\n1、授权认证\n\n点击右侧URL登录并授权，授权[国际版\\个人版\\家庭版](https://login.microsoftonline.com/common/oauth2/v2.0/authorize?client_id=78d4dc35-7e46-42c6-9023-2d39314433a5\u0026response_type=code\u0026redirect_uri=http://localhost/onedrive-login\u0026response_mode=query\u0026scope=offline_access%20User.Read%20Files.ReadWrite.All) 、[中国世纪互联版](https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize?client_id=dfe36e60-6133-48cf-869f-4d15b8354769\u0026response_type=code\u0026redirect_uri=http://localhost/onedrive-login\u0026response_mode=query\u0026scope=offline_access%20User.Read%20Files.ReadWrite.All)。\n\n授权后会获取一个localhost开头打不开的链接，这里复制好整个链接地址，包括localhost。\n\n2、安装OneList\n\n``` bash\n#新建并进入OneList目录\nmkdir /opt/OneList \u0026\u0026 cd $_\n\n#64位系统下载\nwget https://raw.githubusercontent.com/MoeClub/OneList/master/Rewrite/amd64/linux/OneList\n#32位系统下载\nwget https://raw.githubusercontent.com/MoeClub/OneList//master/Rewrite/i386/linux/OneList\n#arm架构下载\nwget https://raw.githubusercontent.com/MoeClub/OneList/master/Rewrite/arm/linux/OneList\n    \n#给予权限\nchmod +x OneList\n```\n\n### 使用命令\n\n``` bash\nUsage of OneList:\n  -a string\n        // 初始化配置文件,添加新配置\n        Setup and Init auth.json.\n  -bind string\n        // 绑定IP地址(公网: 0.0.0.0)\n        Bind Address (default \"127.0.0.1\")\n  -port string\n        // 绑定端口(HTTP:80)\n        Port (default \"5288\")\n  -s string\n        // 设置 SubPath 项, 需要与 -a 一起使用.\n        Set SubPath. [unique per account] (default \"/\")\n  -c string\n        // 配置文件\n        Config file. (default \"config.json\")\n  -t string\n        // Index.html 目录样式文件\n        Index file. (default \"index.html\")\n  -cn\n        // 开关\n        // 授权中国版(世纪互联), 需要此参数.\n        OneDrive by 21Vianet.\n  -ms\n        // 开关\n        // 授权个人版(家庭版), 需要此参数.\n        OneDrive by Microsoft.\n```\n\n4、生成配置文件\n\n``` bash\n#国际版，将url换成你上面复制的授权地址，包括http://loaclhost。\n./OneList -a \"url\" -s \"/onedrive01\"\n\n#个人版(家庭版)，将url换成你上面复制的授权地址，包括http://loaclhost。\n./OneList -ms -a \"url\" -s \"/onedrive02\"\n\n#中国版(世纪互联)，将url换成你上面复制的授权地址，包括http://loaclhost。\n./OneList -cn -a \"url\" -s \"/onedrive03\"\n```\n\n提示**Success! Add config. '/path/to/config.json'**信息，则添加成功。\n\n这里要注意的是：\n\n``` bash\n1、授权url地址只能用一次，超过需要重新授权。\n2、命令中的/onedrive01参数为指定网盘地址后缀，比如http://domain.com/onedrive01。\n3、授权多个网盘的话，重复授权多次即可，参数均会添加到一个配置文件，且后缀不能重复。\n4、地址后缀填错了的，可以稍后在配置文件中修改。\n```\n\n本文默认的配置文件路径`/opt/OneList/config.json`，参数详解，可自行修改：\n\n``` bash\n[\n  {\n    // 如果是家庭版或者个人免费版, 此项应为 true.\n    \"MSAccount\": false,\n    // 如果是中国版(世纪互联), 此项应为 true.\n    \"MainLand\": false,\n    // 授权令牌\n    \"RefreshToken\": \"1234564567890ABCDEF\",\n    // 单配置文件中,此项要唯一.将此OneDrive中设置为`RootPath`目录映射在`http://127.0.0.1:5288/onedrive` 下.\n    // (只推荐一个盘位的时候使用根目录\"/\".)\n    \"SubPath\": \"/onedrive\",\n    // 读取OneDrive的某个目录作为根目录. (支持根目录\"/\")\n    \"RootPath\": \"/Test\",\n    // 隐藏OneDrive目录中的文件夹和文件, 条目间使用 \"|\" 分割. (跳过缓存设置的条目.)\n    \"HidePath\": \"/Test/Obj01|/Test/Obj02\",\n    // 使用用户名和密码加密OneDrive目录. 目录和用户名密码间使用 \"?\" 分割, 用户名密码使用 \":\" 分割, 条目间使用 \"|\" 分割. 无效条目将跳过.\n    \"AuthPath\": \"/Test/Auth01?user01:pwd01|/Test/Auth02?user02:pwd02\",\n    // 缓存刷新间隔.(所有项目中的刷新时间取最小值为有效刷新间隔)\n    \"RefreshInterval\": 900\n  }\n]\n```\n\n这里注意，挂载多个盘符的时候，`SubPath`参数请不要为`/`，单个网盘建议为`/`。\n\n### 运行OneList\n\n``` bash\n#下载默认的index.html主题，与config.json同目录，即本文默认的/opt/OneList\nwget https://raw.githubusercontent.com/MoeClub/OneList/master/Rewrite/index.html -P /opt/OneList\n#监听8000地址，自行修改\n/opt/OneList/OneList -bind 0.0.0.0 -port 8000\n最后打开ip:端口访问即可，如果你挂载网盘的时候SubPath为/，那么直接通过根目录查看，如果为/onedrive1，那么通过ip:端口/onedrive1查看，如果该路径不存在，则会提示No Found.。\n```\n\n且首次运行会异步缓存，也就是至少有一个盘缓存成功了，才会显示。\n\n### 开机自启\n这里新建一个简单的systemd配置文件，适用CentOS 7、Debian 8+、Ubuntu 16+。\n\n使用命令：\n\n``` bash\n#设置你的运行监听端口，即你可以通过ip:端口访问程序，这里默认8000。\nport=\"8000\"\n#将以下代码一起复制到SSH运行\ncat \u003e /etc/systemd/system/onelist.service \u003c\u003cEOF\n[Unit]\nDescription=onelist\nAfter=network.target\n\n[Service]\nType=simple\nExecStart=/opt/OneList/OneList -bind 0.0.0.0 -port ${port}\nRestart=on-failure\n\n[Install]\nWantedBy=multi-user.target\nEOF\n#启动并设置开机自启\nsystemctl start onelist\nsystemctl enable onelist\n```\n\n### 更换主题\n\n提示：下载主题的index.html文件，覆盖默认index.html文件，本文默认存放/opt/OneList，然后重启程序即可\n\n主题地址：https://github.com/MoeClub/OneList/tree/master/Rewrite/@Theme\n\n1、HaorWu\n\n``` bash\n#作者\nhttps://github.com/HaorWu\n\n#特点\n支持移动端自适应\n支持当页搜索\n支持按文件名, 日期, 大小排序\n支持主动查看图片\n支持在线播放视频\n\n#下载地址\nhttps://raw.githubusercontent.com/MoeClub/OneList/master/Rewrite/%40Theme/HaorWu/index.html\n```\n\n2、jackjieYYY\n\n``` bash\n#作者\nhttps://github.com/jackjieYYY\nhttps://www.hostloc.com/space-uid-38920.html\n\n#特点\n支持移动端自适应\n支持当页搜索\n支持按文件名, 日期, 大小排序\n支持在线播放视频\n\n#下载地址\nhttps://raw.githubusercontent.com/MoeClub/OneList/master/Rewrite/%40Theme/jackjieYYY/index.html\n```\n\n### 相关命令\n\n``` bash\n启动：systemctl start onelist\n停止：systemctl stop onelist\n重启：systemctl restart onelist\n查看状态：systemctl status onelist\n```\n\n### 卸载\n\n``` bash\n#未设置开机自启\nrm -rf /opt/OneList\n\n#设置过开机自启\nsystemctl stop onelist\nsystemctl disable onelist\nrm -rf /opt/OneList /etc/systemd/system/onelist.service\n```\n\n最后如果我们只想显示网盘的某些文件夹，那么可以分别挂载该网盘的不同目录即可，具体操作看配置文件说明。\n\n转载自：https://www.moerats.com/archives/1016/\n\n---\n\nnginx反代\n\n``` bash\n\t#反代127.0.0.1:3000\n    location ^~ /25tb/ {\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_pass http://127.0.0.1:3000;\n    }\n\t#301跳转\n\trewrite / /25tb/ last;\n```\n","cover":"","link":"onelist.html","preview":"","title":"OneList又一款OneDrive列目录程序,解决API抽风问题"},{"content":"\n\n#### 世纪互联 OneDrive 获取 CLIENT_ID 及 CLIENT_SECRET\n\n打开 https://portal.azure.cn/ 登陆并按以下步骤：\n\n1. 左侧找到 `Azure Active Directory` 点击\n2. 左侧找到 [应用注册](https://portal.azure.cn/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/RegisteredApps) \n3. 上方找到 `新注册` 点击\n4. 名称：`onedrive`\n5. 受支持的账户类型：\t`任何组织目录(任何 Azure AD 目录 - 多租户)中的帐户`（第二个）\n6. 重定向 URL：`http://localhost:53682`\n7. 点击注册 找到 `应用程序(客户端) ID`  **复制client_ID保存**\n8. 左侧找到 `证书和密码` 点击\n9. 下方 `客户端密码` - `新客户端密码`\n10. 说明：`onedrive`\n11. 截止期限：默认 `1年内`\n12. 点击 添加，`值` 客户端密码  **复制client_secret保存**\n13. 左侧找到 `API 权限` 点击\n14. `添加权限`  - `Microsoft Graph` - `委托的权限` - `Files (7)`全部勾选\n15. 选择`应用程序权限` 在下方`Files`里选择 `Files.Read.All`和`Files.ReadWrite.All`\n\n回到界面会发现该权限处于未授权状态，**我们需要全局管理员点击**  `代表XXXX授予管理员同意`\n\n``` bash\nFiles.Read\nFiles.Read.All\nFiles.Read.Selected\nFiles.ReadWrite\nFiles.ReadWrite.All\nFiles.ReadWrite.AppFolder\nFiles.ReadWrite.Selected\n```\n\n#### 安装配置 Rclone\n\nRclone 世纪互联版地址：[兼容世纪互联的 Rclone](https://www.hostloc.com/thread-612579-1-1.html)\n\n预编译兼容世纪互联的 Rclone v1.50.2\n\n[Linux 32位](/uploads/rclone-v1.50.2-linux-386-21vianet.zip) | [Linux 64位](/uploads/rclone-v1.50.2-linux-amd64-21vianet.zip) | [Windows 32位](/uploads/rclone-v1.50.2-windows-386-21vianet.zip) | [Windows 64位](/uploads/rclone-v1.50.2-windows-amd64-21vianet.zip)\n\n下载解压上传到 `/usr/bin` 目录，然后 \n\n``` bash\nchmod +x /usr/bin/rclone\nrclone config\n```\n\n完整配置过程如下\n\n``` bash\nMicrosoft Windows [版本 10.0.17763.316]\n(c) 2018 Microsoft Corporation。保留所有权利。\n\nC:\\Users\\user\u003ecd C:\\Users\\user\\Desktop\\rclone-v1.50.2-windows-amd64-21vianet\n\nC:\\Users\\user\\Desktop\\rclone-v1.50.2-windows-amd64-21vianet\u003erclone config\n2020/02/01 13:46:21 NOTICE: Config file \"C:\\\\Users\\\\user\\\\.config\\\\rclone\\\\rclone.conf\" not found - using defaults\nNo remotes found - make a new one\nn) New remote\ns) Set configuration password\nq) Quit config\nn/s/q\u003e n\nname\u003e onedrive_cn\nType of storage to configure.\nEnter a string value. Press Enter for the default (\"\").\nChoose a number from below, or type in your own value\n 1 / 1Fichier\n   \\ \"fichier\"\n 2 / Alias for an existing remote\n   \\ \"alias\"\n 3 / Amazon Drive\n   \\ \"amazon cloud drive\"\n 4 / Amazon S3 Compliant Storage Provider (AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, etc)\n   \\ \"s3\"\n 5 / Backblaze B2\n   \\ \"b2\"\n 6 / Box\n   \\ \"box\"\n 7 / Cache a remote\n   \\ \"cache\"\n 8 / Citrix Sharefile\n   \\ \"sharefile\"\n 9 / Dropbox\n   \\ \"dropbox\"\n10 / Encrypt/Decrypt a remote\n   \\ \"crypt\"\n11 / FTP Connection\n   \\ \"ftp\"\n12 / Google Cloud Storage (this is not Google Drive)\n   \\ \"google cloud storage\"\n13 / Google Drive\n   \\ \"drive\"\n14 / Google Photos\n   \\ \"google photos\"\n15 / Hubic\n   \\ \"hubic\"\n16 / JottaCloud\n   \\ \"jottacloud\"\n17 / Koofr\n   \\ \"koofr\"\n18 / Local Disk\n   \\ \"local\"\n19 / Mail.ru Cloud\n   \\ \"mailru\"\n20 / Mega\n   \\ \"mega\"\n21 / Microsoft Azure Blob Storage\n   \\ \"azureblob\"\n22 / Microsoft OneDrive\n   \\ \"onedrive\"\n23 / OpenDrive\n   \\ \"opendrive\"\n24 / Openstack Swift (Rackspace Cloud Files, Memset Memstore, OVH)\n   \\ \"swift\"\n25 / Pcloud\n   \\ \"pcloud\"\n26 / Put.io\n   \\ \"putio\"\n27 / QingCloud Object Storage\n   \\ \"qingstor\"\n28 / SSH/SFTP Connection\n   \\ \"sftp\"\n29 / Transparently chunk/split large files\n   \\ \"chunker\"\n30 / Union merges the contents of several remotes\n   \\ \"union\"\n31 / Webdav\n   \\ \"webdav\"\n32 / Yandex Disk\n   \\ \"yandex\"\n33 / http Connection\n   \\ \"http\"\n34 / premiumize.me\n   \\ \"premiumizeme\"\nStorage\u003e 22\n** See help for onedrive backend at: https://rclone.org/onedrive/ **\n\nMicrosoft App Client Id\nLeave blank normally.\nEnter a string value. Press Enter for the default (\"\").\nclient_id\u003e 6b57cb03-3791-4823-9ce9-5dd027e*****\nMicrosoft App Client Secret\nLeave blank normally.\nEnter a string value. Press Enter for the default (\"\").\nclient_secret\u003e l05:IBoAAVh4]Y]4M_?9lgw-L8******\nOneDrive operated by 21Vianet (世纪互联).\nEnter a boolean value (true or false). Press Enter for the default (\"false\").\nis_21vianet_version\u003e true\nEdit advanced config? (y/n)\ny) Yes\nn) No\ny/n\u003e y\nChunk size to upload files with - must be multiple of 320k (327,680 bytes).\n\nAbove this size files will be chunked - must be multiple of 320k (327,680 bytes). Note\nthat the chunks will be buffered into memory.\nEnter a size with suffix k,M,G,T. Press Enter for the default (\"10M\").\nchunk_size\u003e 10M\nThe ID of the drive to use\nEnter a string value. Press Enter for the default (\"\").\ndrive_id\u003e\nThe type of the drive ( personal | business | documentLibrary )\nEnter a string value. Press Enter for the default (\"\").\ndrive_type\u003e business\nSet to make OneNote files show up in directory listings.\n\nBy default rclone will hide OneNote files in directory listings because\noperations like \"Open\" and \"Update\" won't work on them.  But this\nbehaviour may also prevent you from deleting them.  If you want to\ndelete OneNote files or otherwise want them to show up in directory\nlisting, set this option.\nEnter a boolean value (true or false). Press Enter for the default (\"false\").\nexpose_onenote_files\u003e\nRemote config\nMake sure your Redirect URL is set to \"http://localhost:53682/\" in your custom config.\nUse auto config?\n * Say Y if not sure\n * Say N if you are working on a remote or headless machine\ny) Yes\nn) No\ny/n\u003e Y\nIf your browser doesn't open automatically go to the following link: http://127.0.0.1:53682/auth?state=3-n1fmI2XA7QsjnhQAjoQw\nLog in and authorize rclone for access\nWaiting for code...\nGot code\nChoose a number from below, or type in an existing value\n 1 / OneDrive Personal or Business\n   \\ \"onedrive\"\n 2 / Root Sharepoint site\n   \\ \"sharepoint\"\n 3 / Type in driveID\n   \\ \"driveid\"\n 4 / Type in SiteID\n   \\ \"siteid\"\n 5 / Search a Sharepoint site\n   \\ \"search\"\nYour choice\u003e 1\nFound 1 drives, please select the one you want to use:\n0: OneDrive (business) id=b!Yb3jWYP2_EOgiOjYxlsv4iz1Y8ZSfhlEm48kp98Ew0Dzv4TUrSwSSK1sL5j*****\nChose drive to use:\u003e 0\nFound drive 'root' of type 'business', URL: https://*****-my.sharepoint.cn/personal/***_****_partner_onmschina_cn/Documents\nIs that okay?\ny) Yes\nn) No\ny/n\u003e y\n--------------------\n[onedrive_cn]\ntype = onedrive\nclient_id = 6b57cb03-3791-4823-9ce9-5dd027e*****\nclient_secret = l05:IBoAAVh4]Y]4M_?9lgw-L8******\nis_21vianet_version = true\nchunk_size = 10M\ndrive_type = business\ntoken = {\"access_token\":\"eyJ0eXAiOiJKV1Q********BtBs2OM8B1Euv7SAA\",\"expiry\":\"2020-02-01T14:50:32.8151941+08:00\"}\ndrive_id = b!Yb3jWYP2_EOgiOjYxlsv4iz1Y8****************UrSwSSK1sL5jmrG0I\n--------------------\ny) Yes this is OK\ne) Edit this remote\nd) Delete this remote\ny/e/d\u003e y\nCurrent remotes:\n\nName                 Type\n====                 ====\nonedrive_cn        onedrive\n\ne) Edit existing remote\nn) New remote\nd) Delete remote\nr) Rename remote\nc) Copy remote\ns) Set configuration password\nq) Quit config\ne/n/d/r/c/s/q\u003e q\n```\n\n\n配置文件`C:\\Users\\user\\.config\\rclone\\rclone.conf`格式如下\n\n``` bash\n[onedrive_cn]\ntype = onedrive\nclient_id = 6b57cb03-3791-4823-9ce9-5dd027e*****\nclient_secret = l05:IBoAAVh4]Y]4M_?9lgw-L8******\nis_21vianet_version = true\nchunk_size = 10M\ndrive_type = business\ntoken = {\"access_token\":\"eyJ0eXAiOiJKV1Q********BtBs2OM8B1Euv7SAA\",\"expiry\":\"2020-02-01T14:50:32.8151941+08:00\"}\ndrive_id = b!Yb3jWYP2_EOgiOjYxlsv4iz1Y8****************UrSwSSK1sL5jmrG0I\n```\n\n\n#### 挂载\n\n``` bash\napt -y update \u0026\u0026 apt install fuse\n```\n\n挂载命令：\n\n``` bash\nrclone mount onedrive:/ /mnt/ --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000\n```\n\n\n后台挂载命令：\n\n``` bash\nnohup rclone mount onedrive:/ /mnt --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000 \u003e/dev/null 2\u003e\u00261 \u0026\n```\n\n卸载命令：\n\n``` bash\nfusermount -qzu LocalFolder onedrive\n```\n\nRclone 开机启动（脚本来自：Rat's Blog，二次修改支持多网盘挂载）\n\n``` bash\nnano /etc/init.d/rcloned\n```\n\n文本内容如下\n\n``` bash\n#!/bin/bash\n\nPATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin\nexport PATH\nNAME_BIN=\"rclone\"\n### BEGIN INIT INFO\n# Provides:          rclone\n# Required-Start:    $all\n# Required-Stop:     $all\n# Default-Start:     2 3 4 5\n# Default-Stop:      0 1 6\n# Short-Description: Start rclone at boot time\n# Description:       Enable rclone by daemon.\n### END INIT INFO\n\nNAME=\"\" #rclone name名\nREMOTE='' #远程文件夹\nLOCAL='' #挂在地址\n\nNAME_1=\"\"\nREMOTE_1=''\nLOCAL_1=''\n\nGreen_font_prefix=\"\\033[32m\" \u0026\u0026 Red_font_prefix=\"\\033[31m\" \u0026\u0026 Green_background_prefix=\"\\033[42;37m\" \u0026\u0026 Red_background_prefix=\"\\033[41;37m\" \u0026\u0026 Font_color_suffix=\"\\033[0m\"\nInfo=\"${Green_font_prefix}[信息]${Font_color_suffix}\"\nError=\"${Red_font_prefix}[错误]${Font_color_suffix}\"\nRETVAL=0\n\ncheck_running(){\n    PID=\"$(ps -C $NAME_BIN -o pid= |head -n1 |grep -o '[0-9]\\{1,\\}')\"\n    if [[ ! -z ${PID} ]]; then\n        return 0\n    else\n        return 1\n    fi\n}\ndo_start(){\n    check_running\n    if [[ $? -eq 0 ]]; then\n        echo -e \"${Info} $NAME_BIN (PID ${PID}) 正在运行...\" \u0026\u0026 exit 0\n    else\n        fusermount -zuq $LOCAL \u003e/dev/null 2\u003e\u00261\n        mkdir -p $LOCAL\n        /usr/bin/rclone mount $NAME:$REMOTE $LOCAL --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000 \u003e/dev/null 2\u003e\u00261 \u0026\n        sleep 2s\n        fusermount -zuq $LOCAL_1 \u003e/dev/null 2\u003e\u00261\n        mkdir -p $LOCAL_1\n        /usr/bin/rclone mount $NAME_1:$REMOTE_1 $LOCAL_1 --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000 \u003e/dev/null 2\u003e\u00261 \u0026\n        check_running\n        if [[ $? -eq 0 ]]; then\n            echo -e \"${Info} $NAME_BIN 启动成功 !\"\n        else\n            echo -e \"${Error} $NAME_BIN 启动失败 !\"\n        fi\n    fi\n}\ndo_stop(){\n    check_running\n    if [[ $? -eq 0 ]]; then\n        kill -9 ${PID}\n        RETVAL=$?\n        if [[ $RETVAL -eq 0 ]]; then\n            echo -e \"${Info} $NAME_BIN 停止成功 !\"\n        else\n            echo -e \"${Error} $NAME_BIN 停止失败 !\"\n        fi\n    else\n        echo -e \"${Info} $NAME_BIN 未运行\"\n        RETVAL=1\n    fi\n    fusermount -zuq $LOCAL \u003e/dev/null 2\u003e\u00261\n    fusermount -zuq $LOCAL1 \u003e/dev/null 2\u003e\u00261\n}\ndo_status(){\n    check_running\n    if [[ $? -eq 0 ]]; then\n        echo -e \"${Info} $NAME_BIN (PID $(echo ${PID})) 正在运行...\"\n    else\n        echo -e \"${Info} $NAME_BIN 未运行 !\"\n        RETVAL=1\n    fi\n}\ndo_restart(){\n    do_stop\n    do_start\n}\ncase \"$1\" in\n    start|stop|restart|status)\n    do_$1\n    ;;\n    *)\n    echo \"使用方法: $0 { start | stop | restart | status }\"\n    RETVAL=1\n    ;;\nesac\nexit $RETVAL\n```\n\n操作命令\n\n``` bash\nchmod +x /etc/init.d/rcloned\n/etc/init.d/rcloned start\n/etc/init.d/rcloned stop\n```\n\n","cover":"","link":"rclone-onedrive-cn.html","preview":"","title":"使用Rclone挂载世纪互联OneDrive"},{"content":"\n\n世纪互联版office365由于服务器位于北京、上海,所以国内用户体验更友好。\n\n\u003e [GitHub项目地址](https://github.com/lzx8589561/oneindex2-in)\n\n#### 配置Azure AD应用\n\n登陆[我的仪表板 - Microsoft Azure 由世纪互联运营](https://portal.azure.cn) 依次点击【Azure Active Directory】选择【应用注册】，再点击【新应用注册】并打开 [应用注册](https://portal.azure.cn/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/RegisteredApps) 然后依次选择 `+新注册`\n\n![](/images/cn-onedrive-1.png)\n\n随意起一个名字，这里无所谓，后期可以改,例如`oneindex`\n\n![](/images/cn-onedrive-2.png)\n\n下面重定向URL选择你要的网址或者ip地址\n\n![](/images/cn-onedrive-3.png)\n\n然后进去设置，选择API权限，然后添加权限\n\n![](/images/cn-onedrive-4.png)\n\n然后选择 Sharepoint\n\n![](/images/cn-onedrive-5.png)\n\n然后选择委托的权限\n\n![](/images/cn-onedrive-6.png)\n\n然后选择Read and write user files 和 Read user files，添加权限\n\n![](/images/cn-onedrive-7.png)\n\n然后返回设置，选择证书和密码，添加客户端密码\n\n![](/images/cn-onedrive-8.png)\n\n说明可以随意，然后日期一定要选择**1年内**\n\n![](/images/cn-onedrive-9.png)\n\n#### 配置安装oneindex\n\n1. 复制[oneindex](https://github.com/lzx8589561/oneindex2-in/archive/master.zip)到服务器，设置config/、config/base.php 、 cache/ 可读写\n2. 复制`oneindex`  `概述`里面的`应用程序(客户端) ID`到oneindex的 应用ID\n3. 复制`客户端密码`的`值`  到oneindex的应用机密栏中\n4. 其中配置参数世纪互联前缀【https://**xxx-my**.sharepoint.cn】填写加粗部分`xxx-my`\n5. 回调地址填写你的网址，例如`https://xxx.abc.com`\n\n#### 命令行功能  \n\n仅能在php cli模式下运行\n\n清除缓存:  \n\n``` bash\nphp one.php cache:clear\n```\n\n刷新缓存:  \n\n``` bash\nphp one.php cache:refresh\n```\n\n刷新令牌:  \n\n``` bash\nphp one.php token:refresh\n```\n\n上传文件:  \n\n``` bash\nphp one.php upload:file 本地文件 [onedrive文件]\n```\n\n例如：\n\n``` bash\n//上传demo.zip 到onedrive 根目录  \nphp one.php upload:file demo.zip  \n\n//上传demo.zip 到onedrive /test/目录  \nphp one.php upload:file demo.zip /test/  \n\n//上传demo.zip 到onedrive /test/目录并命名为 d.zip\nphp one.php upload:file demo.zip /test/d.zip  \n```\n\n#### NGINX伪静态规则\n\n``` bash\nif (!-f $request_filename){\n    set $rule_0 1$rule_0;\n}\nif (!-d $request_filename){\n    set $rule_0 2$rule_0;\n}\nif ($rule_0 = \"21\"){\n\trewrite ^/(.*)$ /index.php?/$1 last;\n}\n```\n\n#### 其它\n\n附上世纪互联正版购买链接：https://products.office.com/zh-cn/compare-china-global-versions-office365\n\n其中32元/月及以上的套餐包含1T的OneDrive储存空间,可参考[扩容至5T文档](https://docs.microsoft.com/zh-cn/onedrive/change-user-storage)\n","cover":"","link":"cn-onedrive-oneindex.html","preview":"","title":"OneIndex搭建世纪互联版OneDrive"},{"content":"\r\n\r\n### 前言\r\n\r\nGithub Ac­tions 是 GitHub 推出的持续集成 (Con­tin­u­ous in­te­gra­tion，简称 CI) 服务，它提供了配置非常不错的虚拟服务器环境（E5 2vCPU/​7G RAM），基于它可以进行构建、测试、打包、部署项目。对于公共仓库可免费无时间限制的使用（指累积时间），不过要使用它首先需要知道如何编写 workflow 文件。但这篇文章并不是教你如何枯燥的去编写 work­flow 文件，而是教你如何去使用博主已经编写好的 Open­Wrt 编译方案。\r\n\r\n### 教程更新\r\n\r\n- 2020-02-01 新图文教程\r\n- 2019-12-10 新增 macOS 编译方案使用说明\r\n- 2019-12-06 添加 tmate 网页终端链接说明\r\n- 2019-12-05 优化基础使用教程，添加 @lietxia 大佬的图文教程链接\r\n- 2019-12-04 新增云menuconfig使用方法\r\n- 2019-12-03 新增并发编译使用方法\r\n- 2019-11-30 新增自定义源码编译使用方法\r\n- 2019-11-14 全网独家首发\r\n\r\n### 方案特点\r\n\r\n1. 免费\r\n2. 一键快速编译\r\n3. 定时自动编译\r\n4. 客制化编译\r\n5. 并发编译（可同时进行20+5个编译任务）\r\n6. 无需搭建编译环境（在线make menuconfig生成配置文件)\r\n7. 无需消耗自己的计算机与服务器的计算资源（性感E5在线编译）\r\n8. 无需担心磁盘空间不足（近60G磁盘空间）\r\n9. 无需使用清理文件（内核更新不怕 boom ）\r\n10. 编译速度快（编译时间1-2小时）\r\n11. 编译成功率提升200%（万兆自由网络环境）\r\n12. 全新环境（杜绝编译环境不干净导致编译失败）\r\n\r\n\u003e 本解决方案是一个开放平台，任何人都可以基于此打造自己专属的编译方案。\r\n\r\n### 项目地址\r\n\r\nhttps://github.com/P3TERX/Actions-OpenWrt\r\n\r\n支持项目请随手点个 star，让更多的人发现、使用并受益。\r\n\r\n### 准备工作\r\n\r\n- 注册 GitHub 账号\r\n- 搭建编译环境，用于生成`.config`文件。(可选)\r\n\r\n\u003e TIPS: 关于编译环境的搭建，推荐去看我之前写的相关文章，Win­dows 10 可以使用 WSL ，ma­cOS、Linux 可以使用 Docker 。\r\n\r\n### 基础使用\r\n\r\n首先你必须要熟悉整个 Open­Wrt 的编译过程，这会让你非常容易的理解如何使用 GitHub Ac­tions 进行编译，即使你没有成功过。因为实际上本地编译近 90% 失败的原因是因为网络问题导致的，中国大陆特色，咱也不敢多说。而使用 GitHub Ac­tions 编译成功率至少提升 200% ，为什么这样说呢？因为 Ac­tions 服务器由 Mi­crosoft Azure 提供，在自由的美利坚，拥有万兆带宽。\r\n\r\n### 首次编译\r\n\r\n在自己搭建编译环境中使用[Lean's OpenWrt](https://github.com/coolsnowwolf/lede) 源码生成`.config`文件。（或使用后面进阶玩法中的云menuconfig，直接 SSH 到 Actions 进行操作）\r\n\r\n\u003e TIPS: 方案默认引用 Lean 的源码，因为他的 README 影响了我开始学习编译，也就有了这个项目，而且他的源码非常的优秀。有其它需求可自行修改 work­flow 文件，方法后面的进阶使用中有说明。\r\n\r\n进入[P3TERX/Actions-OpenWrt](https://github.com/P3TERX/Actions-OpenWrt) 项目页面，点击页面中的`Use this template` （使用这个模版）按钮。\r\n\r\n![](/images/build-openwrt-with-github-actions1.png)\r\n\r\n填写仓库名称，然后点击`Create repository from template`（从模版创建储存库）按钮。\r\n\r\n![](/images/build-openwrt-with-github-actions2.png)\r\n\r\n经过几秒钟的等待，页面会跳转到新建的仓库，内容和我的项目是相同的。然后点击`Create new file`（创建新文件）按钮。\r\n\r\n![](/images/build-openwrt-with-github-actions3.png)\r\n\r\n文件名填写为`.config`，把生成的`.config`文件的内容复制粘贴到下面的文本框中。\r\n\r\n![](/images/build-openwrt-with-github-actions4.png)\r\n\r\n翻到页面最下方，点击`Commit new file`（提交新文件）按钮即可。后续编译工作会自动开始，你可以在 Actions 页面进行查看。\r\n\r\n![](/images/build-openwrt-with-github-actions5.png)\r\n\r\n下载后的`OpenWrt_firmware.zip`压缩包文件大小会少于网页上显示的`OpenWrt_firmware`文件夹\r\n\r\n### 再次编译\r\n\r\n默认情况下触发编译有两种方式：\r\n\r\n1. 发布 release\r\n2. 修改.config文件\r\n\r\n他们分别对应以下使用场景：\r\n\r\n* 在编译配置没有修改的情况下，若源码有更新，那么在 releases 页面发布一个 release 将直接使用最新源码进行编译。\r\n* 如果你想修改配置，则生成船新的`.config`文件 push 到仓库来触发编译的工作流程。\r\n\r\n其它触发方式你可以在后面的进阶使用中看到。\r\n\r\n\r\n## 进阶使用\r\n\r\n### 自定义环境变量与功能\r\n\r\n打开work­flow文件`.github/workflows/build-openwrt.yml`你会看到有如下一些环境变量，可按照自己的需求对这些变量进行定义。\r\n\r\n``` bash\r\nenv:\r\n  REPO_URL: https://github.com/coolsnowwolf/lede\r\n  REPO_BRANCH: master\r\n  CONFIG_FILE: .config\r\n  DIY_SH: diy.sh\r\n  SSH_ACTIONS: false\r\n  UPLOAD_BIN_DIR: false\r\n  UPLOAD_FIRMWARE: true\r\n  TZ: Asia/Shanghai\r\n```\r\n\r\n\u003e TIPS: 修改时需要注意`:`(冒号)后面有空格。\r\n\r\n| 环境变量 | 功能 |\r\n| :----- | :----- |\r\n| REPO_URL | 源码仓库地址 |\r\n| REPO_BRANCH | 源码分支 |\r\n| CONFIG_FILE | `.config`文件名 |\r\n| DIY_SH | DIY脚本文件名 |\r\n| SSH_ACTIONS | SSH连接Actions功能。默认false |\r\n| UPLOAD_BIN_DIR | 上传bin目录。即包含所有ipk文件和固件的目录。默认false |\r\n| UPLOAD_FIRMWARE | 上传固件目录。默认true |\r\n| TZ | 时区设置 |\r\n| DIY | 脚本 |\r\n\r\n仓库内有一个`diy.sh`文件，你可以把对源码修改的指令写到这个文件中，比如修改默认 IP、主机名、主题、添加 / 删除软件包等操作。但不仅限于这些操作，发挥你强大的想象力，可做出更强大的功能。\r\n\r\n\u003e TIPS: 脚本工作目录在源码目录，内附一个修改默认 IP 的例子供参考使用。\r\n\r\n### 添加软件包\r\n\r\n在 DIY 脚本中加入对指定软件包的远程仓库的克隆指令。就像下面这样：\r\n\r\n``` bash\r\ngit clone https://github.com/P3TERX/xxx package/xxx\r\n```\r\n\r\n这样做的好处是每一次编译都会拉取最新的源码。\r\n\r\n\u003e TIPS: 生成`.config`文件时记得选中相应的软件。如果添加的软件包与 Open­Wrt 中已有的软件包同名的情况，则需要把源码中的同名软件包删除，否则会优先编译 Open­Wrt 中的软件包。这同样可以利用到的 DIY 脚本。\r\n\r\n最后不要忘了添加更新 feeds 的命令\r\n\r\n``` bash\r\n./scripts/feeds update -a\r\n./scripts/feeds install -a\r\n```\r\n\r\nCustom files（自定义文件）\r\n俗称 “files 大法”，在仓库根目录下新建 files 目录，把文件放入即可。\r\n\r\n### 定时自动编译\r\n\r\n编辑work­flow文件`.github/workflows/build-openwrt.yml`取消注释下面两行。\r\n\r\n``` bash\r\n#  schedule:\r\n#    - cron: 0 8 * * 5\r\n```\r\n\r\n例子是北京时间每周五下午4点钟开始编译（周末下班回家直接下载最新固件开始折腾）。如需自定义则按照 cron 格式修改即可，Ac­tions 虚拟环境中的时区是 UTC ，注意按照自己所在地时区进行转换。\r\n\r\n### 真·一键编译（点击 star 开始编译）\r\n\r\n点击自己仓库页面上的 Star 开始编译，为了防止被滥用，这个功能默认没有开启。开启后如果被恶意点击轻则封号，严重可能会导致中美关系恶化、原子弹爆炸、第三次世界大战等后果。（大雾\r\n\r\n编辑 work­flow 文件`.github/workflows/build-openwrt.yml`取消注释下面两行，后续点击自己仓库上的 star 即可开始编译。\r\n\r\n``` bash\r\n#  watch:\r\n#    types: [started]\r\n```\r\n\r\n\u003e TIPS: 字段started并不是“开始了”的意思，而是“已经点击 Star”。\r\n\r\n吐槽: 官方并没有提供一个开始按钮，通过搜索找到过很多奇怪的一键触发方式，但都是通过 Web­hook 来实现的。机智的我发现了可以通过点击 Star 来触发，这样就相当于把 Star 当成开始按钮。这个started有种一句双关的意思了。\r\n\r\n有个小技巧可以防止恶意点击，在`runs-on: ubuntu-latest`下面加上`if: github.event.repository.owner.id == github.event.sender.id`这样只有你自己点 star 才会触发编译。\r\n\r\n``` bash\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n    if: github.event.repository.owner.id == github.event.sender.id\r\n```\r\n\r\n### 自定义源码编译\r\n\r\n此方案默认引用的是 L 大的源码，如果你觉得不好用或者有编译其它源码的需求可以进行替换，自由是本解决方案最大的特点。\r\n\r\n编辑 work­flow 文件`.github/workflows/build-openwrt.yml`修改下面的相关环境变量字段。\r\n\r\n``` bash\r\nREPO_URL: https://github.com/coolsnowwolf/lede\r\nREPO_BRANCH: master\r\n```\r\n\r\n比如修改为 Open­Wrt 官方源码 19.07 分支\r\n\r\n``` bash\r\nREPO_URL: https://github.com/openwrt/openwrt\r\nREPO_BRANCH: openwrt-19.07\r\n```\r\n\r\n\u003e TIPS: 注意冒号后面有空格\r\n\r\n### 并发编译（同时编译多个固件）\r\n\r\n多 repository 方案\r\n\r\n通过 P3TERX/Actions-OpenWrt 项目创建多个仓库来编译不同架构机型的 Open­Wrt 固件。\r\n\r\n多 workflow 方案\r\n\r\n基于 GitHub Ac­tions 可同时运行多个工作流程的特性，最多可以同时进行至少 20 个编译任务。也可以单独选择其中一个进行编译，这充分的利用到了 GitHub Ac­tions 为每个账户免费提供的 20 个 Ubuntu 虚拟服务器环境。此外你还可以额外再使用 5 个 macOS 虚拟服务器环境进行编译，开启方法在后面有说明。\r\n\r\n假设有三台路由器的固件需要编译，比如 K2P、软路由、新路由 3。\r\n\r\n生成它们的`.config`文件\r\n分别将它们重命名为`k2p.config`、`x64.config`、`d2.config`放入本地仓库根目录。\r\n复制多个 workflow 文件`.github/workflows/build-openwrt.yml`为了更好的区分可以对它进行重命名，比如`k2p.yml`、`x64.yml`、`d2.yml`。此外第一行name字段也可以进行相应的修改。\r\n然后分别用上面修改的文件名替换对应 workflow 文件中下面两个位置的`.config`，不同的机型同样可以使用不同的 DIY 脚本。\r\n\r\n``` bash\r\n...\r\n    paths:\r\n      - '.config'\r\n...\r\n        CONFIG_FILE: '.config'\r\n        DIY_SH: 'diy.sh'\r\n...\r\n```\r\n\r\n最后 push ，此时此就触发了3个并行的编译工作流程。\r\n\r\n### 云 menuconfig（SSH 连接到 Actions）\r\n\r\n通过 tmate 连接到 GitHub Ac­tions 虚拟服务器环境，可直接进行`make menuconfig`操作生成编译配置，或者任意的客制化操作。也就是说，你不需要再自己搭建编译环境了。这可能改变之前所有使用 GitHub Ac­tions 的编译 Open­Wrt 方式。\r\n\r\n编辑 workflow 文件`.github/workflows/build-openwrt.yml`修改`SSH_ACTIONS`环境变量的值为`true`：\r\n\r\n``` bash\r\nSSH_ACTIONS: true\r\n```\r\n\r\n在触发工作流程后，在 Actions 页面等待执行到`SSH connection to Actions`步骤，会出现下面的信息。\r\n\r\n``` bash\r\nTo connect to this session copy-n-paste the following into a terminal or browser:\r\n\r\nssh Y26QeagDtsPXp2mT6me5cnMRd@nyc1.tmate.io\r\n\r\nhttps://tmate.io/t/Y26QeagDtsPXp2mT6me5cnMRd\r\n```\r\n\r\n1. 复制 SSH 连接命令粘贴到终端内执行，或者复制链接在浏览器中打开使用网页终端。（网页终端可能会遇到黑屏的情况，按 Ctrl + C 即可）\r\n2. `cd openwrt \u0026\u0026 make menuconfig`\r\n3. 完成后按快捷键Ctrl+D或执行exit命令退出，后续编译工作将自动进行。\r\n\r\n\u003e TIPS: 固件目录下有个`config.seed`文件，如果你需要再次编译可以使用它。\r\n\r\nWARRING: 默认连接30分钟后会断开并终止编译工作流程，防止资源浪费与封号风险。如果你想解除这个限制，可以根据提示操作，导致的一切后果请自行承担。\r\n\r\n### macOS 编译方案\r\n\r\nGitHub Ac­tions 的 ma­cOS 虚拟机性能要高于 Ubuntu 虚拟机，所以使用它编译 Open­Wrt 理论上速度会更快。博主经过几天时间的研究已经总结出了 macOS 下的 OpenWrt 编译环境的搭建方法，并编写出了适用于 ma­cOS 虚拟环境的 Open­Wrt 编译方案的 work­flow 文件。\r\n\r\n由于并不是每个开发者都会按照规范去写代码，所以使用 ma­cOS 编译 Open­Wrt 不可避免的会遇到非常多的问题，而且后续测试发现 ma­cOS 虚拟机性能已大幅下降，故相关 work­flow 文件已经移除。也不建议任何人使用 ma­cOS 编译 Open­Wrt 。\r\n\r\n### 尾巴\r\n\r\n希望大家不要滥用免费的开发资源，需要时再编译，让开发者来充分利用才能产生更多更好的软件，这样大家才能受益。\r\n\r\n转载自：[使用 GitHub Actions 云编译 OpenWrt - P3TERX ZONE](https://p3terx.com/archives/build-openwrt-with-github-actions.html)\r\n","cover":"","link":"build-openwrt-with-github-actions.html","preview":"","title":"使用GitHub Actions云编译OpenWrt"},{"content":"\n\n你想知道自己的SIM卡移动数据流量网速能跑多少？是不是达标符合通信运营商承诺的网络速率？... ...\n\n### 使用条件\n\n1. 拥有root权限的安卓Android手机设备\n2. CPU品牌是高通\n3. 网络信号大师 [点击下载](https://www.coolapk.com/apk/com.qtrun.QuickTest)\n\n### 名词解译\n\n【网络信号大师】【LTE小区配置】里面的参数，专业术语名词相信对于通信运营商不会陌生，这里重点只涉及限速速率检测\n\n* AMBR(Aggregated Maximum Bit Rate)聚合最大比特速率，也是常说的最高速率、限速速率\n* DL即downlink下行速率\n* UL即uplink上行速率\n\n### 适用范围\n\n适用于任意套餐资费的网速速率检测。所有电信、联通、移动的2G,3G,4G(5G未测试，目前没有条件测试)的任何APN\\频段\\制式。CDMA、GSM、TD-SCDMA、WCDMA、LTE、HSUPA、HSDPA、FDD-LTE、TD-LTE **零流量检测网速速率** ,测试过程中可以关闭流量。比如1Mbps,3Mbps,7Mbps...\n\n温馨提示：针对24小时内，不同时段不同限速规则的，可能需要重启软件或者开关一次飞行模式才能刷新显示。\n\n### 使用方法\n\n授予安卓软件`网络信号大师`ROOT权限，依次打开【网络信号大师】右上角的3点【锁频段】任意切换下频段再切换回原来默认的频段，然后左右滑动到【LTE小区配置】就能在右下角方位看到AMBP DL/UL就能看到1Mbps,3Mbps,7Mbps...通信运营商实行分配给用户的网速速率值了\n\n![](/images/SIM-AMBR-DL-UL.png)\n\n### 用途\n\n该方法检测值能作为投诉、举报到运营商、工信部的有力证据。\n\n2020年1月1日更新：三家都将“永久套餐”全改为有到期期限了，移动2099年，电信2050年，联通2029年。所以“永久套餐”不存在的。\n","cover":"","link":"internet-sim-ambr-dl-ul-2g-3g-4g-lte.html","preview":"","title":"检测移动电信联通通讯运营商SIM卡分配给用户的最高速率、限速速率网速值"},{"content":"\n\n鹅厂Tencent QQ for Linux\n\n从2008年7月31日开始到2019年10月24日，历时11年终于更新了\n\n\n版本特性\n\nLinux QQ 2.0.0 Beta（New）2019/10/24\n\n1. Linux QQ全新回归\n2. 支持x64、ARM64、MIPS64三种架构\n3. 优化消息体验，完善消息收发能力\n4. 性能优化\n\n\nQQ·Linux版 [下载列表](https://im.qq.com/linuxqq/download.html)\n\n\n如何安装？\n请参考你所使用的系统安装包管理器的使用说明来安装你所选择的Linux QQ安装程序，注意你需要root权限才能完成安装。在一些发行版中你可以通过双击文件管理器中的安装程序完成安装。以下是一些使用命令行来安装的例子：\n\n``` bash\nsudo ./linuxqq_1.0.1-b1-100_x86_64.sh\nsudo rpm -ivh linuxqq_1.0.1-b1-100_mips64el.rpm\nsudo dpkg -i linuxqq_1.0.1-b1-100_armhf.deb\nsudo apt install -y /path/to/linuxqq_1.0.1-b1-100_amd64.deb\nsudo pacman -U linuxqq_1.0.1-ci-94_x86_64.pkg.tar.xz\n```\n\n如何卸载？\n请尽量使用你安装时使用的对应方式来卸载Linux QQ（参考你所使用的系统安装包管理器说明）。同样需要root权限才能完成卸载。以下是一些例子：\n\n``` bash\nsudo rpm -e linuxqq\nsudo dpkg -r linuxqq\n```\n\n**注意：**\n\n1. 需要安装桌面环境\n2. 只能扫码登陆1个QQ\n\nlinux VPS又多了一个功能，QQ挂机","cover":"","link":"qq-for-linux.html","preview":"","title":"QQ·Linux版更新2019-10-24"},{"content":"\n\n\nTCP BBR v2 alpha： https://github.com/google/bbr/tree/v2alpha\n\n### Ubuntu \u0026 Debian 环境依赖\n\n``` bash\napt-get update\napt install -y build-essential libncurses5-dev\napt -y build-dep linux\napt install -y git \n```\n\n(可选)如提示错误`E: You must put some ‘source’ URIs in your sources.list`解决方法如下\n\n``` bash\nsed -i 's/#deb-src/deb-src/g' /etc/apt/sources.list\nsed -i 's/# deb-src/deb-src/g' /etc/apt/sources.list\napt-get update\n```\n\n### 编译内核\n\n``` bash\n# 下载源码\ngit clone -o google-bbr -b v2alpha  https://github.com/google/bbr.git\ncd bbr\n# 禁用签名调试\nscripts/config --disable MODULE_SIG\nscripts/config --disable DEBUG_INFO\n# 配置tcp bbr2选项\nmake menuconfig\n```\n\n依次进入`Networking support  ---\u003e`   `Networking options  ---\u003e`   `TCP: advanced congestion control ---\u003e`  ` BBR2 TCP` 按空格键在前面标记`\u003cM\u003e` 其它选项保持默认即可.(也可以按`/` 在搜索框输入`bbr2`回车根据查询结果，按数字键 `1` 进入`BBR2 TCP`配置页面按空格键标记` \u003cM\u003e   BBR2 TCP` )\n\n开始编译\n\n``` bash\nscreen -S kernel  # 新建一个会话\nmake -jN deb-pkg  # N 为线程数\n```\n\n编译完成后 /root 目录下生成以下文件\n\n``` bash\nlinux-5.2.0-rc3+_5.2.0-rc3+-1.diff.gz\nlinux-5.2.0-rc3+_5.2.0-rc3+-1.dsc\nlinux-5.2.0-rc3+_5.2.0-rc3+-1_amd64.buildinfo\nlinux-5.2.0-rc3+_5.2.0-rc3+-1_amd64.changes\nlinux-5.2.0-rc3+_5.2.0-rc3+.orig.tar.gz\nlinux-headers-5.2.0-rc3+_5.2.0-rc3+-1_amd64.deb\nlinux-image-5.2.0-rc3+_5.2.0-rc3+-1_amd64.deb\nlinux-libc-dev_5.2.0-rc3+-1_amd64.deb\n```\n\n如果你不想自己编译也可以下载本站编译好的内核，编译时间：2019-10-22\n\n[linux-headers-5.2.0-rc3+_5.2.0-rc3+-1_amd64.deb](/uploads/linux-headers-5.2.0-rc3+_5.2.0-rc3+-1_amd64.deb)   \n\n[linux-image-5.2.0-rc3+_5.2.0-rc3+-1_amd64.deb](/uploads/linux-image-5.2.0-rc3+_5.2.0-rc3+-1_amd64.deb)\n\n[linux-libc-dev_5.2.0-rc3+-1_amd64.deb](/uploads/linux-libc-dev_5.2.0-rc3+-1_amd64.deb)\n\n### 安装 v2alpha 内核\n\n下载后缀为`*.deb`的3个文件,以 Debian 9 64-bit 为例\n\n\n``` bash\ndpkg -i linux-headers-5.2.0-rc3+_5.2.0-rc3+-1_amd64.deb\ndpkg -i linux-image-5.2.0-rc3+_5.2.0-rc3+-1_amd64.deb\ndpkg -i linux-libc-dev_5.2.0-rc3+-1_amd64.deb\nupdate-grub\nreboot\n```\n\n### 开启 bbr2\n\n``` bash\necho \"net.core.default_qdisc=fq\" \u003e\u003e /etc/sysctl.conf\necho \"net.ipv4.tcp_congestion_control = bbr2\" \u003e\u003e /etc/sysctl.conf\necho \"net.ipv4.tcp_ecn = 1\" \u003e\u003e /etc/sysctl.conf # 开启ECN (可选)\nsysctl -p\n```\n\n查看是否开启 bbr2\n\n``` bash\nsysctl net.ipv4.tcp_available_congestion_control\n# net.ipv4.tcp_available_congestion_control = reno cubic bbr2\nlsmod | grep bbr\n# tcp_bbr2               40960  1\n```\n\n### 删除多余旧内核\n\n首先查询当前我们使用的是内核是那个版本别删错了。\n\n``` bash\nuname -a\n```\n\n查询系统中装了多少内核\n\n``` bash\ndpkg --get-selections|grep linux\n```\n\n多余的内核可以通过命令删除 需要删除header和image\n\n``` bash\napt-get purge linux-image-*.*.*-**       # *号用你想删除的实际情况改写\napt-get purge linux-headers-*.*.*-**     # *号用你想删除的实际情况改写\n```\n\n---\n\n### CentOS安装启用bbr\n\n``` bash\nwget https://567899.xyz/uploads/kernel-5.2.0_rc3+-1.x86_64.rpm\nwget https://567899.xyz/uploads/kernel-headers-5.2.0_rc3+-1.x86_64.rpm\nyum -y localinstall *\ngrub2-set-default 0\necho \"net.core.default_qdisc=fq\" \u003e\u003e /etc/sysctl.conf\necho \"net.ipv4.tcp_congestion_control = bbr2\" \u003e\u003e /etc/sysctl.conf\necho \"net.ipv4.tcp_ecn = 1\" \u003e\u003e /etc/sysctl.conf   # 开启ecn (可选)\nsysctl -p\nrm kernel-5.2.0_rc3+-1.x86_64.rpm\nrm kernel-headers-5.2.0_rc3+-1.x86_64.rpm\nreboot\n```\n\n查询系统中全部的内核\n\n``` bash\nrpm -qa | grep kernel\n```\n\nCentOS 清除旧内核\n\n``` bash\nyum remove kernel-3.10.0-693.21.1.el7.x86_64  #替换自己的内核名\n```\n\n\n---\n\nLinux kernel 5.4-rc6\nmake on 11/20 2019\n\n``` bash\nwget https://github.com/hvvy/bbr/releases/download/0.1.1/linux-headers-5.4.0-rc6_5.4.0-rc6-1_amd64.deb\nwget https://github.com/hvvy/bbr/releases/download/0.1.1/linux-image-5.4.0-rc6_5.4.0-rc6-1_amd64.deb\nwget https://github.com/hvvy/bbr/releases/download/0.1.1/linux-libc-dev_5.4.0-rc6-1_amd64.deb\ndpkg -i linux-headers-5.4.0-rc6_5.4.0-rc6-1_amd64.deb\ndpkg -i linux-image-5.4.0-rc6_5.4.0-rc6-1_amd64.deb\ndpkg -i linux-libc-dev_5.4.0-rc6-1_amd64.deb\nupdate-grub\nreboot\n```\n","cover":"","link":"bbr2.html","preview":"\u003cp\u003e手动编译下载安装 TCP BBR v2 Alpha/Preview 内核Ubuntu \u0026amp; Debian \u0026amp; CentOS 删除Linux旧内核linux-headers-5.2.0-rc3+_5.2.0-rc3+-1_amd64.deb,linux-image-5.2.0-rc3+_5.2.0-rc3+-1_amd64.deb\u003c/p\u003e\n","title":"Ubuntu \u0026 Debian \u0026 CentOS手动编译安装 TCP BBR v2 Alpha/Preview 内核"},{"content":"\n\n### 开启\n\n![](/images/win10-ltsc-linux.png)\n\n![](/images/win10-ltsc-linux1.webp)\n\n![](/images/win10-ltsc-linux2.png)\n\n![](/images/win10-ltsc-linux3.png)\n\n按提示操作，重启电脑。\n\n### 下载发行版\n\n手动下载适用于 Linux 的 Windows 子系统发行版包\n\nhttps://docs.microsoft.com/zh-cn/windows/wsl/install-manual\n\n\n如果 Microsoft Store 应用不可用，则可以通过单击以下链接下载并手动安装 Linux 发行版：\n\n1. [Ubuntu 18.04](https://aka.ms/wsl-ubuntu-1804)\n2. [Ubuntu 18.04 ARM](https://aka.ms/wsl-ubuntu-1804-arm)\n3. [Ubuntu 16.04](https://aka.ms/wsl-ubuntu-1604)\n4. [Debian GNU/Linux](https://aka.ms/wsl-debian-gnulinux)\n5. [Kali Linux](https://aka.ms/wsl-kali-linux-new)\n6. [OpenSUSE Leap 42](https://aka.ms/wsl-opensuse-42)\n7. [SUSE Linux Enterprise Server 12](https://aka.ms/wsl-sles-12)\n8. [WSL 的 Fedora Remix](https://github.com/WhitewaterFoundry/WSLFedoraRemix/releases/)\n\n\n### 安装\n\n解压`app_name.appx`以管理员身份运行\n\n![](/images/win10-ltsc-linux4.png)\n\n\n### 使用Linux\n\n在`cmd`或者`PowerShell`命令行中输入`bash`就可以启动，或者在存放在linux系统，点击 ubuntu1604.exe 也可以启动，两种方式启动的默认路径不一样\n\n\n### 卸载\n\n以管理员身份运行PowerShell\n\n``` bash\nwslconfig\nwslconfig /l\nwslconfig /u Debian\n```\n\n示范如下\n\n``` bash\nWindows PowerShell\n版权所有 (C) Microsoft Corporation。保留所有权利。\n\nPS C:\\Windows\\system32\u003e wslconfig\n对 Windows 上的 Linux 子系统进行操作管理\n\n用途：\n    /l, /list [/all]\n        列出已注册的分发版。\n        /all - 有选择地列出所有分发版，包括\n               当前正在安装或卸载的分发版。\n\n    /s, /setdefault \u003cDistributionName\u003e\n        将该分发版设为默认。\n\n    /t, /terminate \u003cDistributionName\u003e\n        终止分发。\n\n    /u, /unregister \u003cDistributionName\u003e\n        取消分发版注册。\n\n    /upgrade \u003cDistributionName\u003e\n        将分发版升级至 WslFs 文件系统格式。\nPS C:\\Windows\\system32\u003e wslconfig /l\n适用于 Linux 的 Windows 子系统:\nDebian (默认)\nPS C:\\Windows\\system32\u003e wslconfig /u Debian\n正在注销...\nPS C:\\Windows\\system32\u003e\n```\n\n","cover":"","link":"windows10-ltsc-2019-linux.html","preview":"\u003cp\u003eWindows10企业版LTSC 2019 1809安装和卸载linux子系统\u003c/p\u003e\n","title":"Windows10 LTSC 2019 安装和卸载 linux 子系统"},{"content":"\n\n收获Oracle云资源\n\n``` bash\n2 个 Autonomous Database （自主数据仓库或自主事务处理），每个 Autonomous Database 都有 1 个 OCPU 和 20 GB 存储资源；\n2 个 Compute VM，每个 Compute VM 有 1⁄8 OCPU 和 1 GB 内存；\n2 个 Block Volumes，总共 100 GB，最多 5 个免费备份；\n10 GB Object Storage、10 GB Archive Storage 和每月 50000 个 API 请求；\n1 个 Load Balancer，10 Mbps 带宽；\n每月 10 TB 的出站数据传输；\n5 亿个摄取数据点和 10 亿个服务监测数据点；\n每月传递 100 万个通知的选项和每月 1000 封电子邮件。\n```\n\n进入 oracle官网 的 [活动页面](https://www.oracle.com/cn/cloud/free/) 注册oracle cloud账号\n\n\n**创建免费计算实例**\n\n可以手动创建，也可以使用API或者浏览器脚本刷鸡。\n\n\u003e 通过oracle API方式刷鸡\n\n依次打开【计算】【实例】【创建实例】\n\n![](/images/oracle_new_vm.png)\n\n得到如下信息\n\n``` bash\n{compartmentId: \"ocid1.tenancy.oc1..aaaaaaaaoodmmnnegqztqezosewgzbk47yaryminfacexjd4jb2ec6ninuca\",бн}\nagentConfig: {isMonitoringDisabled: false, isManagementDisabled: false}\nisManagementDisabled: false\nisMonitoringDisabled: false\navailabilityDomain: \"llRm:AP-SEOUL-1-AD-1\"\ncompartmentId: \"ocid1.tenancy.oc1..aaaaaaaaoodmmnnegqztqezosewgzbk47yaryminfacexjd4jb2ec6ninuca\"\ncreateVnicDetails: {,бн}\nassignPublicIp: false\nsubnetId: \"ocid1.subnet.oc1.ap-seoul-1.aaaaaaaaoxhcsdpm6ugk7fq7gcr24iksb62pddjx3sql5voeplnupji4uwlq\"\ndefinedTags: {}\ndisplayName: \"instance-20191012-1827\"\nfreeformTags: {}\nmetadata: {,бн}\nssh_authorized_keys: \"ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAuI793fGfvkqUAq3uyEHhB11TOum+eWajfe8fqooaZ/o5mg4fDBSxL+QGRX88EAf1K/FOgdfhIlfHIyrQ66m/6MBKbAbnIZlPKTYBKA3Q48W23drUOEKJ6yHPLpjD7QQ3Z1RDLRSlGfkfhHqdoYZ4VaV67T23GsQG7h1bDL+AO4Z96iMXp6qT7f/wzrmbUWBHT/ifFKH784Idy7sFlOAZfI2Q8DvHdUysZSNsT0FOyzmhvbBlCf0enDrpIvmTzEdwzKECuygV6+5omhBwVAUGuqX6kV/nyglVHJqsy1JtEtoISrN2G0dgRODO6OxlsBm+rcEuUpXp1IYBuDI57d9n/Q==\"\nshape: \"VM.Standard.E2.1.Micro\"\nsourceDetails: {sourceType: \"image\",бн}\nimageId: \"ocid1.image.oc1.ap-seoul-1.aaaaaaaa2j27ep22b6vp4gfjwccbem7hm4rhbe2ay3ctqiex3ftbeseaj55q\"\nsourceType: \"image\"\n```\n\n找到如下信息并记录\n\n``` bash\navailabilityDomain #跟地区相关，我是韩国\ncompartmentId # 账号相关\nsubnetId #子网络\nshape #服务器类型，永久免费为VM.Standard.E2.1.Micro，可以不变\nssh_authorized_keys #这个是服务器的公钥文件\nimageId #这是系统类型\n```\n\n获取User OCID\n\n![](/images/User_Information_ocid.png)\n\n记下User_ocid后面要用\n\n获取Tenancy OCID\n\n![](/images/Tenancy_OCID.png)\n\n记下Tenancy_OCID后面要用\n\n**下载安装oci命令行管理工具**\n\n\n``` bash\nbash -c \"$(curl –L https://raw.githubusercontent.com/oracle/oci-cli/master/scripts/install/install.sh)\"\n```\n\n一路回车就好了，结束使用下面命令查看安装是否成功\n\n``` bash\noci -v\n```\n\n配置cli账号信息，添加api key\n\n``` bash\noci setup config\n```\n\n\n![](/images/oracle_oci_config.webp)\n\n接下来需要把公共秘钥传到控制台，回到浏览器，同样进入用户界面查看\n\n![](/images/oracle_add_apikey.webp)\n\n添加好后就可以来看看oci命令行工具行不行了。\n\n``` bash\noci iam availability-domain list\n```\n\n![](/images/oracle_oci_list.webp)\n\n\n查看配置文件是否正确\n\n\n![](/images/oracle_oci_config_succe.webp)\n\n如果没有报错说明配置成功。\n\n使用cli命令自动化脚建立服务器\n\n前面已经配置好了cli，这里就可以使用命令来尝试建立云计算服务器了。\n\n``` bash\noci compute instance launch --availability-domain JCbl:AP-SEOUL-1-AD-1 --display-name seoul1 --image-id ocid1.image.oc1.ap-seoul-1.aaaaaaaa4e3nhzytej7iwr4qh6aov3d5yxswfek7wzjyd2tpaqtlwt3kmqta --subnet-id ocid1.subnet.oc1.ap-seoul-1.aaaaaaaa...  --shape VM.Standard.E2.1.Micro --assign-public-ip true --metadata '{\"ssh_authorized_keys\": \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC+Sk1M9GX6AOoI1RtK33zaltsuSIGofdtI0sT9YqULEP0zSvrHPh8TEWY7XQdz1TbWcXLG7V0YNZgzUMEr6khI4zRygCU8N5OYX/M3VH36FddD0Jr6HiEkHTECVYdxxvJ7Lq8iCe5VP9IfomphjWTVZfml+jX0deR6gHY3MVblEnwLdhxT61aLOUe8Q1P3m6SWjukpSl9Wk/rf96YQIyw23+lWILWw9TkEhJOXwwV89nvlM11jN4fjh1yl1ax+yRl4BsMfRUrfT8CZ+OhR8qZILKPhsY8ehOZs8TbbWU8G55y/PJS8WjhhP3I0BpETazMZWuY41 zhang\"}' --compartment-id ocid1.tenancy.oc1...\n```\n\n这里几个参数多是前面用小本本记录下来的信息\n\n``` bash\navailability-domain #有记录\ndisplay-name #云服务器名称，随意,最好不要加这个参数，不然只能创建一个，第二个时名字一样了\nimage-id # 前面有记录，我这是centos7的\nsubnet-id #前面有记录\nshape #永久免费就是这一款VM.Standard.E2.1.Micro\nassign-public-ip true #是否需要公网ip，当然是true\nmetadata #这里就是添加了一个免登录秘钥，改成你自己的就行\ncompartment-id #前面有记录\n```\n\n运行命令，如果一会儿有输出的话那么就没问题了，接下来就可以定时执行命令创建云服务器了。\n\n![](/images/oracle_auto_500.webp)\n\n使用crontab定时执行，第二天再来查看是否创建成功就可以了。 首先把命令写成oci.sh的bash脚本\n\n``` bash\nexport NVM_DIR=\"$HOME/.nvm\"\n[ -s \"$NVM_DIR/nvm.sh\" ] \u0026\u0026 \\. \"$NVM_DIR/nvm.sh\"  # This loads nvm\n[ -s \"$NVM_DIR/bash_completion\" ] \u0026\u0026 \\. \"$NVM_DIR/bash_completion\"  # This loads nvm bash_completion\nalias ic=\"ibmcloud\"\n\nexport PATH=/home/name/bin:$PATH\n\n[[ -e \"/home/name/lib/oracle-cli/lib/python2.7/site-packages/oci_cli/bin/oci_autocomplete.sh\" ]] \u0026\u0026 source \"/home/name/lib/oracle-cli/lib/python2.7/site-packages/oci_cli/bin/oci_autocomplete.sh\"\n\noci compute instance launch --availability-domain JCbl:AP-SEOUL-1-AD-1  --image-id ocid1.image.oc1.ap-seoul-1.aaaaaaaa4e3nhzytej7iwr4qh6aov3d5yxswfek7wzjyd2tpaqtlwt3kmqta --subnet-id ocid1.subnet.oc1.ap-seoul-1.aaaaaaaa...  --shape VM.Standard.E2.1.Micro --assign-public-ip true --metadata '{\"ssh_authorized_keys\": \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC+Sk1M9GX6AOoI1RtK33zaltsuSIGofdtI0sT9YqULEP0zSvrHPh8TEWY7XQdz1TbWcXLG7V0YNZgzUMEr6khI4zRygCU8N5OYX/M3VH36FddD0Jr6HiEkHTECVYdxxvJ7Lq8iCe5VP9IfomphjWTVZfml+jX0deR6gHY3MVblEnwLdhxT61aLOUe8Q1P3m6SWjukpSl9Wk/rf96YQIyw23+lWILWw9TkEhJOXwwV89nvlM11jN4fjh1yl1ax+yRl4BsMfRUrfT8CZ+OhR8qZILKPhsY8ehOZs8TbbWU8G55y/PJS8WjhhP3I0BpETazMZWuY41 zhang\"}' --compartment-id ocid1.tenancy.oc1...\n```\n\n添加计划任务\n\n``` bash\ncrontab -e\n```\n\n内容如下\n\n``` bash\n*/2 * * * *  /bin/bash /home/name/oci.sh\n```\n\n根据需要更改，我这里是没两分钟执行一次。，让他自动刷可用的机器\n\n转载自https://www.bobobk.com/612.html\n\n\u003e 通过Google Chrome脚本方式刷鸡\n\nF12贴到Console然后回车\n\n``` bash\nvar i = 1;\n\nfunction myLoop () {\n   setTimeout(function () {\n      document.getElementsByClassName('oui-button oui-button-primary')[0].click();\n      i++;\n      if (i \u003c 3600) {\n         myLoop();\n      }\n   }, 10000)\n}\n\nmyLoop();\n```\n\n转载自https://www.hostloc.com/thread-586893-1-1.html\n\n\n\u003e oracle 一键dd win7精简版\n\n``` bash\nwget --no-check-certificate -qO InstallNET.sh 'https://moeclub.org/attachment/LinuxShell/InstallNET.sh' \u0026\u0026 bash InstallNET.sh -dd 'https://file.zrj766.com/Oracle-Win/win7-oracle.img.gz'\n```\n\n20分钟后直接3389 [记得oracle面板开防火墙3389端口]\n\n``` bash\n账号：Administrator\n密码：mjjmjj\n```\n\n安装系统后，系统C盘仅占用3.3G左右，内存占用400m左右\n\nDD包系统C盘，默认5G储存大小，若需要扩容或分区。\n\n使用快捷键 Win + R 打开运行窗口，输入 compmgmt.msc 按回车键。磁盘管理内进行扩容/分区。\n\n由于精简了sxs 后续无法安装更新，望知悉\n\n关于激活cmd管理员权限。\n\n然后依次输入\n\n``` bash\nslmgr.vbs -upk\nslmgr.vbs -ipk RHTBY-VWY6D-QJRJ9-JGQ3X-Q2289\nslmgr.vbs -skms kms.cangshui.net\nslmgr.vbs -ato\nslmgr.vbs -dlv\n```\n\n转载自https://www.hostloc.com/thread-593715-1-1.html\n\n\n\u003e oracle 一键dd debian\n\n原系统请选择 ubuntu16\n\n``` bash\nbash \u003c(wget --no-check-certificate -qO- 'https://moeclub.org/attachment/LinuxShell/InstallNET.sh') -d 9 -v 64 -a -firmware\n```\n\n默认root密码是MoeClub.org\n\n如果是ubuntu18.04需要额外执行以下2个命令\n\n命令1  \n\n``` bash\nmkdir /etc/network/interfaces.d\n```\n\n命令2  \n\n``` bash\necho \"# This file describes the network interfaces available on your system\n# and how to activate them. For more information, see interfaces(5).\n\nsource /etc/network/interfaces.d/*\n\n# The loopback network interface\nauto lo\niface lo inet loopback\n\n# The primary network interface\nallow-hotplug ens3\niface ens3 inet dhcp\n\n\" \u003e /etc/network/interfaces\n```\n\n转载自https://www.hostloc.com/thread-587961-1-1.html\n\n抢救Oracle免费机器\n\n``` bash\ndd if=/dev/sda of=/dev/sdb\n```\n\n停止实倒，分离磁盘后附加到另一台免费鸡上全盘克隆救活。\n","cover":"","link":"oracle.html","preview":"\u003cp\u003e甲骨文Oracle通过API或Chrome脚本获得2台免费VPS及DD成win7或debian\u003c/p\u003e\n","title":"甲骨文Oracle通过API或Chrome脚本获得免费VPS"},{"content":"\r\n\r\n更新：**[Pornhub](https://cn.pornhub.com) 已经有简体中文且网页版可以免费观看1080P高清电影了。**\r\n\r\n毛子机器上PH会弹出一个18+的提示，让登陆VK之类的毛子社交平台验证。\r\n\r\n只需要在浏览器的去广告插件中加入两个自定义规则就可以了。不需要登陆VKontakte验证就可以玩PH。\r\n\r\nPC端浏览器比如说chrome的扩展程序[AdBlock](https://chrome.google.com/webstore/search/abp?hl=zh-CN)等等 好像规则都是通用的。\r\n\r\n``` bash\r\ncn.pornhub.com###age-verification-wrapper\r\ncn.pornhub.com###age-verification-container\r\n```\r\n\r\n![](/images/AdBlock-VK-pornhub.png)\r\n\r\n安卓手机端可以用[Via浏览器](http://viayoo.com/zh-cn/)自带去广告功能，支持自定义规则。\r\n\r\n依次打开`via浏览器`中的`设置` `通用`  `广告标记`  `+` 添加\r\n\r\n`地址`加入网址\r\n\r\n``` bash\r\ncn.pornhub.com\r\n```\r\n\r\n`标签`加入规则\r\n\r\n``` bash\r\n#age-verification-wrapper,#age-verification-container\r\n```\r\n\r\n转载自https://www.hostloc.com/thread-581829-1-1.html\r\n\r\n","cover":"","link":"russia-pronhub-vkontakte-adblock-via.html","preview":"","title":"俄罗斯IP上P站添加规则跳过VK免登陆验证安卓Via浏览器AdBlock"},{"content":"\r\n\r\n\r\n### 浏览器安装插件\r\n\r\n[Accounts Pool](https://accountspool.com)\r\n\r\n[Chrome](https://accountspool.com/downloads/v1.1/accounts-pool.zip) or [Firefox](https://addons.mozilla.org/en-US/firefox/addon/accounts-pool/)\r\n\r\n\r\n* Chrome浏览器下载解压后打开[扩展程序](chrome://extensions/)【打开开发者模式】【加载已解压的扩展程序】来手动安装。\r\n\r\n\r\n### Get Cookies\r\n\r\n[Free Netflix Account Cookies [30+ Updated Every Hour] - NEW METHOD](https://tecknity.com/free-netflix-account-cookies/)\r\n\r\n按提示进入，直到看到Cookies然后打开插件中的【Use Cookies】即可自动跳转到[Netflix](https://www.netflix.com)\r\n\r\n- 应该就是已经登陆状态了\r\n\r\n\r\n\u003e PS:\r\n\r\n``` bash\r\nToo many people are using your account at the moment\r\nTo watch Shooter,stop playing on another screen.\r\n```\r\n\r\n目前有太多人在使用您的帐户\r\n要观看Shooter，请停止在其他屏幕上播放。\r\n\r\n\r\n","cover":"","link":"free-netflix-account-cookies.html","preview":"","title":"通过cookies免费看Netflix"},{"content":"\r\n\r\n下载[Kiwi Browser](https://play.google.com/store/apps/details?id=com.kiwibrowser.browser\u0026hl=zh)\r\n\r\n打开[Chrome 网上应用店 - 扩展程序](https://chrome.google.com/webstore/category/extensions) 搜索安装。\r\n\r\n如果需要的扩展并未上架 Chrome 网上应用店，或者因为一些网络原因，无法正常访问商店，那么你也可以手动安装 .crx/.zip 等格式的扩展。只要将扩展文件保存到本地，打开「开发者模式」，点按 Load，然后选择扩展文件即可。\r\n\r\n但该方式也有会不管用的时候。例如，我需要安装的一个扩展程序，只提供了 .zip 格式；但无论尝试了多少次，Kiwi 都无法成功安装。\r\n\r\n这种情况就略微复杂一些了。首先，你需要安装一个能够生成 file:// 链接的文件管理器（在用这种方式安装扩展时，Kiwi 需要识别文件链接，但 Android 上大部分文件管理器都不能生成）；这里建议直接安装 [Total Commander - file manager](https://play.google.com/store/apps/details?id=com.ghisler.android.TotalCommander)。\r\n\r\n然后，将 .zip 文件解压，在 Kiwi 中点按 Load，再选择「TotalCmd (file://url)」定位到解压后的文件夹，选择打开 mainfest.json 文件即可。\r\n\r\n目前来看，我在安装扩展的过程中，没有遇到过更多的问题。如果网络环境允许，建议直接通过 Chrome 网上应用店查找扩展，既快速又方便，也能满足大多数情况下的需求。\r\n\r\n转载自https://sspai.com/post/54218\r\n\r\n","cover":"","link":"kiwi-browser.html","preview":"\u003cp\u003eKiwi Browser是一款基于Chromium二次开发的增强版的Chrome浏览器，引入了对Chrome扩展程序插件的支持。\u003c/p\u003e\n","title":"Kiwi Browser让你的安卓Android手机端也能使用Chrome扩展插件"},{"content":"\r\n\r\nChrome下载 [32位](https://dl.google.com/tag/s/dl/chrome/install/googlechromestandaloneenterprise.msi) [64位](https://dl.google.com/tag/s/dl/chrome/install/googlechromestandaloneenterprise64.msi)\r\n\r\n\r\n[Chrome 网上应用店 - 扩展程序](https://chrome.google.com/webstore/category/extensions) `chrome`浏览器插件默认下载安装完后会删除.crx安装包\r\n\r\n# 离线下载保存`crx`插件的方法\r\n\r\n打开[扩展程序](chrome://extensions/)开启开发者模式，复制的扩展程序id到下面的网站下载。\r\n\r\n1. [Chrome Extension Downloader](https://chrome-extension-downloader.com/)\r\n2. http://yurl.sinaapp.com/crx.php\r\n\r\n例如：\r\n\r\n* [油猴脚本](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo)Tampermonkey的ID是`dhdgffkkebhmkfjojejmpbldmpobfkfo`\r\n* 二维码(QR码)生成器(QR Code Generator)的ID是`pflgjjogbmmcmfhfcnlohagkablhbpmg`\r\n\r\n# 离线安装`crx`插件\r\n\r\n新版chrome必须开启开发者模式，把后缀为.crx的插件直接拖放安装\r\n\r\n# 油猴脚本推荐\r\n\r\n1. [PanDownload网页版 - 百度网盘不限速直链下载 Jaeger](https://greasyfork.org/zh-CN/scripts/383059-pandownload%E7%BD%91%E9%A1%B5%E7%89%88-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8D%E9%99%90%E9%80%9F%E7%9B%B4%E9%93%BE%E4%B8%8B%E8%BD%BD-jaeger)\r\n2. [购物党自动比价工具-领取淘宝内部券](https://greasyfork.org/zh-CN/scripts/14466-%E8%B4%AD%E7%89%A9%E5%85%9A%E8%87%AA%E5%8A%A8%E6%AF%94%E4%BB%B7%E5%B7%A5%E5%85%B7-%E9%A2%86%E5%8F%96%E6%B7%98%E5%AE%9D%E5%86%85%E9%83%A8%E5%88%B8)\r\n3. [破解VIP会员视频集合](https://greasyfork.org/zh-CN/scripts/27530-%E7%A0%B4%E8%A7%A3vip%E4%BC%9A%E5%91%98%E8%A7%86%E9%A2%91%E9%9B%86%E5%90%88)\r\n4. [QQ音乐付费无损音乐免费下载](https://greasyfork.org/zh-CN/scripts/370308-qq%E9%9F%B3%E4%B9%90%E4%BB%98%E8%B4%B9%E6%97%A0%E6%8D%9F%E9%9F%B3%E4%B9%90%E5%85%8D%E8%B4%B9%E4%B8%8B%E8%BD%BD)\r\n\r\n更多脚本请访问[Greasy Fork - 安全、实用的用户脚本大全](https://greasyfork.org/zh-CN)\r\n\r\n","cover":"","link":"chrome-crx-tampermonkey-extensions.html","preview":"","title":"Chrome谷歌浏览器插件离线下载安装油猴脚本"},{"content":"\r\n\r\n看到有大佬科普了教育版onedrive怎么查看数据中心，捋了好久终于是捋清楚了几个版本的差别。\r\n\r\n刚好最近热度比较大的网盘我都有在用，干脆整理下做下对比。\r\n\r\n可能还有什么没有考虑到，欢迎大佬指正。\r\n\r\n# 几个了解到的情况\r\n\r\n1. Googledrive，不管是教育账户，个人账户，团队盘。 使用的线路都没有什么大的差别，使用自家的服务器集群。\r\n2. onedrive, 教育版A1，企业版E3 ，个人版都是走全球CDN, 经测试E3和A1下载地址后缀是sharepoint.com。走的cdn线路一样的。 个人版貌似线路IP不同。\r\n3. onedrive世纪互联版数据中心在北京，上海，国内基本直通。\r\n4. onedrive教育版,企业版,等sharepoint.com下载地址的，随着api泛滥，线路稳定性大打折扣。\r\n5. 谷歌盘单文件最大限制为 5T   ，one盘单文件最大限制为 15G，感谢大佬补充\r\n6. 团队盘单文件大小受限于自己帐号网盘的大小，如果是个人版谷歌盘容量只有15g,那么添加到该账户的团队盘单文件最大也是15G\r\n\r\n# Googledrive 各类型对比。\r\n\r\na. G Suite \r\n价格：12刀月。\r\n空间：标注1T 实际为无限。\r\n隐私：保障。\r\n国内：不可用。\r\n国际稳定性：好。\r\n翻车指标：准付费，无所畏惧\r\n\r\nb. Google drive社区大学邮箱版。 \r\n价格：约20-50\r\n隐私：无保障。\r\n翻车指标：利用虚假身份注册的号，校方追查便会翻车。\r\n(其余同上)\r\n\r\nc. Google drive校友邮箱版。 \r\n价格：约100-300。\r\n隐私：无保障。\r\n翻车指标：利用他人信息注册的号，使用者找回便会翻车。\r\n(其余同上)\r\n\r\nd. Google drive团队盘版。 \r\n价格：约0-200年\r\n隐私：无保障\r\n翻车指标：团队盘，管理员不管管理员是否在盘内，都可随时移除成员。\r\n(其余同上)\r\n\r\n# onedrive 各类型对比。单文件限制15G\r\n\r\na. onedrive 个人版 \r\n价格：60-100年（拼车）\r\n空间：1T\r\n隐私：保障。\r\n国内线路稳定性：好。\r\n国内：可用。\r\n翻车指标：准付费，无所畏惧\r\n\r\na. onedrive 世纪互联版 \r\n价格：最低32.00用户/月  感谢大佬补充\r\n空间：1T及\r\n隐私：保障。\r\n国内线路稳定性：非常好。\r\n国内：可用。\r\n翻车指标：准付费，无所畏惧\r\n\r\nb. onedrive 开发者e3 全局 \r\n价格：300-500\r\n空间：5T*25个账号   感谢大佬指正\r\n隐私：保障。\r\n国内线路稳定性：不好。\r\n国内：可用。（附带桌面应用）\r\n翻车指标：微软风控。后续微软政策变更等\r\n\r\n\r\nb. onedrive 教育版a1p \r\n价格：0-30\r\n空间：5T\r\n隐私：无保障。\r\n国内线路稳定性：不好。\r\n国内：可用。（附带桌面应用）\r\n翻车指标：微软风控。后续微软政策变更等\r\n（关于a1p订阅来历，以及具体翻车指标楼主还不了解。有了解的大佬可以补充下。）\r\n\r\n\r\nb. onedrive 教育版a1 \r\n价格：0-10\r\n空间：5T\r\n隐私：无保障。\r\n国内线路稳定性：不好。\r\n国内：可用。\r\n翻车指标：微软风控。后续微软政策变更等\r\n\r\n# 总结\r\n\r\n* 空间情况：谷歌盘最好。（无限）\r\n* 便携情况：onedrive个人版最好。（国内可用,线路稳定,app多兼容)\r\n* 线路情况：onedrive世纪互联版最好。(国内线路，全天候跑满。)\r\n* 价格情况：无法对比，越贵越好。 \r\n* 稳定情况：无法对比，没有付费，或通过正规渠道付费的，都有翻车风险，时间，政策变更都不可控，所以不要心存侥幸，（一定做好数据备份）。 \r\n\r\n# 临时补充\r\n\r\n1. 淘宝卖A1的，有部分严重溢价收智商税，也有伪造账号的，要注意不要受骗。\r\n2. onedrive，右上角，头像，点击我的帐户，选订阅可以看到自己账号类型。   \r\n3. 关于[世纪互联唯一登陆地址](https://portal.partner.microsoftonline.cn) 登陆不了就是假的世纪互联号。\r\n4. [普通国际版登陆地址](https://login.microsoftonline.com)\r\n5. 利用@萌咖大佬分享的[工具查数据中心](https://moeclub.org/lookup)可以查看账号数据中心。\r\n6. [世纪互联版office365购买地址](https://products.office.com/zh-cn/compare-china-global-versions-office365)\r\n7. [比较 Office 365 中国版及全球版订阅计划](https://products.office.com/zh-cn/compare-china-global-versions-office365)\r\n8. [安装 Office](https://account.microsoft.com/services/office/install)\r\n\r\n我选择Microsoft OneDrive家庭版拼车，睡觉也安心了！\r\n\r\n\r\n","cover":"","link":"microsoft-onedrive-google-drive-gsuite-e3-edu-version-difference.html","preview":"","title":"GoogleDrive云端硬盘Microsoft_OneDrive对比下A1_E3_GD版本区别"},{"content":"\r\n\r\n\r\n更新可以下载chrome企业包，全路径识别替换更新。国内可正常访问 企业版 \r\nMSI：\r\n\r\n[32位](https://dl.google.com/tag/s/dl/chrome/install/googlechromestandaloneenterprise.msi) or [64位](https://dl.google.com/tag/s/dl/chrome/install/googlechromestandaloneenterprise64.msi)\r\n","cover":"","link":"chrome-download-windows.html","preview":"","title":"更新国内直连可以下载chrome官方的链接"},{"content":"\r\n\r\n``` bash\r\nsudo iptables -P INPUT ACCEPT\r\nsudo iptables -P FORWARD ACCEPT\r\nsudo iptables -P OUTPUT ACCEPT\r\nsudo iptables -F\r\niptables-save \u003e /etc/iptables/rules.v4\r\n```\r\n","cover":"","link":"ubuntu-iptables.html","preview":"","title":"Ubuntu18.04关闭防火墙开放所有端口"},{"content":"\r\n\r\n订阅:Visual Studio Enterprise\r\n3年 每月150美元的额度\r\n\r\n订阅激活\r\nhttps://account.windowsazure.com/signup?offer=MS-AZR-0063P\r\n\r\n前往设置备用邮箱\r\nhttps://my.visualstudio.com/Subscriptions \r\n\r\n10分钟后 登陆Azure管理入口\r\n\r\nhttps://portal.azure.com\r\n\r\n注册成功后建议在msdn订阅页面删除这个备用邮箱和订阅的关联性，如果azure翻车 反复前面的步骤。理论上就可以继续重新注册azure了。【哪里跌倒哪里爬起来】\r\n\r\n","cover":"","link":"azure-visualstudio-msdn.html","preview":"\u003cp\u003eVisual Studio Enterprise订阅翻车补救azure\u003c/p\u003e\n","title":"最近azure的3年版MSDN订阅翻车补救【无限复活】Visual Studio Enterprise"},{"content":"\n\n背景:\n\n1. 适用于由GRUB引导的CentOS,Ubuntu,Debian系统.\n2. 使用官方发行版去掉模板预装的软件.\n3. 同时也可以解决内核版本与软件不兼容的问题。\n4. 只要有root权限,还您一个纯净的系统。\n\n注意:\n\n1. 全自动安装默认root密码:MoeClub.org\n2. 安装完成后请立即更改密码.\n3. 能够全自动重装Debian/Ubuntu/CentOS等系统.\n4. 同时提供dd安装镜像功能,例如: 全自动无救援dd安装windows系统\n5. 全自动安装CentOS时默认提供VNC功能,可使用VNC Viewer查看进度,\n6. VNC端口为1或者5901,可自行尝试连接.(成功后VNC功能会消失.)\n7. 目前CentOS系统只支持任意版本重装为 CentOS 6.x 及以下版本.\n8. 特别注意:OpenVZ构架不适用.\n\n\n依赖包:\n\n``` bash\n#二进制文件    Debian/Ubuntu    RedHat/CentOS\niconv         [libc-bin]       [glibc-common]\nxz            [xz-utils]       [xz]\nawk           [gawk]           [gawk]\nsed           [sed]            [sed]\nfile          [file]           [file]\ngrep          [grep]           [grep]\nopenssl       [openssl]        [openssl]\ncpio          [cpio]           [cpio]\ngzip          [gzip]           [gzip]\ncat,cut..     [coreutils]      [coreutils]\n```\n\n确保安装了所需软件:\n\n``` bash\n#Debian/Ubuntu:\napt-get install -y xz-utils openssl gawk file\n\n#RedHat/CentOS:\nyum install -y xz openssl gawk file\n```\n\n如果出现了错误,请运行:\n\n``` bash\n#Debian/Ubuntu:\napt-get update\n\n#RedHat/CentOS:\nyum update\n```\n\n快速使用示例:\n\n``` bash\nbash \u003c(wget --no-check-certificate -qO- 'https://moeclub.org/attachment/LinuxShell/InstallNET.sh') -d 8 -v 64 -a\n```\n\n下载及说明:\n\n``` bash\nwget --no-check-certificate -qO InstallNET.sh 'https://moeclub.org/attachment/LinuxShell/InstallNET.sh' \u0026\u0026 chmod a+x InstallNET.sh\n```\n\n一些说明\n\n``` bash\nUsage:\n        bash InstallNET.sh      -d/--debian [dist-name]\n                                -u/--ubuntu [dist-name]\n                                -c/--centos [dist-version]\n                                -v/--ver [32/i386|64/amd64]\n                                --ip-addr/--ip-gate/--ip-mask\n                                -apt/-yum/--mirror\n                                -dd/--image\n                                -a/-m\n\n# dist-name: 发行版本代号\n# dist-version: 发行版本号\n# -apt/-yum/--mirror : 使用定义镜像\n# -a/-m : 询问是否能进入VNC自行操作. -a 为不提示(一般用于全自动安装), -m 为提示.\n```\n\n安装debian9 (-firmware 额外驱动支持)\n\n``` bash\nbash \u003c(wget --no-check-certificate -qO- 'https://moeclub.org/attachment/LinuxShell/InstallNET.sh') -d 9 -v 64 -a -firmware\n```\n\n\n使用示例:\n\n``` bash\n#使用默认镜像全自动安装\nbash InstallNET.sh -d 8 -v 64 -a\n\n#使用自定义镜像全自动安装\nbash InstallNET.sh -c 6.10 -v 64 -a --mirror 'http://mirror.centos.org/centos'\n\n# 以下示例中,将X.X.X.X替换为自己的网络参数.\n# --ip-addr :IP Address/IP地址\n# --ip-gate :Gateway   /网关\n# --ip-mask :Netmask   /子网掩码\n\n#使用自定义镜像全自动安装\n#bash InstallNET.sh -u 9 -v 64 -a --mirror 'http://mirrors.ustc.edu.cn/debian/'\n\n#使用自定义镜像自定义网络参数全自动安装\n#bash InstallNET.sh -u 16.04 -v 64 -a --ip-addr x.x.x.x --ip-gate x.x.x.x --ip-mask x.x.x.x --mirror 'http://archive.ubuntu.com/ubuntu'\n\n#使用自定义网络参数全自动dd方式安装\n#bash InstallNET.sh --ip-addr x.x.x.x --ip-gate x.x.x.x --ip-mask x.x.x.x -dd 'https://moeclub.org/onedrive/IMAGE/Windows/win7emb_x86.tar.gz'\n\n#使用自定义网络参数全自动dd方式安装存储在谷歌网盘中的镜像(调用文件ID的方式)\n#bash InstallNET.sh --ip-addr x.x.x.x --ip-gate x.x.x.x --ip-mask x.x.x.x -dd \"https://image.moeclub.org/GoogleDrive/1cqVl2wSGx92UTdhOxU9pW3wJgmvZMT_J\"\n\n#使用自定义网络参数全自动dd方式安装存储在谷歌网盘中的镜像\n#bash InstallNET.sh --ip-addr x.x.x.x --ip-gate x.x.x.x --ip-mask x.x.x.x -dd \"https://image.moeclub.org/GoogleDrive/1cqVl2wSGx92UTdhOxU9pW3wJgmvZMT_J\"\n\n#国内推荐使用USTC源\n#--mirror 'http://mirrors.ustc.edu.cn/debian/'\n```\n\n一些可用镜像地址:\n\n``` bash\n# 推荐使用带有 /GoogleDrive/ 链接, 速度更快.\n# 当然也可以使用自己GoogleDrive中储存的镜像,使用方式:\n  https://image.moeclub.org/GoogleDrive/\n\n# win7emb_x86.tar.gz:\n  https://image.moeclub.org/GoogleDrive/1srhylymTjYS-Ky8uLw4R6LCWfAo1F3s7 \n  https://moeclub.org/onedrive/IMAGE/Windows/win7emb_x86.tar.gz\n\n# win8.1emb_x64.tar.gz:\n  https://image.moeclub.org/GoogleDrive/1cqVl2wSGx92UTdhOxU9pW3wJgmvZMT_J\n  https://moeclub.org/onedrive/IMAGE/Windows/win8.1emb_x64.tar.gz\n\n# win10ltsc_x64.tar.gz:\n  https://image.moeclub.org/GoogleDrive/1OVA3t-ZI2arkM4E4gKvofcBN9aoVdneh\n  https://moeclub.org/onedrive/IMAGE/Windows/win10ltsc_x64.tar.gz\n```\n\n一些提示:\n\n``` bash\n特别注意:\n萌咖提供的dd安装镜像\n远程登陆账号为: Administrator\n远程登陆密码为: Vicer\n仅修改了主机名,可放心使用.(建议自己制作.)\n在dd安装系统镜像时:\n在你的机器上全新安装,如果你有VNC,可以看到全部过程. 在dd安装镜像的过程中,不会走进度条(进度条一直显示为0%).完成后将会自动重启.\n分区界面标题一般显示为: \"Starting up the partitioner\"\n使用谷歌网盘中储存的镜像: [无限制大小] 获取谷歌网盘文件临时直接下载链接\n在全自动安装CentOS时:\n如果看到 \"Starting graphical installation\" 或者类似表达,则表示正在安装.\n正常情况下只需要耐心等待安装完成即可.\n如果需要查看进度,使用VNC Viewer(或者其他VNC连接工具)\n连接提示中的IP地址:端口进行连接.(端口一般为1或者5901)\n```\n\n声明:\n\n各种形式的翻译或转载需注明作者及本文地址.\n使用该脚本造成的任何直接损失或间接损失,萌咖不负任何责任.\n\n 最后修改：2019 年 05 月 12 日 09 : 47 PM\n\n转载自https://moeclub.org/2018/04/03/603/?spm=22.5\n\n[InstallNET.sh](/bash/LinuxShell-InstallNET.sh)\n\n\n---\n\n指定网路参数安装（比如GCP谷歌云）将X.X.X.X替换为自己的网络参数. \n\n1. --ip-addr :IP Address/内网IP地址 \n2. --ip-mask :Netmask /子网掩码 \n3. --ip-gate :Gateway /网关\n\n```\nwget --no-check-certificate -qO InstallNET.sh 'https://moeclub.org/attachment/LinuxShell/InstallNET.sh' \u0026\u0026 bash InstallNET.sh --ip-addr X.X.X.X --ip-mask X.X.X.X --ip-gate X.X.X.X -dd 'DD包 直链地址'\n```\n","cover":"","link":"linux-vps-dd-debian-ubuntu-centos.html","preview":"\u003cp\u003eLinux VPS Debian/Ubuntu/CentOS DD重装dd系统windows\u003c/p\u003e\n","title":"Linux VPS Debian/Ubuntu/CentOS DD系统网络安装/网络重装/纯净安装 一键脚本"},{"content":"\n\n### 下载 Xshell 6 \u0026 Xftp 6\n\n在 https://www.netsarang.com/zh/all-downloads/ 选择下载评估版。\n填写邮箱信息\n\n收到下载地址后将下载地址加上r。\n\n例如 https://cdn.netsarang.net/f8a8d224/XmanagerPowerSuite-6.0.0009.exe\n\n改为 https://cdn.netsarang.net/f8a8d224/XmanagerPowerSuite-6.0.0009r.exe\n\n如果下载不带r的版本，无法输入序列号，注意不要下载到“思杰马克丁”特供版\n\n\n### 卸载旧版及清除注册表\n\n卸载所有版本的Xshell，Xmanager，Xftp，Xldp和Netsarang产品，并从注册表中删除 NetSarang 目录 (HKEY_CURRENT_USER\\Software\\NetSarang)\n\n在`CMD`中执行\n\n``` bash\nREG DELETE HKEY_CURRENT_USER\\Software\\NetSarang /f\n```\n\n### 设置hosts\n\n在文件C:\\Windows\\System32\\drivers\\etc\\hosts  添加屏蔽相关域名\n\n```\n# xshell\n127.0.0.1 transact.netsarang.com\n127.0.0.1 update.netsarang.com\n127.0.0.1 www.netsarang.com\n127.0.0.1 www.netsarang.co.kr\n127.0.0.1 sales.netsarang.com\n127.0.0.1 active.netsarang.com\n```\n\n### 安装\n\n使用下面的序列号安装Xshell,任选其一：\n\n```\n181231-111850-999729\n181231-111753-999305\n181231-111533-999913\n181231-111713-999609\nXshell Plus 6 : 180505-117501-020791\nXmanager Power Suite 6 :180429-116253-999126\n```\n\n\n### 修改用户权限\n\n安装完成后，将对应的xshell和xftp程序运行一次后（一定要先运行一次）。\n打开注册表，将下列字段设置为当前用户拒绝全部权限，否则会反弹。\n\n```\nHKEY_CURRENT_USER\\Software\\NetSarang\\Xftp\\6\\LiveUpdate\nHKEY_CURRENT_USER\\Software\\NetSarang\\Xlpd\\6\\LiveUpdate\nHKEY_CURRENT_USER\\Software\\NetSarang\\Xmanager\\6\\LiveUpdate\nHKEY_CURRENT_USER\\Software\\NetSarang\\Xshell\\6\\LiveUpdate\n```\n\n打开注册表程序（开始 -\u003e 运行 -\u003e `regedit` 或 `win + R` 打开运行输入 `regedit` 回车进入注册表编辑器）\n\n`HKEY_CURRENT_USER\\Software\\NetSarang\\Xshell\\6\\LiveUpdate`  右击【权限】\n\n依次点击 【高级】【禁用继承】  【权限转换】 编辑并取消各用户的所有权限\n\nxftp方法一样的\n\n### 删除禁用更新程序\n\n在 【工具】 【选项】 【更新】 取消勾选【实时更新】\n\n`C:\\Program Files (x86)\\NetSarang\\Xshell 6`安装目录下的`LiveUpdate.exe` 和  `LiveUpdate.dat`\n\n\n\n\n","cover":"","link":"xshell6.html","preview":"\u003cp\u003e最新永久激活破解Xshell6和Xftp6 有效阻止反弹\u003c/p\u003e\n","title":"最新永久激活破解Xshell6和Xftp6"},{"content":"\n\n### 安装Caddy\n\n``` bash\ncurl https://getcaddy.com | bash -s personal tls.dns.cloudflare\n```\n\n后面的`tls.dns.cloudflare`为`cloudflare`的插件，如果你是其它DNS服务商就需要替换下插件参数，比如：\n\n``` bash\ntls.dns.auroradns\ntls.dns.azure\ntls.dns.cloudflare\ntls.dns.cloudxns\ntls.dns.digitalocean\ntls.dns.dnsimple\ntls.dns.dnsmadeeasy\ntls.dns.dnspod\ntls.dns.dyn\ntls.dns.exoscale\ntls.dns.gandi\ntls.dns.gandiv5\ntls.dns.godaddy\ntls.dns.googlecloud\ntls.dns.lightsail\ntls.dns.linode\ntls.dns.namecheap\ntls.dns.ns1\ntls.dns.otc\ntls.dns.ovh\ntls.dns.powerdns\ntls.dns.rackspace\ntls.dns.rfc2136\ntls.dns.route53i\ntls.dns.vultr\n```\n\n### 设置环境变量\n\n以下为Caddy申请通配符时所需要的DNS服务商的环境变量。\n\n``` bash\n#Aurora DNS by PCExtreme\nAURORA_USER_ID\nAURORA_KEY\nAURORA_ENDPOINT(optional)\n\n#Azure DNS\nAZURE_CLIENT_ID\nAZURE_CLIENT_SECRET\nAZURE_SUBSCRIPTION_ID\nAZURE_TENANT_ID\n\n#Cloudflare\nCLOUDFLARE_EMAIL\nCLOUDFLARE_API_KEY\n\n#CloudXNS\nCLOUDXNS_API_KEY\nCLOUDXNS_SECRET_KEY\n\n#DigitalOcean\nDO_AUTH_TOKEN\n\n#DNSimple\nDNSIMPLE_EMAIL\nDNSIMPLE_OAUTH_TOKEN\n\n#DNS Made Easy\nDNSMADEEASY_API_KEY\nDNSMADEEASY_API_SECRET\nDNSMADEEASY_SANDBOX(true/false)\n\n#DNSPod\nDNSPOD_API_KEY\n\n#DynDNS\nDYN_CUSTOMER_NAME\nDYN_USER_NAME\nDYN_PASSWORD\n\n#Gandi/Gandiv5\nGANDI_API_KEY/GANDIV5_API_KEY\n\n#GoDaddy\nGODADDY_API_KEY\nGODADDY_API_SECRET\n\n#Google Cloud DNS    \nGCE_PROJECT\nGCE_DOMAIN\nGOOGLE_APPLICATION_CREDENTIALS\n\n#Lightsail by AWS\nAWS_ACCESS_KEY_ID\nAWS_SECRET_ACCESS_KEY\nAWS_SESSION_TOKEN(optional)\nDNS_ZONE(optional)\n\n#Linode\nLINODE_API_KEY\n\n#Namecheap\nNAMECHEAP_API_USER\nNAMECHEAP_API_KEY\n\n#NS1\nNS1_API_KEY\n\n#Open Telekom Cloud Managed DNS\nOTC_DOMAIN_NAME\nOTC_USER_NAME\nOTC_PASSWORD\nOTC_PROJECT_NAME\nOTC_IDENTITY_ENDPOINT(optional)\n\n#OVH\nOVH_ENDPOINT\nOVH_APPLICATION_KEY\nOVH_APPLICATION_SECRET\nOVH_CONSUMER_KEY\n\n#PowerDNS\nPDNS_API_URL\nPDNS_API_KEY\n\n#Rackspace\nRACKSPACE_USER\nRACKSPACE_API_KEY\n\n#RFC2136\nRFC2136_NAMESERVER\nRFC2136_TSIG_ALGORITHM\nRFC2136_TSIG_KEY\nRFC2136_TSIG_SECRET\n\n#Route53 by AWS    \nAWS_ACCESS_KEY_ID\nAWS_SECRET_ACCESS_KEY\n\n#Vultr\nVULTR_API_KEY\n```\n\n登陆CloudFlare的[API Tokens](https://dash.cloudflare.com/profile/api-tokens) 然后下拉找到【API Keys】【Global API Key】【View】\n\n再使用命令设置环境变量：\n\n``` bash\nexport CLOUDFLARE_API_KEY=\"3ce7025c4ae*****35003326cad0bc1a6694f\"  #CloudFlare账户API\nexport CLOUDFLARE_EMAIL=\"yourname@gmail.com\"  #CloudFlare账户邮箱\n```\n\n### 获取通配符\n\n先新建配置文件，使用命令：\n\n#将域名修改为自己的，然后将下面全部一起复制到SSH客户端运行\n\n``` bash\necho \"*.xxx.com {\ntls {\n    dns cloudflare\n}\n}\" \u003e Caddyfile\n```\n\n这里如果你是其它DNS服务商就需要修改dns后面的参数，也就是服务商名称，均用小写字母，可以参考步骤1安装caddy的插件参数，比如插件为tls.dns.auroradns，那就用dns auroradns参数。\n\n然后启动Caddy：\n\n``` bash\ncaddy -conf Caddyfile\n```\n\n会自动给你生成一个通配符SSL证书 Caddy自动申请SSL证书位置：\n\n``` bash\n~/.caddy/acme/acme-v02.api.letsencrypt.org/sites/wildcard_.xxx.com\n```\n\n此时你就可以使用`*.xxx.com.crt`和`*.xxx.com.key`文件为你的所有子域名配置SSL了。\n\n最后证书有效期依然是3个月，到期后可以重新用此方法申请。\n\n如果提示`WARNING: File descriptor limit 1024 is too low for production servers. At least 8192 is recommended. Fix with `ulimit -n 8192`.`可按提示输入以下命令\n\n``` bash\nulimit -n 8192\n```\n","cover":"","link":"caddy-cloudflare-api-dns-ssl.html","preview":"","title":"Caddy利用CloudFlare DNS申请泛域名证书"},{"content":"\r\n\r\n\r\n\r\n安装git\r\n\r\n``` bash\r\napt-get install git -y\r\n```\r\n\r\n进入目录后初始化\r\n\r\n``` bash\r\ngit init\r\n```\r\n\r\n# 排除不需要备份的文件和目录\r\n\r\n在根目录下创建`.gitignore`文件，里面的文件或目录不会被上传到github. 例：\r\n\r\n``` bash\r\npublic\r\nthemes\r\ndev\r\n.git\r\n.DS_Store\r\n*.bak\r\n*_bak\r\n*.old\r\n*.log\r\n```\r\n\r\n\r\n# 使用 SSH 密钥登录 GitHub\r\n\r\n``` bash\r\ngit config --global user.name \"username\"\r\ngit config --global user.email \"username168@gmail.com\"\r\nssh-keygen -t rsa -C 'username@gmail.com'\r\n```\r\n\r\n然后使用\r\n\r\n``` bash\r\ncat /root/.ssh/id_rsa.pub\r\n```\r\n\r\n把里面的文本全部复制到\r\nhttps://github.com/username/branchname/settings/keys `Add deploy key`\r\n\r\n``` bash\r\nssh -T git@github.com\r\n```\r\n\r\n测试是否连接成功\r\n\r\n# 推送到github\r\n\r\n``` bash\r\ngit commit -m \"自定义描述\"\r\ngit remote add origin git@github.com:username/branchname.git\r\ngit push -u origin master\r\n```\r\n\r\n# git push错误提示\r\n\r\n使用`git push -u origin master`时弹出错误提示\r\n\r\n* src refspec master does not match any.\r\n\r\n``` bash\r\nerror: src refspec master does not match any.\r\nerror: failed to push some refs to 'git@github.com:username/branchname.git'\r\n```\r\n\r\n然后用如下方法解决了：\r\n\r\n``` bash\r\ngit add .\r\ngit commit -m \"write your meaaage\"  \r\n```\r\n\r\n* ERROR: Repository not found.\r\n\r\n``` bash\r\nERROR: Repository not found.\r\nfatal: Could not read from remote repository.\r\n\r\nPlease make sure you have the correct access rights\r\nand the repository exists.\r\n```\r\n\r\n解决方案是\r\n\r\n``` bash\r\ngit remote set-url origin git@github.com:username/branchname.git\r\n```\r\n\r\n# 更新push\r\n\r\n以后当有更新时，使用以下三步曲上传。\r\n\r\n``` bash\r\ngit add .\r\ngit commit -m \"自定义描述\" \r\ngit push -u origin master\r\n```\r\n","cover":"","link":"git-push-error.html","preview":"","title":"推送发布到GitHub及错误提示"},{"content":"\r\n\r\n近期微软放出了官方 Windows 7 （2019版） 全补丁集成版ISO映像文件，分别是2018年8月1日编译的旗舰版、专业版、家庭高级版的64位和32位镜像，版本号Build 7601.24214，目前只有英文版。\r\n\r\n\r\n主要特点如下：\r\n\r\n* 集成最新的.net Framework框架.net Framework 4.7.2。\r\n* 集成了SP1以后发布的有效更新186个\r\n* 官方支持 UEFI 和 NVME 启动。\r\n* 集成 USB 3.0/3.1。\r\n* Internet Explorer 11。\r\n* Win 10 模式的EFI。\r\n\r\n\r\n真正官方原生编译集成，绝非民间自制版本！。\r\n\r\n# 64位系统镜像下载地址\r\n\r\n旗舰版: [7601.24214.180801-1700.win7sp1_ldr_escrow_CLIENT_ULTIMATE_x64FRE_en-us.iso](http://download.microsoft.com/download/5/1/9/5195A765-3A41-4A72-87D8-200D897CBE21/7601.24214.180801-1700.win7sp1_ldr_escrow_CLIENT_ULTIMATE_x64FRE_en-us.iso)\r\n\r\nSHA1: 7CC76B0015220DE956328FB934D61B710A94293D\r\n\r\n专业版：[7601.24214.180801-1700.win7sp1_ldr_escrow_CLIENT_PROFESSIONAL_x64FRE_en-us.iso](http://download.microsoft.com/download/0/6/3/06365375-C346-4D65-87C7-EE41F55F736B/7601.24214.180801-1700.win7sp1_ldr_escrow_CLIENT_PROFESSIONAL_x64FRE_en-us.iso)\r\n\r\nSHA1: B3260CE8C339E13C4E6D327E1310B06C8E1402B0\r\n\r\n家庭高级版：[7601.24214.180801-1700.win7sp1_ldr_escrow_CLIENT_HOMEPREMIUM_x64FRE_en-us.iso](http://download.microsoft.com/download/E/A/8/EA804D86-C3DF-4719-9966-6A66C9306598/7601.24214.180801-1700.win7sp1_ldr_escrow_CLIENT_HOMEPREMIUM_x64FRE_en-us.iso)\r\n\r\nSHA1: C15BB9873548BD4A69371BC7966560C13162128C\r\n\r\n# 32位系统镜像下载地址\r\n\r\n旗舰版：[7601.24214.180801-1700.win7sp1_ldr_escrow_CLIENT_ULTIMATE_x86FRE_en-us.iso](http://download.microsoft.com/download/1/E/6/1E6B4803-DD2A-49DF-8468-69C0E6E36218/7601.24214.180801-1700.win7sp1_ldr_escrow_CLIENT_ULTIMATE_x86FRE_en-us.iso)\r\n\r\nSHA1：6F8791FBB4E883FF96B7FFC202640B0A8053D122\r\n\r\n专业版：[7601.24214.180801-1700.win7sp1_ldr_escrow_CLIENT_PROFESSIONAL_x86FRE_en-us.iso](https://download.microsoft.com/download/C/0/6/C067D0CD-3785-4727-898E-60DC3120BB14/7601.24214.180801-1700.win7sp1_ldr_escrow_CLIENT_PROFESSIONAL_x86FRE_en-us.iso)\r\n\r\nSHA1：F1B6B81C6F6C7BAB91DCAF711502706468B3D09A\r\n\r\n\r\n家庭高级版：[7601.24214.180801-1700.win7sp1_ldr_escrow_CLIENT_HOMEPREMIUM_x86FRE_en-us.iso](http://download.microsoft.com/download/E/D/A/EDA6B508-7663-4E30-86F9-949932F443D0/7601.24214.180801-1700.win7sp1_ldr_escrow_CLIENT_HOMEPREMIUM_x86FRE_en-us.iso)\r\n\r\nSHA1：110674427B27F7216A95C4D659AE9F211C91FEFD\r\n\r\n# 简体中文语言包下载地址\r\n\r\n[64位](http://download.windowsupdate.com/msdownload/update/software/updt/2011/02/windows6.1-kb2483139-x64-zh-cn_2c1884b4fdf6c8e91986369d88bbcaae01c6f187.exe) or [32位](http://download.windowsupdate.com/msdownload/update/software/updt/2009/08/windows6.1-kb972813-x86-zh-cn_ab024143b556395e6638e26712b1e0f3bc031fcf.exe)\r\n\r\n\r\nps:微软做的这个新镜像很赞，集成到2018年11月的所有更新，适合于想要长期继续使用Windows 7的用户。毕竟微软上一次发布Windows 7的镜像还是在SP1那时候，在遥远的2011年5月12日，安装那版镜像后要装很多更新，非常不便。现在微软做了集成更新的Windows 7镜像，对广大Windows 7用户以及企业IT管理员无疑是个福音。最后还是希望微软能发布全语言版的新Windows 7镜像。\r\n\r\n\r\n\r\n\r\n","cover":"","link":"microsoft-windows7-2019update-iso-download.html","preview":"","title":"Win7用户福音：微软集成2019更新的新版Windows 7镜像"},{"content":"\r\n\r\n# 申请开通支付宝当面付基础版费率0.38%\r\n\r\n操作步骤\r\n\r\n打开[蚂蚁金服开放](https://openhome.alipay.com/platform/home.htm) 登录 \r\n\r\n打开：https://openhome.alipay.com/isv/isvMerchantManage.htm 点击【新增商户】\r\n\r\n特别提醒：\r\n\r\n- 输入类目自己看着，一般选零售，比如生活百货（不建议选择金融网络）\r\n- 营业执照是非必填项，可以不上传\r\n- 上传门头，可以利用搜索引擎或者大众点评\r\n- 联系方式？（据说可以随便输入，建议输入真实的）\r\n- 费率建议选择0.38\r\n\r\n申请出错\r\n\r\n有网友反馈无法申请，返回错误！可以试一试下面的地址申请！不过**费率是0.6**\r\n\r\nhttps://b.alipay.com/signing/authorizedProductSet.htm\r\n\r\n\r\n并按提示完成签约上线, 查看 [商家签约管理](https://openhome.alipay.com/isv/settling/queryMerchantSignProductList.htm)\r\n\r\n![](/images/alipay-dangmianfu.png)\r\n\r\n\r\n\r\n# 支付宝当面付对接ZFAKA\r\n\r\n[RSA私钥及公钥生成](https://docs.open.alipay.com/58/103242)\r\n\r\n生成方式一（推荐）：使用支付宝提供的一键生成工具（内附使用说明）\r\n\r\nWindows：[下载](http://p.tb.cn/rmsportal_6680_secret_key_tools_RSA_win.zip)\r\n\r\nMAC OSX：[下载](http://p.tb.cn/rmsportal_6680_secret_key_tools_RSA_macosx.zip)\r\n\r\n解压打开文件夹，直接运行“RSA 签名验签工具.bat”（WINDOWS）或“RSA 签名验签工具.command”（MAC_OSX），点击“生成 RSA 密钥”，会自动生成公私钥，然后点击 `打开文件位置`，即可找到工具自动生成的密钥。\r\n具体步骤请参考签名专区[生成RSA密钥指南](https://docs.open.alipay.com/291/105971)。\r\n\r\n1. 把`RSA 签名验签工具`生成的`商户应用公钥`复制到网页\u0026移动应用 [管理中心-蚂蚁金服开放平台](https://openhome.alipay.com/platform/appManage.htm#/apps)【应用信息】【加签方式】【应用公钥(SHA256withRsa)】【应用公钥】中\r\n2. 把ZFAKA【支付宝当面付】上方的【本支付接口异步支付回调地址】\r\n\r\n``` bash\r\nhttps://xxx.xxx.xxx/product/notify/?paymethod=zfbf2f\r\n```\r\n\r\n复制到支付宝的【授权回调地址】中，其中`https://xxx.xxx.xxx`是自己的域名\r\n\r\n3. 在支付宝【加签方式】【查看支付宝公钥】并把它复制到ZFAKA【后台管理】【设置中心】【支付设置】【支付宝当面付】【编辑】【ali_public_key】中\r\n\r\n4. 把支付宝【APPID】复制到【ZFAKA】中\r\n\r\n5. 把`RSA 签名验签工具`生成的`商户应用私钥`复制到【ZFAKA】应用密匙【rsa_private_key】中\r\n","cover":"","link":"apply-alipay-dangmianfu-zfaka.html","preview":"\u003cp\u003e支付宝当面付对接ZFAKA教程\u003c/p\u003e\n","title":"免费申请开通支付宝当面付基础版费率0.38%对接ZFAKA教程"},{"content":"\r\n\r\n支持升级到OneDrive 25T的订阅如下：\r\n\r\n``` bash\r\nOffice 365 企业版 E3\r\nOffice 365 企业版 E5\r\nOneDrive for Business 计划 2\r\nSharePoint Online 计划 2\r\nOffice 365 企业版 E3\r\nOffice 365 企业版 E5\r\nOffice 365 A1\r\nOffice 365 A3\r\nOffice 365 A5\r\nOffice 365 美国政府版 G3\r\nOffice 365 美国政府版 G5\r\nOffice 365 非营利版 E3\r\nOffice 365 非赢利组织版 E5\r\nMicrosoft 365 企业版 E3\r\nMicrosoft 365 企业版 E5\r\nMicrosoft 365 A3\r\nMicrosoft 365 A5\r\nMicrosoft 365 美国政府版 G3\r\nMicrosoft 365 美国政府版 G5\r\nMicrosoft 365 非营利组织版 E3\r\nMicrosoft 365 非营利组织版 E5\r\n```\r\n\r\n如果用户已使用5TB存储空间的至少90%容量，Microsoft最多会将OneDrive中的默认存储空间增加到每用户25 TB（需要全局管理员工单申请并设置）。\r\n\r\n#### 提交工单申请扩容25TB\r\n\r\n以全局管理员登录[Microsoft 365 admin center - Home](https://admin.microsoft.com/Adminportal/Home) 点击左侧`全部显示` `支持` `新建服务请求` 内容大概意思就是`请帮我把user1111@xxx.onmicrosoft.com的onedrive容量从5TB升级到25TB` 然后填上管理员邮箱、电话，附件上传几张该账号容量超过90%的截图，包括账户信息（浏览器缩小百分比），等待电话或邮件告知成功\r\n\r\n#### [更改特定用户的 OneDrive 存储空间](https://docs.microsoft.com/zh-cn/onedrive/change-user-storage)\r\n\r\n1. 假设onedrive管理地址是https://xxx-my.sharepoint.com/\r\n2. 假设你的全局管理邮箱是admin@xxx.onmicrosoft.com\r\n3. 全局管理邮箱密码是:mypassword\r\n4. 需要把用户user1111@xxx.onmicrosoft.com的onedrive容量从5TB升级到25TB\r\n\r\n最小值为 1024 MB （1 GB）以MB为单位,5242880MB=5TB  26214400MB=25TB\r\n\r\n[下载最新版 SharePoint Online 命令行管理程序](https://www.microsoft.com/zh-cn/download/details.aspx?id=35588)安装后打开，执行以下命令。\r\n\r\n``` bash\r\nPS C:\\Windows\\system32\u003e $adminUPN=\"admin@xxx.onmicrosoft.com\"\r\nPS C:\\Windows\\system32\u003e $adminPWD=\"mypassword\"\r\nPS C:\\Windows\\system32\u003e $userCredential = Get-Credential -UserName $adminUPN -Message \"Type the password.\"            #弹窗登陆\r\nPS C:\\Windows\\system32\u003e Connect-SPOService -Url https://xxx-admin.sharepoint.com -Credential $admin                   #弹窗登陆\r\nPS C:\\Windows\\system32\u003e Set-SPOSite -Identity https://xxx-my.sharepoint.com/personal/user1111_xxx_onmicrosoft_com -StorageQuota 26214400\r\nPS C:\\Windows\\system32\u003e\r\n```\r\n\r\n**自行替换成自己的邮箱ID、密码等等** \r\n\r\n---\r\n\r\n\r\n#### [设置 OneDrive 用户的默认存储空间](https://docs.microsoft.com/zh-cn/onedrive/set-default-storage-space)\r\n\r\n以全局或 SharePoint 管理员的身份登录到[OneDrive 管理中心](https://admin.onedrive.com)并在左窗格中选择`存储`。在 `默认存储空间` 框中输入默认存储量（以 GB 为单位），然后单击 `保存`。\r\n","cover":"","link":"onedrive25tb.html","preview":"","title":"OneDrive存储空间升级到25TB的教程"},{"content":"\r\n\r\n使用`update-rc.d`以及`rc.local`等方法就是不生效。后来在ubuntu的官方论坛ubuntu-16.10开始不再使用initd管理系统改用systemd\r\n\r\nubuntu-18.04 LTS版本用的是systemctl命令来替换了service和chkconfig的功能。\r\n\r\n\u003e systemd is now used for user sessions. System sessions had already been provided by systemd in previous Ubuntu releases.\r\n\r\n\r\n比如以前启动 mysql 服务用:\r\n\r\n``` bash\r\nsudo service mysql start\r\n```\r\n\r\n现在用：\r\n\r\n``` bash\r\nsudo systemctl start mysqld.service\r\n```\r\n\r\n其实这个改动到不是算大，主要是开机启动比以前复杂多了。systemd 默认读取 /etc/systemd/system 下的配置文件，该目录下的文件会链接/lib/systemd/system/下的文件。\r\n\r\n执行 ls /lib/systemd/system 你可以看到有很多启动脚本，其中就有我们需要的 rc.local.service\r\n\r\n打开脚本内容：\r\n\r\n``` bash\r\ncat /lib/systemd/system/rc.local.service\r\n```\r\n\r\n可以看出`/lib/systemd/system/rc.local.service`的启动顺序是没有`Install`段\r\n\r\n``` bash\r\n#  This file is part of systemd.\r\n#\r\n#  systemd is free software; you can redistribute it and/or modify it\r\n#  under the terms of the GNU Lesser General Public License as published by\r\n#  the Free Software Foundation; either version 2.1 of the License, or\r\n#  (at your option) any later version.\r\n\r\n# This unit gets pulled automatically into multi-user.target by\r\n# systemd-rc-local-generator if /etc/rc.local is executable.\r\n[Unit]\r\nDescription=/etc/rc.local Compatibility\r\nConditionFileIsExecutable=/etc/rc.local\r\nAfter=network.target\r\n\r\n[Service]\r\nType=forking\r\nExecStart=/etc/rc.local start\r\nTimeoutSec=0\r\nRemainAfterExit=yes\r\n```\r\n\r\n一般正常的启动文件主要分成三部分\r\n\r\n1. `Unit`段: 启动顺序与依赖关系 \r\n2. `Service`段: 启动行为,如何启动，启动类型 \r\n3. `Install`段: 定义如何安装这个配置文件，即怎样做到开机启动\r\n\r\n下面为`/lib/systemd/system/rc.local.service`添加`Install`段\r\n\r\n``` bash\r\necho \"\r\n[Install]  \r\nWantedBy=multi-user.target  \r\nAlias=rc-local.service\" \u003e\u003e /lib/systemd/system/rc.local.service\r\n```\r\n\r\n这里需要注意一下ubuntu-18.04默认是没有`/etc/rc.local`这个文件的，需要自己创建\r\n\r\n``` bash\r\nsudo touch /etc/rc.local\r\n```\r\n\r\n添加`rc.local`自定义启动\r\n\r\n``` bash\r\nsudo echo \"#!/bin/bash\" \u003e /etc/rc.local\r\n```\r\n\r\n添加测试,编辑文件`/etc/rc.local`中添加\r\n\r\n\r\n``` bash\r\necho \"test\" \u003e /root/test.txt\r\n```\r\n\r\n给予可执行权限\r\n\r\n``` bash\r\nchmod 755 /etc/rc.local\r\n```\r\n\r\n`systemd`默认读取`/etc/systemd/system`下的配置文件, 所以还需要在`/etc/systemd/system`目录下创建软链接\r\n\r\n``` bash\r\nln -s /lib/systemd/system/rc.local.service /etc/systemd/system/\r\n```\r\n\r\n重启系统,然后看看/root/test.txt文件的内容为test 是否存在就知道开机脚本是否生效了。\r\n","cover":"","link":"ubuntu-1804-rc-local-systemctl.html","preview":"","title":"ubuntu-18.04设置systemctl开机启动脚本rc.local"},{"content":"\r\n\r\ncaddy官网 ：https://caddyserver.com/\r\n\r\n手动下载： https://caddyserver.com/download\r\n\r\nGithub：https://github.com/mholt/caddy\r\n\r\ncaddy会自动签发证书,有效期3个月，自动续期。\r\n\r\n``` bash\r\nCN = Let's Encrypt Authority X3\r\nO = Let's Encrypt\r\nC = US\r\n```\r\n\r\n**在启动caddy服务前，请确保域名A记录解析到VPS的IP上并生效。**\r\n\r\n# 官方脚本安装\r\n\r\n``` bash\r\ncurl https://getcaddy.com | bash -s personal\r\n```\r\n\r\n或者\r\n\r\n``` bash\r\nwget -qO- https://getcaddy.com | bash -s personal\r\n```\r\n\r\n若需安装插件\r\n\r\n``` bash\r\ncurl https://getcaddy.com | bash -s personal http.git,dns\r\n```\r\n\r\n# 配置caddy\r\n\r\n创建配置文件放到 /etc/caddy 目录\r\n\r\n``` bash\r\nsudo mkdir /etc/caddy\r\nsudo touch /etc/caddy/Caddyfile\r\nsudo chown -R root:www-data /etc/caddy\r\n```\r\n\r\n配置ssl证书目录\r\n\r\n``` bash\r\nsudo mkdir /etc/ssl/caddy\r\nsudo chown -R www-data:root /etc/ssl/caddy\r\nsudo chmod 0770 /etc/ssl/caddy\r\n```\r\n\r\n配置网站目录\r\n\r\n``` bash\r\nsudo mkdir /var/www\r\nsudo chown www-data:www-data /var/www\r\n```\r\n\r\n配置 systemd\r\n\r\n``` bash\r\nsudo curl -s  https://raw.githubusercontent.com/mholt/caddy/master/dist/init/linux-systemd/caddy.service  -o /etc/systemd/system/caddy.service\r\nsudo systemctl daemon-reload\r\nsudo systemctl enable caddy.service\r\nsudo systemctl status caddy.service\r\n```\r\n\r\n配置Caddfile配置文件\r\n修改Caddfile文件\r\n\r\n``` bash\r\nvi /etc/caddy/Caddyfile\r\n```\r\n\r\n一个简单的websocket加静态网站配置\r\n\r\n``` bash\r\nwww.google.com\r\n{\r\n  log /var/log/caddy/access.log\r\n  tls google@gmail.com\r\n  proxy /caressr 127.0.0.1:10000 {\r\n    websocket\r\n    header_upstream -Origin\r\n  }\r\n  root /var/www/\r\n}\r\n```\r\n\r\n给log路径赋权\r\n\r\n``` bash\r\nsudo chown www-data:www-data /var/log/caddy\r\n```\r\n\r\n上例是一个简单的websocket加静态网站配置。第一行为自己的域名，tls后面加上邮箱会自动申请let’sencrypt ssl证书。Caddfile更多配置详见官网。\r\n\r\n通过systemd管理caddy\r\n\r\n\r\n``` bash\r\nsudo systemctl start caddy.service\r\nsudo systemctl stop caddy.service\r\nsudo systemctl restart caddy.service\r\nsudo systemctl reload caddy.service\r\n```\r\n\r\n# Caddy无法启动报错\r\n\r\n``` bash\r\nsudo systemctl status caddy.service\r\n● caddy.service - Caddy HTTP/2 web server\r\n   Loaded: loaded (/etc/systemd/system/caddy.service; enabled; vendor preset: en\r\n   Active: failed (Result: exit-code) since Sat 2019-06-15 01:41:29 UTC; 1min 10\r\n     Docs: https://caddyserver.com/docs\r\n Main PID: 712 (code=exited, status=1/FAILURE)\r\n\r\nJun 15 01:41:27 sg systemd[1]: Started Caddy HTTP/2 web server.\r\nJun 15 01:41:28 sg caddy[712]: Activating privacy features... 2019/06/15 01:41:2\r\nJun 15 01:41:28 sg caddy[712]: 2019/06/15 01:41:28 [INFO] [sg.567899.xyz] acme:\r\nJun 15 01:41:29 sg caddy[712]: 2019/06/15 01:41:29 [INFO] [sg.567899.xyz] AuthUR\r\nJun 15 01:41:29 sg caddy[712]: 2019/06/15 01:41:29 [INFO] [sg.567899.xyz] acme:\r\nJun 15 01:41:29 sg caddy[712]: 2019/06/15 01:41:29 [INFO] [sg.567899.xyz] acme:\r\nJun 15 01:41:29 sg systemd[1]: caddy.service: Main process exited, code=exited,\r\nJun 15 01:41:29 sg systemd[1]: caddy.service: Unit entered failed state.\r\nJun 15 01:41:29 sg systemd[1]: caddy.service: Failed with result 'exit-code'.\r\n```\r\n\r\n[解决方案](https://caddy.community/t/caddy-wont-start-could-not-start-http-server-for-challenge-listen-tcp-80-bind-permission-denied/2543)\r\n\r\n\r\n修改服务文件取消以下注释：\r\n\r\n``` bash\r\nvi /etc/systemd/system/caddy.service\r\n```\r\n\r\n找到\r\n\r\n``` bash\r\n;CapabilityBoundingSet=CAP_NET_BIND_SERVICE\r\n;AmbientCapabilities=CAP_NET_BIND_SERVICE\r\n;NoNewPrivileges=true\r\n```\r\n\r\n修改为\r\n\r\n``` bash\r\nCapabilityBoundingSet=CAP_NET_BIND_SERVICE\r\nAmbientCapabilities=CAP_NET_BIND_SERVICE\r\nNoNewPrivileges=true\r\n```\r\n\r\n替换快捷命令\r\n\r\n``` bash\r\nsed -i 's/;CapabilityBoundingSet=CAP_NET_BIND_SERVICE/CapabilityBoundingSet=CAP_NET_BIND_SERVICE/' /etc/systemd/system/caddy.service\r\nsed -i 's/;AmbientCapabilities=CAP_NET_BIND_SERVICE/AmbientCapabilities=CAP_NET_BIND_SERVICE/' /etc/systemd/system/caddy.service\r\nsed -i 's/;NoNewPrivileges=true/NoNewPrivileges=true/' /etc/systemd/system/caddy.service\r\n```\r\n\r\n\r\n# Caddy自动申请SSL证书位置：\r\n\r\n``` bash\r\n/etc/ssl/caddy/acme/acme-v02.api.letsencrypt.org/sites/xxx.xxx(域名)/\r\n```\r\n","cover":"","link":"caddy.html","preview":"","title":"caddy官方脚本一键手动安装与使用"},{"content":"\r\n\r\n\r\n### WireGuard简单介绍\r\nWireGuard是通过UDP协议传输数据的，这意味着它可以搭建在被墙的服务器上使用，复活被墙IP！\r\n\r\n更安全的加密\r\n* Curve25519 目前最高水平的秘钥交换算法。\r\n* ChaCha20 对称加解密算法，比 AES 更快更高效。\r\n* Poly1305 是一种 MAC (Message Authentication Code) 标准，用于验证数据的完整性和消息的真实性。\r\n* BLAKE2 一种更安全的 HASH 算法（类似的有 SHA1, SHA256, MD5）\r\n* SipHash24 另一种 HASH 算法。\r\n* HKDF 一种秘钥衍生算法。\r\n\r\n### 前提要求\r\n系统要求：Debian 8 / 9、Ubuntu 14.04 / 16.04 / 18.04 / 18.10\r\n服务器要求：OpenVZ 虚拟化的服务器不支持安装该VPN，其他虚拟化均可。\r\n注意：如果你用的是 Vultr、DO，且你本地没有 IPv6 地址,那就不要勾选 Enable IPv6否则可能客户端链接时可能会出错。\r\n[CentOS7官方安装代码](https://www.wireguard.com/install/#red-hat-enterprise-linux-centos-module-tools)\r\n\r\n\r\n\r\n\r\n\r\n### Debian安装步骤\r\n\r\n安装和 linux-image 内核版本相对于的 linux-headers 内核\r\n\r\n``` bash\r\napt update\r\napt install linux-headers-$(uname -r) -y\r\n```\r\n\r\nDebian安装后使用以下命令检测linux-headers内核是否安装成功\r\n\r\n``` bash\r\ndpkg -l|grep linux-headers\r\n```\r\n\r\n安装WireGuard\r\n\r\n``` bash\r\necho \"deb http://deb.debian.org/debian/ unstable main\" \u003e /etc/apt/sources.list.d/unstable.list\r\necho -e 'Package: *\\nPin: release a=unstable\\nPin-Priority: 150' \u003e /etc/apt/preferences.d/limit-unstable\r\napt update\r\napt install wireguard resolvconf -y\r\n```\r\nresolvconf 是用来指定DNS的，旧一些的系统可能没装。\r\n\r\n### Ubuntu安装步骤\r\n首先如果你是 Ubuntu 14.04 系统，那么请先安装 PPA\r\n以下步骤仅限 Ubuntu 14.04 系统执行\r\n\r\n``` bash\r\napt update\r\napt install software-properties-common -y\r\n```\r\n\r\n通过PPA工具添加WireGuard源\r\n\r\n``` bash\r\nadd-apt-repository ppa:wireguard/wireguard\r\napt install wireguard\r\n```\r\n\r\n安装WireGuard\r\n\r\n``` bash\r\napt update\r\napt install wireguard resolvconf -y\r\n```\r\n\r\n### 验证是否安装成功\r\n\r\n使用以下命令\r\n\r\n``` bash\r\nlsmod | grep wireguard\r\nmodprobe wireguard \u0026\u0026 lsmod | grep wireguard\r\n```\r\n\r\n输出能看到wireguard即表示安装成功了\r\n\r\n``` bash\r\nwireguard             212992  0\r\nip6_udp_tunnel         16384  1 wireguard\r\nudp_tunnel             16384  1 wireguard\r\n```\r\n\r\n### 配置\r\n\r\n#### 生成密匙对\r\n请先手动创建配置文件目录\r\n\r\n``` bash\r\nmkdir /etc/wireguard\r\n```\r\n\r\n然后开始生成 密匙对(公匙+私匙)\r\n\r\n``` bash\r\nwg genkey | tee sprivatekey | wg pubkey \u003e spublickey\r\nwg genkey | tee cprivatekey | wg pubkey \u003e cpublickey\r\n```\r\n\r\n查看主网卡名称\r\n\r\n``` bash\r\nip addr\r\n```\r\n\r\n#### 生成服务端配置文件\r\n* 井号开头的是注释说明，用该命令执行后会自动过滤注释文字。\r\n* 下面加粗的这一大段都是一个代码！请把下面几行全部复制，然后粘贴到 SSH软件中执行，不要一行一行执行！\r\n\r\n``` bash\r\necho \"[Interface]\r\n# 服务器的私匙，对应客户端配置中的公匙（自动读取上面刚刚生成的密匙内容）\r\nPrivateKey = $(cat sprivatekey)\r\n# 本机的内网IP地址，一般默认即可，除非和你服务器或客户端设备本地网段冲突\r\nAddress = 10.0.0.1/24 \r\n# 运行 WireGuard 时要执行的 iptables 防火墙规则，用于打开NAT转发之类的。\r\n# 如果你的服务器主网卡名称不是 eth0 ，那么请修改下面防火墙规则中最后的 eth0 为你的主网卡名称。\r\nPostUp   = iptables -A FORWARD -i wg0 -j ACCEPT; iptables -A FORWARD -o wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE\r\n# 停止 WireGuard 时要执行的 iptables 防火墙规则，用于关闭NAT转发之类的。\r\n# 如果你的服务器主网卡名称不是 eth0 ，那么请修改下面防火墙规则中最后的 eth0 为你的主网卡名称。\r\nPostDown = iptables -D FORWARD -i wg0 -j ACCEPT; iptables -D FORWARD -o wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE\r\n# 服务端监听端口，可以自行修改\r\nListenPort = 443\r\n# 服务端请求域名解析 DNS\r\nDNS = 8.8.8.8\r\n# 保持默认\r\nMTU = 1420\r\n# [Peer] 代表客户端配置，每增加一段 [Peer] 就是增加一个客户端账号，具体我稍后会写多用户教程。\r\n[Peer]\r\n# 该客户端账号的公匙，对应客户端配置中的私匙（自动读取上面刚刚生成的密匙内容）\r\nPublicKey = $(cat cpublickey)\r\n# 该客户端账号的内网IP地址\r\nAllowedIPs = 10.0.0.2/32\"|sed '/^#/d;/^\\s*$/d' \u003e wg0.conf\r\n\r\n```\r\n\r\n#### 生成客户端配置文件\r\n* 井号开头的是注释说明，用该命令执行后会自动过滤注释文字。\r\n* 下面加粗的这一大段都是一个代码！请把下面几行全部复制，然后粘贴到 SSH软件中执行，不要一行一行执行！\r\n\r\n``` bash\r\necho \"[Interface]\r\n# 服务器的私匙，对应客户端配置中的公匙（自动读取上面刚刚生成的密匙内容）\r\nPrivateKey = $(cat sprivatekey)\r\n# 本机的内网IP地址，一般默认即可，除非和你服务器或客户端设备本地网段冲突\r\nAddress = 10.0.0.1/24 \r\n# 运行 WireGuard 时要执行的 iptables 防火墙规则，用于打开NAT转发之类的。\r\n# 如果你的服务器主网卡名称不是 eth0 ，那么请修改下面防火墙规则中最后的 eth0 为你的主网卡名称。\r\nPostUp   = iptables -A FORWARD -i wg0 -j ACCEPT; iptables -A FORWARD -o wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE\r\n# 停止 WireGuard 时要执行的 iptables 防火墙规则，用于关闭NAT转发之类的。\r\n# 如果你的服务器主网卡名称不是 eth0 ，那么请修改下面防火墙规则中最后的 eth0 为你的主网卡名称。\r\nPostDown = iptables -D FORWARD -i wg0 -j ACCEPT; iptables -D FORWARD -o wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE\r\n# 服务端监听端口，可以自行修改\r\nListenPort = 443\r\n# 服务端请求域名解析 DNS\r\nDNS = 8.8.8.8\r\n# 保持默认\r\nMTU = 1420\r\n# [Peer] 代表客户端配置，每增加一段 [Peer] 就是增加一个客户端账号，具体我稍后会写多用户教程。\r\n[Peer]\r\n# 该客户端账号的公匙，对应客户端配置中的私匙（自动读取上面刚刚生成的密匙内容）\r\nPublicKey = $(cat cpublickey)\r\n# 该客户端账号的内网IP地址\r\nAllowedIPs = 10.0.0.2/32\"|sed '/^#/d;/^\\s*$/d' \u003e wg0.conf\r\n \r\n# 上面加粗的这一大段都是一个代码！请把下面几行全部复制，然后粘贴到 SSH软件中执行，不要一行一行执行！\r\n生成客户端配置文件\r\n接下来就开始生成客户端配置文件：\r\n\r\n# 井号开头的是注释说明，用该命令执行后会自动过滤注释文字。\r\n# 下面加粗的这一大段都是一个代码！请把下面几行全部复制，然后粘贴到 SSH软件中执行，不要一行一行执行！\r\n \r\necho \"[Interface]\r\n# 客户端的私匙，对应服务器配置中的客户端公匙（自动读取上面刚刚生成的密匙内容）\r\nPrivateKey = $(cat cprivatekey)\r\n# 客户端的内网IP地址\r\nAddress = 10.0.0.2/24\r\n# 解析域名用的DNS\r\nDNS = 8.8.8.8\r\n# 保持默认\r\nMTU = 1420\r\n[Peer]\r\n# 服务器的公匙，对应服务器的私匙（自动读取上面刚刚生成的密匙内容）\r\nPublicKey = $(cat spublickey)\r\n# 服务器地址和端口，下面的 X.X.X.X 记得更换为你的服务器公网IP，端口请填写服务端配置时的监听端口\r\nEndpoint = X.X.X.X:443\r\n# 因为是客户端，所以这个设置为全部IP段即可\r\nAllowedIPs = 0.0.0.0/0, ::0/0\r\n# 保持连接，如果客户端或服务端是 NAT 网络(比如国内大多数家庭宽带没有公网IP，都是NAT)，那么就需要添加这个参数定时链接服务端(单位：秒)，如果你的服务器和你本地都不是 NAT 网络，那么建议不使用该参数（设置为0，或客户端配置文件中删除这行）\r\nPersistentKeepalive = 25\"|sed '/^#/d;/^\\s*$/d' \u003e client.conf\r\n```\r\n\r\n接下来你就可以将这个客户端配置文件/etc/wireguard/client.conf 通过SFTP、HTTP等方式下载到本地了\r\n\r\n``` bash\r\ncat /etc/wireguard/client.conf\r\n```\r\n\r\n### 剩余其他操作\r\n\r\n#### 赋予配置文件夹权限\r\n\r\n``` bash\r\nchmod 777 -R /etc/wireguard\r\n```\r\n\r\n#### 打开防火墙转发功能\r\n\r\n``` bash\r\necho 1 \u003e /proc/sys/net/ipv4/ip_forward\r\necho \"net.ipv4.ip_forward = 1\" \u003e\u003e /etc/sysctl.conf\r\nsysctl -p\r\n```\r\n\r\n### 启动WireGuard\r\n``` bash\r\nwg-quick up wg0\r\n```\r\n### 停止WireGuard\r\n``` bash\r\nwg-quick down wg0\r\n```\r\n### 查询WireGuard状态\r\n``` bash\r\nwg\r\n```\r\n### 设置开机启动\r\n\r\n注意：Ubuntu 14.04 系统默认是没有 systemctl 的，所以无法配置开机启动。\r\n\r\n``` bash\r\nsystemctl enable wg-quick@wg0\r\n```\r\n### 取消开机启动\r\n``` bash\r\nsystemctl disable wg-quick@wg0\r\n```\r\n\r\n\r\n\r\n\r\n","cover":"","link":"wireguard-service-install.html","preview":"\u003ch3\u003eWireGuard简单介绍\u003c/h3\u003e\n\n\u003cp\u003eWireGuard是通过UDP协议传输数据的，这意味着它可以搭建在被墙的服务器上使用，复活被墙IP！\u003c/p\u003e\n\n\u003cp\u003e更安全的加密\n* Curve25519 目前最高水平的秘钥交换算法。\n* ChaCha20 对称加解密算法，比 AES 更快更高效。\n* Poly1305 是一种 MAC (Message Authentication Code) 标准，用于验证数据的完整性和消息的真实性。\n* BLAKE2 一种更安全的 HASH 算法（类似的有 SHA1, SHA256, MD5）\n* SipHash24 另一种 HASH 算法。\n* HKDF 一种秘钥衍生算法。\u003c/p\u003e\n\n\u003ch3\u003e前提要求\u003c/h3\u003e\n\n\u003cp\u003e系统要求：Debian 8 / 9、Ubuntu 14.04 / 16.04 / 18.04 / 18.10\n服务器要求：OpenVZ 虚拟化的服务器不支持安装该VPN，其他虚拟化均可。\n注意：如果你用的是 Vultr、DO，且你本地没有 IPv6 地址,那就不要勾选 Enable IPv6否则可能客户端链接时可能会出错。\n\u003ca href=\"https://www.wireguard.com/install/#red-hat-enterprise-linux-centos-module-tools\"\u003eCentOS7官方安装代码\u003c/a\u003e\u003c/p\u003e\n","title":"手动配置安装WireGuard服务端"},{"content":"\r\n\r\n\r\nMarkdownPad 2是一款不错的Markdown编辑器\r\n[下载MarkdownPad](http://markdownpad.com/download.html)安装\r\nMarkdownPad2_Pro注册码\r\n\r\n- 邮箱\r\n\r\n``` bash\r\nSoar360@live.com\r\n```\r\n- 许可密钥\r\n\r\n``` bash\r\nGBPduHjWfJU1mZqcPM3BikjYKF6xKhlKIys3i1MU2eJHqWGImDHzWdD6xhMNLGVpbP2M5SN6bnxn2kSE8qHqNY5QaaRxmO3YSMHxlv2EYpjdwLcPwfeTG7kUdnhKE0vVy4RidP6Y2wZ0q74f47fzsZo45JE2hfQBFi2O9Jldjp1mW8HUpTtLA2a5/sQytXJUQl/QKO0jUQY4pa5CCx20sV1ClOTZtAGngSOJtIOFXK599sBr5aIEFyH0K7H4BoNMiiDMnxt1rD8Vb/ikJdhGMMQr0R4B+L3nWU97eaVPTRKfWGDE8/eAgKzpGwrQQoDh+nzX1xoVQ8NAuH+s4UcSeQ==\r\n```\r\n","cover":"","link":"markdownpad2-pro-sn-key.html","preview":"","title":"MarkdownPad2_Pro专业版注册码"},{"content":"\r\n\r\n网红款美国SIM实体电话卡Lycamobile\r\n### 激活SIM卡获得电话号码\r\n去[Lycamobile官方网站](https://www.lycamobile.us) 的在线激活页面[Activate SIM - Lycamobile](https://www.lycamobile.us/en/activate-sim)完成\r\n*激活前请不要把SIM卡插入到手机*\r\nZIP code: 10065 #选择纽约州纽约曼哈顿中城10065会有机率分配到212区号\r\nICCID: \r\nEmail address:\r\nPUK Code:\r\nSelect Language: English\r\n![](/images/lycamobile-SIM.png)\r\n看到提示\r\n**\u003cfont color=\"#339966\"\u003e12127299444 Sim Successfully Activated\u003c/font\u003e**\r\n*这时可以把SIM卡插入到手机了*\r\n\r\n\r\n\r\n\r\n稍等片刻就能收到Lycamobile运营商发来的3条短信\r\n1. Welcome to lycamobile Plus, Your number is 12127299444\r\n\r\n2. Dear Customer, your permanent lycamobile number is 12127299444 and Your Customer Identification PIN is 9921. Thanks for using LycaMobile.\r\n\r\n3. Thanks for choosing Lycamobile!.You will receive GPRS settings. Please accept it. Visit Lycamobile.com for offers. Have any questions? Dial 602.\r\n\r\n分别是电话号码、PIN等，记录并保存好。\r\n\r\n### Lycamobile充值\r\n- (https://www.lycamobile.us/en/checkout/)\r\n官方充值10美元起另收0.5美元的服务费，不能PayPal付款\r\n- (https://www.recharge.com) \r\n10美元起+1.99美元服务费,可以用PayPal付款\r\n- 去淘宝飞猪充值\r\n最低充值5美元话费大概40RMB\r\n- [x]*611# 查话费\r\n- [x]*613# 查本机号码\r\n\r\n### Lycamobile资费及注意事项\r\n1. **每隔90天要使用并消费一次**，打电话，发短信都行。否则回收号码并清空余额\r\n2. 打电话和接电话收费0.49美元\r\n3. 发短信收费0.1美元（所以保号一般就是给自己发短信比较划算，90天一次）\r\n\r\n### 关闭语音信箱\r\n手机拨打 *#21# 可以暂时关闭开机状态下的语音信箱（临时方案，没卵用，关机后照样扣费）。\r\n有3种方式，注意时差，要在他们的工作时间，北京时间23:00以后，冬季可能会再往后推一个小时\r\n#### 客服热线\r\n如果您觉得自己英语口语交流没问题的话，拨打官方客服热线1-866-277-3221 可以使用Goolge Voice免费拨打\r\n#### 在线客服\r\n[chat online](http://webchat.lycamobile.com/Code/webchatLogin.php) 可以使用谷歌人机翻译，附上全部聊天内容。\r\n``` bash\r\n[客服] Welcome to Lycamobile customer support, how may I help you?\r\n[客户] I need to turn off voicemail service because I have multiple numbers, I think it is a waste to use voicemail service, look forward to your help!\r\n[客服] I will help you with that.\r\n[客户] thanks!\r\n[客户] I provide you with the following information:\r\n[客服] In order to cancel your voice mail service please help us with your below details\r\n[客户] OK\r\n[客服] ?\tYour Lycamobile SIM card number. ?\tFrequently Method of recharge. ? Current plan in your sim.\r\n[客户] 12127299444\r\n[客户] top up date:23-1-2019 $5\r\n[客户] frequently numbers: 1 850 8884433\r\n[客服] Thank you for the details. Please be on hold, I check our log and will pull you’re details.\r\n[客户] OK\r\n[客服] Thanks for your patience.\r\n[客户] Looking forward to closing voice mail service as soon as possible, thanks!\r\n[客服] We glad to inform that, we successfully deactivate your 12127299444 Voice mail service for your account.\r\n[客服] Your request has been raised under the reference number 70128444.\r\n[客户] thank you very much\r\n[客服] Is there anything else I can help you with today?\r\n[客户] no thanks!\r\n[客服] Thank you for contacting Lycamobile Web Chat, have a nice day.\r\n[客服] All services have left the conversation\r\n```\r\n![lycamobile-SIM-closing-voicemail](/images/lycamobile-SIM-closing-voicemail.png)\r\n#### 官方留言\r\n打开(https://www.lycamobile.us/en/help/contact-us/)\r\n按以下模版提交 \u003cfont color=red\u003e注意删除掉中文注释\u003c/font\u003e\r\n``` bash\r\nI need to turn off voicemail service because I have multiple numbers, I think it is a waste to use voicemail service,\r\nlook forward to your help!\r\nI provide you with the following information:\r\nSIM card number: +1 212 7299000 \r\n#填上你的手机号码,注意格式\r\nPUK number: 87887776\r\n#填上你的PUK码\r\nAny 2 frequently dialed numbers:I didn't make any calls, or was it a new number Last\r\n#最近通话的两个号码，模板的英文意思是没有打过电话\r\ntop up date:24-9-2018 $10\r\n#修改你的最后一次充值时间和金额，注意这个格式\r\nbirth:01/07/1983 \r\n#激活手机卡是填写的出生年月，注意保持这个格式，如果激活过程中没有填写，就把这一行删除\r\nLooking forward to closing voice mail service as soon as possible, thanks!\r\n```\r\n接下来就是耐心等待了，办理时间不一， 最长可能要等待72+小时。\r\n\r\n\r\n","cover":"","link":"lycamobile-activation-recharge-close-voice-mail.html","preview":"\u003cp\u003e网红款美国SIM实体电话卡Lycamobile\u003c/p\u003e\n\n\u003ch3\u003e激活SIM卡获得电话号码\u003c/h3\u003e\n\n\u003cp\u003e去\u003ca href=\"https://www.lycamobile.us\"\u003eLycamobile官方网站\u003c/a\u003e 的在线激活页面\u003ca href=\"https://www.lycamobile.us/en/activate-sim\"\u003eActivate SIM - Lycamobile\u003c/a\u003e完成\n\u003cem\u003e激活前请不要把SIM卡插入到手机\u003c/em\u003e\nZIP code: 10065 #选择纽约州纽约曼哈顿中城10065会有机率分配到212区号\nICCID:\nEmail address:\nPUK Code:\nSelect Language: English\n\u003cimg src=\"data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nd3d4aGhri4uGlpaQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkHAAAAIf4aQ3JlYXRlZCB3aXRoIGFqYXhsb2FkLmluZm8AIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOw==\" data-src=\"/images/lycamobile-SIM.png\" alt=\"\" /\u003e\n看到提示\n\u003cstrong\u003e\u003cfont color=\"#339966\"\u003e12127299444 Sim Successfully Activated\u003c/font\u003e\u003c/strong\u003e\n\u003cem\u003e这时可以把SIM卡插入到手机了\u003c/em\u003e\u003c/p\u003e\n","title":"美国SIM实体电话卡Lycamobile激活充值关闭语音信箱"},{"content":"\r\n\r\n\r\n個人Blog採用靜態Blog形式託管在[Github][github]上。此前使用的是[Hexo][hexo]，因其包依賴關係複雜，部署流程繁瑣，故將整個部署環境封裝到Docker鏡像中以實現快速部署，但仍較爲繁瑣。現轉用執行速度快、操作簡便的[Hugo][hugo]。本文記錄如何在GNU/Linux中通過[Travis CI][travisci]將[Hugo][hugo]生成的Blog內容自動同步到[Github][github]，實現持續集成、部署。\r\n\r\n\r\n\u003e 转载自 [利用Travis CI和Hugo將Blog自動部署到Github Pages](https://axdlog.com/zh/2018/using-hugo-and-travis-ci-to-deploy-blog-to-github-pages-automatically/)\r\n\r\n\r\n## 官方文檔\r\n本文中的相關操作皆以官方文檔爲操作依據\r\n\r\n* Github\r\n    * [GitHub Pages Basics](https://help.github.com/categories/github-pages-basics/)\r\n    * [User, Organization, and Project Pages](https://help.github.com/articles/user-organization-and-project-pages/)\r\n    * [Creating Project Pages using the command line](https://help.github.com/articles/creating-project-pages-using-the-command-line/)\r\n    * [Configuring a publishing source for GitHub Pages](https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/)\r\n* Hugo\r\n    * [Host on GitHub](https://gohugo.io/hosting-and-deployment/hosting-on-github/)\r\n* Travis CI\r\n    * [GitHub Pages Deployment][travisci-github-page]\r\n    * [Building a Python Project](https://docs.travis-ci.com/user/languages/python/)\r\n    * [Best Practices in Securing Your Data](https://docs.travis-ci.com/user/best-practices-security/)\r\n    * [Customizing the Build](https://docs.travis-ci.com/user/customizing-the-build/)\r\n\r\n\r\n### GitHub Pages 限制\r\n\r\n\u003e GitHub Pages is a static site hosting service designed to host your personal, organization, or project pages directly from a GitHub repository.\r\n\r\n\r\nGitHub Pages 站點在使用上有如下限制：\r\n\r\n1. 倉庫大小[不得超過1GB](https://help.github.com/en/articles/what-is-my-disk-quota#file-and-repository-size-limitations)；\r\n2. 生成的 GitHub Pages 站點大小不得超過1 GB；\r\n3. GitHub Pages 站點每月限 100 GB 流量；\r\n4. GitHub Pages 站點每小時限構建10次；\r\n\r\n更多介紹見官方文檔 『[What is GitHub Pages?](https://help.github.com/en/articles/what-is-github-pages)』。\r\n\r\n\r\n## 準備工作\r\n\r\n1. 在[Github][github]註冊帳號；\r\n2. 在[Travis CI][travisci]註冊帳號(可通過Github帳號登入)；\r\n3. 本地系統安裝`git`，`hugo`；\r\n4. 個人域名(可選，此處指定域名`axdlog.com`)；\r\n\r\n\r\n## 安裝 Hugo\r\n* Github 地址: \u003chttps://github.com/gohugoio/hugo\u003e\r\n* 下載頁: \u003chttps://github.com/gohugoio/hugo/releases\u003e\r\n* 版本信息API:  \u003chttps://api.github.com/repos/gohugoio/hugo/releases/latest\u003e\r\n\r\nhugo官方的安裝文檔頁[Install Hugo](https://gohugo.io/getting-started/installing/)，如果使用GNU/Linux，可考慮使用本人寫的Python腳本進行快速安裝。\r\n\r\n查看版本信息\r\n\r\n```bash\r\n# which hugo\r\n/usr/local/bin/hugo\r\n\r\n# hugo version\r\nHugo Static Site Generator v0.55.5-A83256B9 linux/amd64 BuildDate: 2019-05-02T13:03:36Z\r\n```\r\n\r\n### Python Script\r\n\r\n這個Python腳本用於安裝或升級 GNU/Linux 中的Hugo。\r\n\r\n\r\n操作過程\r\n\r\n```bash\r\n$ sudo python3 ~/hugo.py\r\nuccessfully download pack /tmp/hugo_0.55.4_Linux-64bit.tar.gz!\r\nSuccessfully install Hugo v0.55.4!\r\n\r\nSymlink info:\r\nlrwxrwxrwx 1 root root 14 Apr 26 12:26 /usr/local/bin/hugo -\u003e /opt/Hugo/hugo\r\n\r\nHugo info:\r\nHugo Static Site Generator v0.55.4-57900417 linux/amd64 BuildDate: 2019-04-25T07:38:50Z\r\n\r\n$ sudo python3 ~/hugo.py\r\nLatest version 0.55.4 existed.\r\n\r\nHugo info:\r\nHugo Static Site Generator v0.55.4-57900417 linux/amd64 BuildDate: 2019-04-25T07:38:50Z\r\n\r\n\r\n# update operation\r\n$ sudo python3 hugo.py\r\nLocal version 0.55.4 \u003c latest version 0.55.5.\r\nSuccessfully download pack /tmp/hugo_0.55.5_Linux-64bit.tar.gz!\r\nSuccessfully install Hugo v0.55.5!\r\n\r\nSymlink info:\r\nlrwxrwxrwx 1 root root 14 May  2 11:21 /usr/local/bin/hugo -\u003e /opt/Hugo/hugo\r\n\r\nHugo info:\r\nHugo Static Site Generator v0.55.5-A83256B9 linux/amd64 BuildDate: 2019-05-02T13:03:36Z\r\n```\r\n\r\n\r\n### 創建新項目\r\n如何通過[Hugo][hugo]創建一個新的站點，詳見官方文檔 [Get Started](https://gohugo.io/getting-started/)、[Quick Start](https://gohugo.io/getting-started/quick-start/)。\r\n\r\n\u003e If this is your first time using Hugo and you’ve [already installed Hugo on your machine](https://gohugo.io/getting-started/installing/), we recommend the [quick start](https://gohugo.io/getting-started/quick-start/).\r\n\r\n此處且將站點名稱命名爲`quickstart`(其實就是目錄名，不一定是最終的網站名稱)。\r\n\r\n```bash\r\nhugo new site quickstart\r\n```\r\n\r\nHugo生成的目錄結構如下\r\n\r\n```bash\r\n# tree -L 2\r\n├── archetypes\r\n│   └── default.md\r\n├── config.toml\r\n├── content\r\n├── data\r\n├── layouts\r\n├── static\r\n└── themes\r\n\r\n6 directories, 2 files\r\n```\r\n\r\n**注意**：這些不是最終的Blog內容，是用於生成Blog內容的文件。\r\n\r\n目錄`content`中存放自己需要發佈的Blog (Markdown文件)；\r\n\r\n如果要預覽Blog最終效果，可通過命令`hugo server`在本地開啓一個Web服務器，端口號`1313`，在瀏覽器中打開即可。\r\n\r\n```bash\r\nWeb Server is available at http://localhost:1313/ (bind address 127.0.0.1)\r\nPress Ctrl+C to stop\r\n```\r\n\r\n在項目所在目錄中執行命令`hugo`，會生成名爲`public`的目錄，該目錄存放着最終的Blog內容文件。將`public`目錄中的所有內容上傳至Github的`master`分支中即可。\r\n\r\n演示過程如下\r\n\r\n```bash\r\n# hugo\r\n\r\n                   | EN   \r\n+------------------+-----+\r\n  Pages            | 426  \r\n  Paginator pages  |  24  \r\n  Non-page files   |   0  \r\n  Static files     |  34  \r\n  Processed images |   0  \r\n  Aliases          |  95  \r\n  Sitemaps         |   1  \r\n  Cleaned          |   0  \r\n\r\nTotal in 403 ms\r\n\r\n# tree -L 1\r\n.\r\n├── archetypes\r\n├── config.toml\r\n├── content\r\n├── data\r\n├── layouts\r\n├── public\r\n├── resources\r\n├── static\r\n└── themes\r\n\r\n8 directories, 1 file\r\n```\r\n\r\n\r\n## 配置 Github 倉庫\r\n**注意**：本部分的處理思路、操作非常重要，Git配置步驟省略。Git的使用見官方文檔 『[GitHub Help](https://help.github.com/en)』、『[Git Cheat Sheets](https://github.github.com/training-kit/)』。\r\n\r\n使用GitHub Pages託管Blog內容，需要創建名爲`\u003cusername\u003e.github.io`的倉庫，並將Hugo生成的Blog內容提交到倉庫的`master`中。\r\n\r\n因Hugo生成的內容分爲兩部分，源文件和`public`目錄中的Blog內容。故通過`git checkout --orphan`在同一倉庫中創建2個分支：\r\n\r\n* 分支`code`用於存放源文件；\r\n* 分支`master`用於存放`public`目錄中的Blog內容；\r\n\r\n處理思路與官方文檔 [Configuring a publishing source for GitHub Pages](https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/)不同，需要注意。\r\n\r\n### 創建空倉庫\r\n本人GitHub帳號名爲`MaxdSre`，故創建倉庫`maxdsre.github.io`。\r\n\r\n創建倉庫後，出現如下提示信息\r\n\r\n\u003eor create a new repository on the command line\r\n\r\n```bash\r\necho \"# maxdsre.github.io\" \u003e\u003e README.md\r\ngit init\r\ngit add README.md\r\ngit commit -m \"first commit\"\r\ngit remote add origin git@github.com:MaxdSre/maxdsre.github.io.git\r\ngit push -u origin master\r\n```\r\n\r\n\u003eor push an existing repository from the command line\r\n\r\n```bash\r\ngit remote add origin git@github.com:MaxdSre/maxdsre.github.io.git\r\ngit push -u origin master\r\n```\r\n\r\n### 分支操作\r\n操作分爲4步：\r\n\r\n1. 初始化Git倉庫(`git init`)；\r\n2. 創建`code`分支，提交源文件代碼到倉庫；\r\n3. 在目標目錄中執行`hugo`生成`public`目錄，將`public`目錄中內容轉移到臨時目錄中， 清空目標目錄，將臨時目錄中文件複製到該目錄中；\r\n4. 通過命令`git checkout --orphan`創建`master`分支，將目錄中內容提交到倉庫。\r\n\r\n進入目標目錄（此處爲`/PATH/quickstart/`）後，順序執行如下操作命令\r\n\r\n#### code 分支\r\n```bash\r\n# Initialized empty Git repository in /PATH/.git/\r\ngit init\r\n\r\n# Switched to a new branch 'code', equal to 'git branch code \u0026\u0026 git checkout code'\r\ngit checkout -b code\r\n\r\n# exclude dir public/\r\necho '/public/' \u003e\u003e .gitignore\r\nsed -r -i '/^\\/public\\/$/{$!d}' .gitignore\r\n\r\n# Add file contents to the index\r\ngit add .\r\n\r\n# Show the working tree status\r\n# git status\r\n\r\n# Record changes to the repository\r\ngit commit -m \"Hugo generator code\"\r\n\r\n# Manage set of tracked repositories\r\ngit remote add origin git@github.com:MaxdSre/maxdsre.github.io.git\r\n\r\n# Update remote refs along with associated objects to branch 'code'\r\ngit push -u origin code\r\n```\r\n\r\n#### master 分支\r\n在目錄中執行`hugo`生成`public`目錄。通過命令`git branch -a`可查看倉庫的分支信息。\r\n\r\n```bash\r\n# execute command hugo\r\nhugo\r\n\r\n# create temporary dir\r\nHUGO_TEMP_DIR=$(mktemp -d)\r\ncp -R public/* \"$HUGO_TEMP_DIR\"\r\n\r\n# create orphan branch 'master'\r\ngit checkout --orphan master\r\n\r\n# empty current dir\r\nrm .git/index\r\ngit clean -fdx\r\n\r\n# copy back contents in dir public/\r\ncp -R \"$HUGO_TEMP_DIR\"/. .\r\n\r\n# add, commit, push\r\ngit add .\r\n# git status\r\ngit commit -m 'initial blog content'\r\ngit push -u origin master\r\n\r\n# remove temp dir\r\n[[ -d \"$HUGO_TEMP_DIR\" ]] \u0026\u0026 rm -rf \"$HUGO_TEMP_DIR\"\r\n```\r\n\r\n#### image 分支\r\n此操作爲可選操作，本人創建第3個分支`image`用作圖牀，本文中的圖片即存放在該分支中。\r\n\r\n**注**：[GitHub][github]每個倉庫可使用 **1 GB** 存儲空間，單個文件大小不超過 **100 MB**，詳見官方文檔 『[File and repository size limitations](https://help.github.com/en/articles/what-is-my-disk-quota#file-and-repository-size-limitations)』。\r\n\r\n```bash\r\ngit checkout --orphan image\r\nrm .git/index\r\ngit clean -fdx\r\n\r\n# add content to this branch\r\n\r\ngit add .\r\ngit commit -m 'initial blog images'\r\ngit push -u origin image\r\n\r\n# fatal: The current branch image has no upstream branch.\r\n# To push the current branch and set the remote as upstream, use\r\n# git push --set-upstream origin image\r\n```\r\n\r\n### 切換分支\r\n如果要將本地分支切換到遠程分支`remotes/origin/image`，可通過如下命令實現\r\n\r\n```bash\r\n# git checkout -b \u003cbranch\u003e --track \u003cremote\u003e/\u003cbranch\u003e\r\n# -b \u003cnew_branch\u003e    Create a new branch named \u003cnew_branch\u003e and start it at \u003cstart_point\u003e;\r\n# -t, --track     When creating a new branch, set up \"upstream\" configuration.\r\n\r\ngit checkout -t remotes/origin/image\r\n\r\n# 本地分支，從其它分支切換到本地分支code\r\ngit checkout code\r\n```\r\n\r\n演示過程如下\r\n\r\n```bash\r\n$ git branch\r\n* code\r\n\r\n$ git branch -a\r\n* code\r\n  remotes/origin/HEAD -\u003e origin/code\r\n  remotes/origin/code\r\n  remotes/origin/image\r\n  remotes/origin/master\r\n\r\n$ git checkout -t remotes/origin/image\r\nBranch 'image' set up to track remote branch 'image' from 'origin'.\r\n  Switched to a new branch 'image'\r\n\r\n$ git branch\r\n  code\r\n* image\r\n\r\n$ git branch -a\r\n  code\r\n* image\r\n  remotes/origin/HEAD -\u003e origin/code\r\n  remotes/origin/code\r\n  remotes/origin/image\r\n  remotes/origin/master\r\n```\r\n\r\n此處遠程默認分支爲`code`，如果需要更改爲`master`，執行如下命令\r\n\r\n```bash\r\n# change HEAD from origin/code to origin/master\r\ngit remote set-head origin master\r\n```\r\n\r\n\r\n### 刪除分支\r\n可分爲刪除遠程分支、本地分支、追蹤分支三種情況，具體見[How do I delete a Git branch both locally and remotely?](https://stackoverflow.com/questions/2003505/how-do-i-delete-a-git-branch-both-locally-and-remotely#answer-23961231)。\r\n\r\n```bash\r\n# 1 - 刪除遠程分支\r\n$ git push origin --delete \u003cbranch\u003e # Git version 1.7.0 or newer\r\n$ git push origin :\u003cbranch\u003e # Git versions older than 1.7.0\r\n\r\n# 2 - 刪除本地分支\r\n$ git branch --delete \u003cbranch\u003e\r\n$ git branch -d \u003cbranch\u003e # Shorter version\r\n\r\n$ git branch -D \u003cbranch\u003e # Force delete un-merged branches\r\n\r\n# error: The branch 'image' is not fully merged.\r\n# If you are sure you want to delete it, run 'git branch -D image'.\r\n\r\n# 3 - 刪除本地追蹤分支\r\n$ git branch --delete --remotes \u003cremote\u003e/\u003cbranch\u003e\r\n$ git branch -dr \u003cremote\u003e/\u003cbranch\u003e # Shorter\r\n\r\n$ git fetch \u003cremote\u003e --prune # Delete multiple obsolete tracking branches\r\n$ git fetch \u003cremote\u003e -p # Shorter\r\n```\r\n\r\n\r\n## Travis CI 配置\r\n[Travis CI][travisci]官方說明文檔 [GitHub Pages Deployment][travisci-github-page]。\r\n\r\n### 生成 Github 訪問 Token\r\n\u003e You’ll need to generate a [personal access token](https://help.github.com/articles/creating-an-access-token-for-command-line-use/) with the public_repo or repo scope (repo is required for private repositories). Since the token should be private, you’ll want to pass it to Travis securely in your [repository settings](https://docs.travis-ci.com/user/environment-variables#Defining-Variables-in-Repository-Settings) or via [encrypted variables](https://docs.travis-ci.com/user/environment-variables#Defining-encrypted-variables-in-.travis.yml) in .travis.yml.\r\n\r\n在Github的[Developer settings](https://github.com/settings/tokens)頁面中生成`personal access tokens`，若是私有倉庫，勾選`repo`；若是公開倉庫，勾選`public_repo`。此處本人選擇了 `public_repo`, `repo:status`, `repo_deployment`三項。\r\n\r\n生成的是長度爲`40`的隨機字符串，注意請勿泄漏。\r\n\r\n![](/images/github-access-token.png)\r\n\r\n\r\n### 設置環境變量\r\n生成的`token`須在[Travis CI][travisci]的目標Repo中設置，頁面地址爲 \u003chttps://travis-ci.org/MaxdSre/maxdsre.github.io/settings\u003e。\r\n\r\n![](/images/travisci-system-var-setting.png)\r\n\r\n確保`General`中的`Build only if .travis.yml is present`, `Build pushed branches`, `Build pushed pull requests`已啓用。\r\n\r\n![](/images/travisci-general-setting.png)\r\n\r\n官方文檔[GitHub Pages Deployment][travisci-github-page]定義的默認`token`名爲`GITHUB_TOKEN`，其它指令詳見文檔。\r\n\r\n\u003e Notice that the values are not escaped when your builds are executed. Special characters (for bash) should be escaped accordingly.\r\n\r\n此處定義相關變量，稍後會寫入`.travis.yml`文件。\r\n\r\nEnvironment Variables | Value\r\n---|---\r\nCNAME_URL | axdlog.com\r\nGITHUB_USERNAME | MaxdSre\r\nGITHUB_EMAIL | admin@axdlog.com (假設值)\r\nGITHUB_TOKEN | 75e8b72618ebf48df0b235cp4affd79e167b2489 (假設值)\r\n\r\n\r\n### .travis.yml 指令\r\n[Hugo][hugo]是用Golang構建的，如果在`.travis.yml`中使用`language: go`，[Travis CI][travisci]構建Golang環境耗時太長(數分鐘)。\r\n\r\n~~看到他人教程中有用Python的，恰巧最近在學習Python，便選擇Python做爲構建環境。因[Travis CI][travisci]的容器環境是基於Ubuntu的，故可以使用`dpkg`、`apt-get`等命令，但需要添加`sudo`~~。\r\n\r\n使用Python經常出現構建失敗的情況，原因是GitHub禁止Travis容器的HTTP請求，通過`tor`代理解決。\r\n\r\n最終指令如下\r\n\r\n\r\n#### Python\r\n\r\n```yml\r\n# https://docs.travis-ci.com/user/deployment/pages/\r\n# https://docs.travis-ci.com/user/reference/xenial/\r\n# https://docs.travis-ci.com/user/languages/python/\r\n# https://docs.travis-ci.com/user/customizing-the-build/\r\n\r\ndist: xenial\r\nlanguage: python\r\npython:\r\n  - \"3.7\"\r\n\r\nbefore_install:\r\n  - sudo apt-get update -qq\r\n  - sudo apt-get -yq install apt-transport-https tor curl\r\n\r\n# install - install any dependencies required\r\ninstall:\r\n    # install latest release version\r\n    # Github may forbid request from travis container, so use tor proxy\r\n    - sudo systemctl start tor\r\n    # - curl -fsL --socks5-hostname 127.0.0.1:9050 https://api.github.com/repos/gohugoio/hugo/releases/latest | sed -r -n '/browser_download_url/{/Linux-64bit.deb/{s@[^:]*:[[:space:]]*\"([^\"]*)\".*@\\1@g;p;q}}' | xargs wget\r\n    - download_command='curl -fsSL -x socks5h://127.0.0.1:9050' # --socks5-hostname\r\n    - $download_command -O $($download_command https://api.github.com/repos/gohugoio/hugo/releases/latest | sed -r -n '/browser_download_url/{/Linux-64bit.deb/{s@[^:]*:[[:space:]]*\"([^\"]*)\".*@\\1@g;p;q}}')\r\n    - sudo dpkg -i hugo*.deb\r\n    - rm -rf public 2\u003e /dev/null\r\n\r\n# script - run the build script\r\nscript:\r\n    - hugo 2\u003e /dev/null\r\n    - echo \"$CNAME_URL\" \u003e public/CNAME\r\n\r\ndeploy:\r\n  provider: pages\r\n  skip-cleanup: true\r\n  github-token: $GITHUB_TOKEN  # Set in travis-ci.org dashboard, marked secure\r\n  email: $GITHUB_EMAIL\r\n  name: $GITHUB_USERNAME\r\n  verbose: true\r\n  keep-history: true\r\n  local-dir: public\r\n  target_branch: master  # branch contains blog content\r\n  on:\r\n    branch: code  # branch contains Hugo generator code\r\n```\r\n\r\n#### Golang (deprecated)\r\n\r\n```yml\r\n# https://docs.travis-ci.com/user/deployment/pages/\r\n# https://docs.travis-ci.com/user/reference/xenial/\r\n# https://docs.travis-ci.com/user/languages/go/\r\n# https://docs.travis-ci.com/user/customizing-the-build/\r\n\r\ndist: xenial\r\nlanguage: go\r\ngo:\r\n    - master\r\n\r\n# before_install\r\n# install - install any dependencies required\r\ninstall:\r\n    - go get github.com/gohugoio/hugo    # consume time 70.85s\r\n\r\nbefore_script:\r\n    - rm -rf public 2\u003e /dev/null\r\n\r\n# script - run the build script\r\nscript:\r\n    - hugo 2\u003e /dev/null\r\n    - echo \"$CNAME_URL\" \u003e public/CNAME\r\n\r\ndeploy:\r\n  provider: pages\r\n  skip-cleanup: true\r\n  github-token: $GITHUB_TOKEN  # Set in travis-ci.org dashboard, marked secure\r\n  email: $GITHUB_EMAIL\r\n  name: $GITHUB_USERNAME\r\n  verbose: true\r\n  keep-history: true\r\n  local-dir: public\r\n  target_branch: master  # branch contains blog content\r\n  on:\r\n    branch: code  # branch contains Hugo generator code\r\n```\r\n\r\n\r\n將指令寫入到文件`.travis.yml`中，並將該`.travis.yml`上傳至repo的`code`分支中。\r\n\r\n\r\n## 持續集成\r\n所有操作完成後，只需將需要發佈的Blog上傳到repo的`code`分支中，[Travis CI][travisci]會自動進行部署操作，將更新的Blog內容更新到repo的`master`分支中，實現Blog的持續集成，自動部署。\r\n\r\n![](/images/travisci-deploy-status.png)\r\n\r\n部署過程日誌\r\n\r\n![](/images/travisci-deploy-log-1.png)\r\n\r\n![](/images/travisci-deploy-log-2.png)\r\n\r\n\r\n## 參考資料\r\n* [Continuous Integration of Hugo Website using Travis CI and Github](https://jellis18.github.io/post/2017-12-03-continuous-integration-hugo/)\r\n* [Travis continuous delivery](https://github.com/ldez/travis-continuous-delivery-hugo-deploy)\r\n* [How to create a website like freshswift.net using Hugo, Travis CI, and GitHub Pages](https://medium.com/zendesk-engineering/how-to-create-a-website-like-freshswift-net-using-hugo-travis-ci-and-github-pages-67be6f480298)\r\n* [GitLab CI remove priority zero from Hugo sitemap](https://www.leowkahman.com/2017/09/10/gitlab-ci-remove-priority-zero-from-hugo-sitemap/)\r\n* [Deploy Hugo site to Github Pages with Travis CI](https://leonidboykov.com/post/hugo-github-travis/)\r\n\r\n\r\n\r\n\r\n","cover":"","link":"hugo-travis-ci-deploy-github-pages-automatically.html","preview":"","title":"利用Travis CI和Hugo將Blog自動部署到Github Pages"},{"content":"\r\n\r\n\r\n`Node.js`是一个基于Chrome V8 JavaScript引擎构建的平台.Nodejs可用于轻松构建快速，可扩展的网络应用程序。最新版本node.js ppa由其官方网站维护。我们可以将这个PPA添加到Debian 9（Stretch） Debian 8（Jessie）和Debian 7（Wheezy）系统中。这篇我抄来的文章可以帮助你在Debian 9/8/7系统上安装最新的Nodejs和NPM。\r\n\r\n# 添加Node.js PPA\r\n首先，您需要在我们的系统中由Nodejs官方网站提供node.js PPA。如果尚未安装，我们还需要安装python-software-properties软件包。您可以选择安装最新的Node.js版本或LTS版本。\r\n\r\n最新版安装命令：\r\n\r\n``` bash\r\ncurl -sL https://deb.nodesource.com/setup_9.x | sudo bash\r\n```\r\n\r\n安装LTS长期维护版：\r\n\r\n``` bash\r\napt-get install curl python-software-properties\r\ncurl -sL https://deb.nodesource.com/setup_8.x |  bash\r\n```\r\n\r\n# 安装Node.js和NPM\r\n添加所需的PPA文件后，可以安装Nodejs包。NPM也将与node.js一起安装。该命令还会在您的系统上安装许多其他相关软件包。\r\n\r\n``` bash\r\napt-get install nodejs\r\n```\r\n\r\n# 检查Node.js和NPM版本\r\n安装node.js后，验证并检查安装的版本。你可以在node.js 官方网站上找到关于当前版本的更多细节。\r\n\r\n检查Node.js版本\r\n\r\n``` bash\r\nnode -v \r\n```\r\n\r\n检查npm版本\r\n\r\n``` bash\r\nnpm -v \r\n```\r\n\r\n\r\n\r\n下载 Node.js 源码或预编译安装包 Latest Current Version: 12.11.1 (includes npm 6.11.3)。\r\n\r\n从官网 [下载 | Node.js](https://nodejs.org/zh-cn/download/) 的编译好的二进制文件\r\n\r\n``` bash\r\nwget https://nodejs.org/dist/v12.11.1/node-v12.11.1-linux-x64.tar.xz\r\ntar xf node-v12.11.1-linux-x64.tar.xz\r\ncp node-v12.11.1-linux-x64/bin/node /usr/local/bin/node\r\ncp node-v12.11.1-linux-x64/bin/npm /usr/local/bin/npm\r\ncp node-v12.11.1-linux-x64/bin/npx /usr/local/bin/npx\r\nrm -rf node-v12.11.1-linux-x64\r\nnode -v\r\nnpm -v\r\n```\r\n\r\n~~删除卸载~~\r\n\r\n``` bash\r\nrm -rf node-v12.11.1-linux-x64\r\nrm node-v12.11.1-linux-x64.tar.xz\r\nrm /usr/local/bin/node\r\nrm /usr/local/bin/npm\r\nrm /usr/local/bin/npx\r\n```\r\n","cover":"","link":"debian-nodejs-npm.html","preview":"","title":"linux-ununtu-Debian9安装最新版Node.js和NPM"},{"content":"\r\n\r\n# 更新2020年8月8日\r\n\r\n1. V2Ray v4.27.0+新增支持VLESS新协议\r\n2. VMess AEAD will be used when alterId is 0 in V2Ray v4.28.0+\r\n\r\n推荐以下2种组合模式运行v2ray\r\n\r\n* VMess(websocket tls web)  推荐指数★★★★☆\r\n* VLESS(VLESS TCP TLS 回落) 推荐指数★★★★★\r\n\r\n# 鸣谢\r\n\r\n感谢各位开发者大佬们的无私奉献，详情请参考\r\n\r\n1. https://v2ray.com/\r\n2. https://github.com/v2ray/v2ray-core\r\n3. https://toutyrater.github.io/\r\n4. https://guide.v2fly.org/\r\n5. https://github.com/veekxt/v2ray-template\r\n6. https://github.com/v2fly/v2ray-examples\r\n7. https://www.v2fly.org/\r\n\r\n\r\n## V2Ray安装\r\n\r\n日常更新及安装curl\r\n\r\nDebian \u0026 Ubuntu\r\n\r\n``` bash\r\napt-get update\r\napt-get install wget curl -y\r\n```\r\n\r\nCentOS\r\n\r\n``` bash\r\nyum update\r\nyum install wget curl -y\r\n```\r\n\r\n安装V2Ray\r\n\r\n``` bash\r\nbash \u003c(curl -L -s https://install.direct/go.sh)\r\n```\r\n\r\n如果上面的官方链接失效了可以使用下面的\r\n\r\n``` bash\r\nbash \u003c(curl -L -s https://raw.githubusercontent.com/hvvy/v2ray-core/master/v2ray_install.sh)\r\n```\r\n\r\n\r\n## V2ray配置文件\r\n\r\n备份重命名默认生成的原始V2ray配置文件\r\n\r\n``` bash\r\nmv /etc/v2ray/config.json /etc/v2ray/config_Backup.json\r\n```\r\n\r\n按需要改动下面`/etc/v2ray/config.json`里面的`port` 和 `id`和 `password`等值，建议改成`/etc/v2ray/config_Backup.json`默认随机生成的值，当然也可以照抄不改直接复制使用。\r\n\r\n[UUID在线生成](https://uuid.buyaocha.com/) \r\n\r\n### 配置VMess(websocket tls web)\r\n\r\n一、 服务端V2ray配置文件\r\n\r\n编辑文件`/etc/v2ray/config.json`\r\n\r\n``` bash\r\nnano /etc/v2ray/config.json\r\n```\r\n\r\n加入下面的代码\r\n\r\n``` json\r\n{\r\n  \"inbounds\": [{\r\n    \"port\": 22782,\r\n    \"protocol\": \"vmess\",\r\n    \"settings\": {\r\n      \"clients\": [\r\n        {\r\n          \"id\": \"4e0f9136-5ea8-462c-bce9-7dd75376d378\",\r\n          \"alterId\": 0\r\n        }\r\n      ]\r\n    },\r\n\t\"streamSettings\": {\r\n\t\"network\": \"ws\",\r\n\t\"security\": \"none\",\r\n\t\"wsSettings\": {\r\n\t\t\"path\": \"/ray\"\r\n\t\t}\r\n      },\r\n\t\"listen\": \"127.0.0.1\"\r\n  }],\r\n    \"inboundDetour\": [\r\n    {\r\n      \"protocol\": \"shadowsocks\",\r\n      \"port\": 1008,\r\n      \"settings\": {\r\n        \"method\": \"chacha20-ietf-poly1305\",\r\n        \"password\": \"yourpassword\",\r\n        \"udp\": true\r\n      }\r\n    },\r\n    {\r\n      \"protocol\": \"shadowsocks\",\r\n      \"port\": 1009,\r\n      \"settings\": {\r\n        \"method\": \"aes-128-gcm\",\r\n        \"password\": \"youpassword\",\r\n        \"udp\": true\r\n      }\r\n    }\r\n  ],\r\n  \"outbounds\": [\r\n  {\r\n    \"protocol\": \"freedom\",\r\n    \"settings\": {}\r\n  }\r\n  ]\r\n}\r\n```\r\n\r\n\r\n此文件配置可同时兼顾使用\r\n\r\n1. shadowsocks\r\n2. WebSocket+TLS+Web\r\n3. WebSocket+TLS+Web+Cloudflare_CDN\r\n\r\n二、 客户端V2ray配置文件\r\n\r\n**注意** VMess AEAD will be used when alterId is 0 in V2Ray v4.28.0+\r\n\r\n``` json\r\n{\r\n  \"inbounds\": [\r\n    {\r\n      \"port\": 1080,\r\n      \"listen\": \"127.0.0.1\",\r\n      \"protocol\": \"socks\",\r\n      \"sniffing\": {\r\n        \"enabled\": true,\r\n        \"destOverride\": [\"http\", \"tls\"]\r\n      },\r\n      \"settings\": {\r\n        \"auth\": \"noauth\",\r\n        \"udp\": false\r\n      }\r\n    }\r\n  ],\r\n  \"outbounds\": [\r\n    {\r\n      \"protocol\": \"vmess\",\r\n      \"settings\": {\r\n        \"vnext\": [\r\n          {\r\n            \"address\": \"a.yourdomain.com\",\r\n            \"port\": 443,\r\n            \"users\": [\r\n              {\r\n                \"id\": \"4e0f9136-5ea8-462c-bce9-7dd75376d378\",\r\n                \"alterId\": 0\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"streamSettings\": {\r\n        \"network\": \"ws\",\r\n        \"security\": \"tls\",\r\n\t\t\"security\": \"none\",\r\n        \"wsSettings\": {\r\n          \"path\": \"/ray\"\r\n        }\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n手动输入VMess协议客户端配置\r\n\r\n- 地址(address):a.yourdomain.com\r\n- 端口(port):443\r\n- 用户ID:4e0f9136-5ea8-462c-bce9-7dd75376d378\r\n- 额外ID(alterId):0  #只要≤服务端的值即可，值越少越不占内存\r\n- 加密方式(security):none\r\n- 传输协议(network):ws\r\n- 伪装类型(type):none\r\n- 伪装域名(host):留空不填\r\n- 路径(path): /ray\r\n- 底层传输安全: tls\r\n- 允许不安全连接: false\r\n\r\n三、 配置WEB服务器WebSocket的规则\r\n\r\n在配置文件中添加v2ray的WebSocket的规则，然后重启在WEB服务器生效。\r\n\r\n**Caddy**\r\n\r\n``` bash\r\n\tproxy /ray localhost:22782 {\r\n\t\twebsocket\r\n\t\theader_upstream -Origin\r\n\t}\r\n```\r\n\r\n点击查看[caddy安装教程](/caddy.html)\r\n\r\n\r\n**Nginx**\r\n\r\n``` bash\r\nlocation /ray {\r\n\tproxy_redirect off;\r\n\tproxy_pass http://127.0.0.1:22782;\r\n\tproxy_http_version 1.1;\r\n\tproxy_set_header Upgrade $http_upgrade;\r\n\tproxy_set_header Connection \"upgrade\";\r\n\tproxy_set_header Host $http_host;\r\n\tproxy_read_timeout 300s;\r\n    }\r\n```\r\n\r\n**Apache**\r\n\r\n把以下配置加到VirtualHost值\r\n\r\n``` bash\r\n  \u003cLocation \"/ray/\"\u003e\r\n    ProxyPass ws://127.0.0.1:22782/ray/ upgrade=WebSocket\r\n    ProxyAddHeaders Off\r\n    ProxyPreserveHost On\r\n    RequestHeader append X-Forwarded-For %{REMOTE_ADDR}s\r\n  \u003c/Location\u003e\r\n```\r\n\r\n\r\n### 配置VLESS(VLESS TCP TLS 回落模式)\r\n\r\n一、 服务端V2ray配置文件\r\n\r\n编辑文件`/etc/v2ray/config.json`\r\n\r\n``` json\r\n{\r\n    \"log\": {\r\n        \"loglevel\": \"warning\"\r\n    },\r\n    \"inbounds\": [\r\n        {\r\n            \"port\": 443,\r\n            \"protocol\": \"vless\",\r\n            \"settings\": {\r\n                \"clients\": [\r\n                    {\r\n                        \"id\": \"4e0f9136-5ea8-462c-bce9-7dd75376d378\", // 填写你的 UUID\r\n                        \"level\": 0,\r\n                        \"email\": \"love@v2fly.org\"\r\n                    }\r\n                ],\r\n                \"decryption\": \"none\",\r\n                \"fallback\": {\r\n                    \"port\": 8000\r\n                }\r\n            },\r\n            \"streamSettings\": {\r\n                \"network\": \"tcp\",\r\n                \"security\": \"tls\",\r\n                \"tlsSettings\": {\r\n                    \"alpn\": [\r\n                        \"http/1.1\"\r\n                    ],\r\n                    \"certificates\": [\r\n                        {\r\n                            \"certificateFile\": \"/path/to/tls.crt\", // 换成你的证书，绝对路径\r\n                            \"keyFile\": \"/path/to/tls.key\" // 换成你的私钥，绝对路径\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        }\r\n    ],\r\n    \"outbounds\": [\r\n        {\r\n            \"protocol\": \"freedom\"\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n宝塔Nginx的SSL证书路径\r\n\r\n```\r\nssl_certificate    /www/server/panel/vhost/cert/域名/fullchain.pem;\r\nssl_certificate_key    /www/server/panel/vhost/cert/域名/privkey.pem;\r\n```\r\n\r\nCaddy1的SSL证书路径\r\n\r\n```\r\n\"certificateFile\": \"/etc/ssl/caddy/acme/acme-v02.api.letsencrypt.org/sites/域名/域名.crt\",\r\n\"keyFile\": \"/etc/ssl/caddy/acme/acme-v02.api.letsencrypt.org/sites/域名/域名.key\"\r\n```\r\n\r\n\r\n二、 配置WEB服务\r\n\r\n我们需要2个HTTP服务 同时监听2个TCP端口80和8000，80端口用作301跳转，8000用作回落。这样的好处是更好的伪装HTTPS流量，及HTTP的80端口能自动跳转到HTTP 443端口上\r\n\r\nCaddy的配置文件示范如下\r\n\r\n```\r\nhttp://xxx.xxx:8000 {\r\n        browse\r\n        basicauth /password username yourpassword\r\n        gzip\r\n        root /var/www/\r\n        proxy /ray localhost:22782 {\r\n                websocket\r\n                header_upstream -Origin\r\n        }\r\n        fastcgi / /run/php/php7.3-fpm.sock php\r\n}\r\nhttp://xxx.xxx {\r\n      redir  https://xxx.xxx{uri}\r\n}\r\n```\r\n\r\n宝塔Nginx需要修改配置文件ssl监听端口为非443，例如改名为1443端口 然后申请SSL证书并开启强制HTTPS功能，然后增加`server`的http端口8000，完整的配置文件示范如下\r\n\r\n```\r\nserver\r\n{\r\n    listen 80;\r\n\tlisten 1443 ssl http2;\r\n    server_name 域名;\r\n    index index.php index.html index.htm default.php default.htm default.html;\r\n    root /www/wwwroot/域名;\r\n    \r\n    #SSL-START SSL相关配置，请勿删除或修改下一行带注释的404规则\r\n    #error_page 404/404.html;\r\n    #HTTP_TO_HTTPS_START\r\n    if ($server_port !~ 443){\r\n        rewrite ^(/.*)$ https://$host$1 permanent;\r\n    }\r\n    #HTTP_TO_HTTPS_END\r\n    ssl_certificate    /www/server/panel/vhost/cert/域名/fullchain.pem;\r\n    ssl_certificate_key    /www/server/panel/vhost/cert/域名/privkey.pem;\r\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3;\r\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;\r\n    ssl_prefer_server_ciphers on;\r\n    ssl_session_cache shared:SSL:10m;\r\n    ssl_session_timeout 10m;\r\n    error_page 497  https://$host$request_uri;\r\n\r\n    #SSL-END\r\n    \r\n    #ERROR-PAGE-START  错误页配置，可以注释、删除或修改\r\n    #error_page 404 /404.html;\r\n    #error_page 502 /502.html;\r\n    #ERROR-PAGE-END\r\n    \r\n    #PHP-INFO-START  PHP引用配置，可以注释或修改\r\n    include enable-php-71.conf;\r\n    #PHP-INFO-END\r\n    \r\n    #REWRITE-START URL重写规则引用,修改后将导致面板设置的伪静态规则失效\r\n    include /www/server/panel/vhost/rewrite/域名.conf;\r\n    #REWRITE-END\r\n    \r\n    #禁止访问的文件或目录\r\n    location ~ ^/(\\.user.ini|\\.htaccess|\\.git|\\.svn|\\.project|LICENSE|README.md)\r\n    {\r\n        return 404;\r\n    }\r\n    \r\n    #一键申请SSL证书验证目录相关设置\r\n    location ~ \\.well-known{\r\n        allow all;\r\n    }\r\n    \r\n    location ~ .*\\.(gif|jpg|jpeg|png|bmp|swf)$\r\n    {\r\n        expires      30d;\r\n        error_log off;\r\n        access_log /dev/null;\r\n    }\r\n    \r\n    location ~ .*\\.(js|css)?$\r\n    {\r\n        expires      12h;\r\n        error_log off;\r\n        access_log /dev/null; \r\n    }\r\n    access_log  /www/wwwlogs/域名.log;\r\n    error_log  /www/wwwlogs/域名.error.log;\r\n    \r\n    location /ray {\r\n    proxy_redirect off;\r\n    proxy_pass http://127.0.0.1:22782;\r\n    proxy_http_version 1.1;\r\n    proxy_set_header Upgrade $http_upgrade;\r\n    proxy_set_header Connection \"upgrade\";\r\n    proxy_set_header Host $http_host;\r\n    proxy_read_timeout 300s;\r\n    }\r\n\r\n}\r\nserver\r\n{\r\n    listen 8000;\r\n    server_name 域名;\r\n    index index.php index.html index.htm default.php default.htm default.html;\r\n    root /www/wwwroot/域名;\r\n    \r\n    #ERROR-PAGE-START  错误页配置，可以注释、删除或修改\r\n    #error_page 404 /404.html;\r\n    #error_page 502 /502.html;\r\n    #ERROR-PAGE-END\r\n    \r\n    #PHP-INFO-START  PHP引用配置，可以注释或修改\r\n    include enable-php-71.conf;\r\n    #PHP-INFO-END\r\n    \r\n    #REWRITE-START URL重写规则引用,修改后将导致面板设置的伪静态规则失效\r\n    include /www/server/panel/vhost/rewrite/域名.conf;\r\n    #REWRITE-END\r\n    \r\n    #禁止访问的文件或目录\r\n    location ~ ^/(\\.user.ini|\\.htaccess|\\.git|\\.svn|\\.project|LICENSE|README.md)\r\n    {\r\n        return 404;\r\n    }\r\n    \r\n    location ~ .*\\.(gif|jpg|jpeg|png|bmp|swf)$\r\n    {\r\n        expires      30d;\r\n        error_log off;\r\n        access_log /dev/null;\r\n    }\r\n    \r\n    location ~ .*\\.(js|css)?$\r\n    {\r\n        expires      12h;\r\n        error_log off;\r\n        access_log /dev/null; \r\n    }\r\n    access_log  /www/wwwlogs/域名.log;\r\n    error_log  /www/wwwlogs/域名.error.log;\r\n    \r\n\r\n}\r\n```\r\n\r\n三、 客户端V2ray配置文件\r\n\r\n``` json\r\n{\r\n    \"log\": {\r\n        \"loglevel\": \"warning\"\r\n    },\r\n    \"inbounds\": [\r\n        {\r\n            \"port\": 10800,\r\n            \"listen\": \"127.0.0.1\",\r\n            \"protocol\": \"socks\",\r\n            \"settings\": {\r\n                \"udp\": true\r\n            }\r\n        }\r\n    ],\r\n    \"outbounds\": [\r\n        {\r\n            \"protocol\": \"vless\",\r\n            \"settings\": {\r\n                \"vnext\": [\r\n                    {\r\n                        \"address\": \"example.com\", // 换成你的域名\r\n                        \"port\": 443,\r\n                        \"users\": [\r\n                            {\r\n                                \"id\": \"4e0f9136-5ea8-462c-bce9-7dd75376d378\", // 填写你的 UUID\r\n                                \"encryption\": \"none\",\r\n                                \"level\": 0\r\n                            }\r\n                        ]\r\n                    }\r\n                ]\r\n            },\r\n            \"streamSettings\": {\r\n                \"network\": \"tcp\",\r\n                \"security\": \"tls\"\r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n手动输入VLESS协议客户端配置\r\n\r\n- 地址(address):example.com  // 换成你的域名\r\n- 端口(port):443\r\n- 用户ID:4e0f9136-5ea8-462c-bce9-7dd75376d378\r\n- 加密方式(encryption):none\r\n- 传输协议(network):tcp\r\n- 伪装类型(type):none\r\n- 伪装域名(host):留空不填\r\n- 路径(path): 留空不填\r\n- 底层传输安全: tls\r\n- 允许不安全连接: false\r\n\r\n## Cloudflare设置CDN\r\n\r\n注意：开启Cloudflare的CDN前，确保灰色云朵(用作直连)是没有点亮的，祼连可用。\r\n\r\n- a.yourdomain.com 灰色云朵(用作直连)\r\n- b.yourdomain.com 彩色云朵(套Cloudflare_CDN)\r\n\r\n只要把a设置成灰色云朵，b设置成彩色云朵。如下图\r\n\r\n![](/images/cloudflare-cdn.png)\r\n\r\n使用Cloudflare的SSL证书\r\n\r\n进入Cloudflare的`Crypto`把`SSL`选项设置成`Full`证书生效后是\r\n\r\n```\r\nUniversal SSL Status - Active Certificate\r\n```\r\n\r\n![](/images/cloudflare-Crypto-SSL.png)\r\n\r\n**注意**\r\n\r\n\r\nCloudflare的`Crypto`里面的`Minimum TLS Version`选择**强制TLS1.3需要V2ray服务端和客户端同时使用4.19.1+版本才能用**\r\n\r\n此时\r\n\r\nping a.yourdomain.com 是VPS的IP\r\n\r\nping b.yourdomain.com 是Cloudflare的IP\r\n\r\n\r\n把域名换成`b.yourdomain.com`即套用Cloudflare的CDN\r\n\r\n\r\n## 管理V2Ray进程\r\n\r\n\r\n``` bash\r\nservice v2ray start\r\n```\r\n\r\nubuntu 16.10+ 使用\r\n\r\n``` bash\r\nsystemctl start v2ray.service\r\nsystemctl status v2ray.service\r\nsystemctl stop v2ray.service\r\nsystemctl restart v2ray.service\r\n```\r\n\r\n此脚本会自动安装以下文件：\r\n\r\n- /usr/bin/v2ray/v2ray：V2Ray 程序；\r\n- /usr/bin/v2ray/v2ctl：V2Ray 工具；\r\n- /etc/v2ray/config.json：配置文件；\r\n- /usr/bin/v2ray/geoip.dat：IP 数据文件\r\n- /usr/bin/v2ray/geosite.dat：域名数据文件\r\n\r\n此脚本会配置自动运行脚本。自动运行脚本会在系统重启之后，自动运行 V2Ray。目前自动运行脚本只支持带有 Systemd 的系统，以及 Debian / Ubuntu 全系列。\r\n\r\n运行脚本位于系统的以下位置：\r\n\r\n- /etc/systemd/system/v2ray.service: Systemd\r\n- /etc/init.d/v2ray: SysV\r\n\r\n脚本运行完成后，你需要：\r\n\r\n1. 编辑 /etc/v2ray/config.json 文件来配置你需要的代理方式；\r\n2. 运行 service v2ray start 来启动 V2Ray 进程；\r\n3. 之后可以使用 service v2ray start|stop|status|reload|restart|force-reload 控制 V2Ray 的运行。\r\n\r\n## 更新\r\n\r\n停止v2ray覆盖重新安装一次再启动它\r\n\r\n``` bash\r\nservice v2ray stop\r\nbash \u003c(curl -L -s https://install.direct/go.sh)\r\nservice v2ray start\r\n```\r\n\r\n查看v2ray版本\r\n\r\n``` bash\r\n/usr/bin/v2ray/v2ray --version\r\n```\r\n","cover":"","link":"v2ray-config-shadowsocks-websocket-tls+webcloudflare_cdn.html","preview":"","title":"V2ray官方安装配置shadowsocks+WebSocket+TLS+Web+Cloudflare_CDN"},{"content":"\r\n\r\n\r\n\u003e BaiduPCS-Go项目地址(https://github.com/iikira/BaiduPCS-Go)\r\n\r\n### [Android运行BaiduPCS-Go](https://github.com/iikira/BaiduPCS-Go/wiki/Android-%E8%BF%90%E8%A1%8C%E6%9C%AC%E9%A1%B9%E7%9B%AE%E7%A8%8B%E5%BA%8F%E5%8F%82%E8%80%83%E7%A4%BA%E4%BE%8B)\r\n[下载Termux](https://termux.com/) 安装并运行\r\n\r\n``` bash\r\ntermux-setup-storage\r\n```\r\n\r\n始终允许Termux获取存储权限\r\n\r\n#### 安装方式一: 通过软件源安装\r\n\r\n``` bash\r\necho \"deb [trusted=yes] http://termux.iikira.com stable main\" \u003e\u003e /data/data/com.termux/files/usr/etc/apt/sources.list\r\n```\r\n\r\n添加更新软件源\r\n\r\n``` bash\r\napt update\r\n```\r\n\r\n安装程序\r\n\r\n``` bash\r\napt install baidupcs-go\r\n```\r\n\r\n#### 安装方式二: 手动安装\r\n\r\n``` bash\r\napt update \u0026\u0026 apt upgrade -y\r\nwget -O 1.zip https://github.com/iikira/BaiduPCS-Go/releases/download/v3.3.3/BaiduPCS-Go-v3.3.3-android-21-arm64.zip\r\nunzip 1.zip \u0026\u0026 rm 1.zip\r\nmv BaiduPCS-Go-v3.3.3-android-21-arm64 BaiduPCS-Go\r\ncd ~/BaiduPCS-Go \u0026\u0026 ./BaiduPCS-Go\r\n```\r\n\r\n按提示完成登陆\r\n\r\n``` bash\r\nBaiduPCS-Go login\r\n```\r\n\r\n配置文件所在的目录为家目录的情况\r\n\r\n``` bash\r\nconfig set -max_parallel 500\r\n```\r\n下载最大并发量建议值: 50~500, 太低下载速度提升不明显甚至速度会变为0, 太高可能会导致程序出错被操作系统结束掉\r\n\r\n\r\n\r\n更新程序\r\n\r\n``` bash\r\napt update\r\napt install baidupcs-go\r\n```\r\n\r\n卸载程序\r\n\r\n``` bash\r\napt remove baidupcs-go\r\n```\r\n\r\n# BaiduPCS-Go 百度网盘客户端\r\n\r\n仿 Linux shell 文件处理命令的百度网盘命令行客户端.\r\n\r\nThis project was largely inspired by [GangZhuo/BaiduPCS](https://github.com/GangZhuo/BaiduPCS)\r\n\r\n## 解决错误代码4, No permission to do this operation\r\n\r\n``` bash\r\nBaiduPCS-Go config set -appid 266719\r\n```\r\n\r\n详见讨论 [#387](https://github.com/iikira/BaiduPCS-Go/issues/387)\r\n\r\n## 注意\r\n\r\n此文档只针对于最新的commit, 可能不适用于已发布的最新版本.\r\n\r\n\r\n\r\n# 特色\r\n\r\n多平台支持, 支持 Windows, macOS, linux, 移动设备等.\r\n\r\n百度帐号多用户支持;\r\n\r\n通配符匹配网盘路径和 Tab 自动补齐命令和路径, [通配符_百度百科](https://baike.baidu.com/item/通配符);\r\n\r\n[下载](#下载文件目录)网盘内文件, 支持多个文件或目录下载, 支持断点续传和单文件并行下载;\r\n\r\n[上传](#上传文件目录)本地文件, 支持上传大文件(\u003e2GB), 支持多个文件或目录上传;\r\n\r\n[离线下载](#离线下载), 支持http/https/ftp/电驴/磁力链协议.\r\n\r\n# 编译/交叉编译 说明\r\n参见 [编译/交叉编译帮助](https://github.com/iikira/BaiduPCS-Go/wiki/编译-交叉编译帮助)\r\n\r\n# 下载/运行 说明\r\n\r\nGo语言程序, 可直接在[发布页](https://github.com/iikira/BaiduPCS-Go/releases)下载使用.\r\n\r\n如果程序运行时输出乱码, 请检查下终端的编码方式是否为 `UTF-8`.\r\n\r\n使用本程序之前, 建议学习一些 linux 基础知识 和 基础命令.\r\n\r\n如果未带任何参数运行程序, 程序将会进入仿Linux shell系统用户界面的cli交互模式, 可直接运行相关命令.\r\n\r\ncli交互模式下, 光标所在行的前缀应为 `BaiduPCS-Go \u003e`, 如果登录了百度帐号则格式为 `BaiduPCS-Go:\u003c工作目录\u003e \u003c百度ID\u003e$ `\r\n\r\n程序会提供相关命令的使用说明.\r\n\r\n## Windows\r\n\r\n程序应在 命令提示符 (Command Prompt) 或 PowerShell 中运行, 在 mintty (例如: GitBash) 可能会有显示问题.\r\n\r\n也可直接双击程序运行, 具体使用方法请参见 [命令列表及说明](#命令列表及说明) 和 [初级使用教程](#初级使用教程).\r\n\r\n## Linux / macOS\r\n\r\n程序应在 终端 (Terminal) 运行.\r\n\r\n具体使用方法请参见 [命令列表及说明](#命令列表及说明) 和 [初级使用教程](#初级使用教程).\r\n\r\n## Android / iOS\r\n\r\n\u003e Android / iOS 移动设备操作比较麻烦, 不建议在移动设备上使用本程序.\r\n\r\n安卓, 建议使用 [Termux](https://termux.com) 或 [NeoTerm](https://github.com/NeoTerm/NeoTerm) 或 终端模拟器, 以提供终端环境.\r\n\r\n示例: [Android 运行本项目程序参考示例](https://github.com/iikira/BaiduPCS-Go/wiki/Android-运行本项目程序参考示例), 有兴趣的可以参考一下.\r\n\r\n苹果iOS, 需要越狱, 在 Cydia 搜索下载并安装 MobileTerminal, 或者其他提供终端环境的软件.\r\n\r\n示例: [iOS 运行本项目程序参考示例](https://github.com/iikira/BaiduPCS-Go/wiki/iOS-运行本项目程序参考示例), 有兴趣的可以参考一下.\r\n\r\n具体使用方法请参见 [命令列表及说明](#命令列表及说明) 和 [初级使用教程](#初级使用教程).\r\n\r\n# 命令列表及说明\r\n\r\n## 注意 ! ! !\r\n\r\n命令的前缀 `BaiduPCS-Go` 为指向程序运行的全路径名 (ARGv 的第一个参数)\r\n\r\n直接运行程序时, 未带任何其他参数, 则程序进入cli交互模式, 运行以下命令时, 要把命令的前缀 `BaiduPCS-Go` 去掉!\r\n\r\ncli交互模式已支持按tab键自动补全命令和路径.\r\n\r\n## 检测程序更新\r\n\r\n``` bash\r\nBaiduPCS-Go update\r\n```\r\n\r\n## 登录百度帐号\r\n\r\n### 常规登录百度帐号\r\n\r\n支持在线验证绑定的手机号或邮箱,\r\n\r\n``` bash\r\nBaiduPCS-Go login\r\n```\r\n\r\n### 使用百度 BDUSS 来登录百度帐号\r\n\r\n[关于 获取百度 BDUSS](https://github.com/iikira/BaiduPCS-Go/wiki/关于-获取百度-BDUSS)\r\n\r\n``` bash\r\nBaiduPCS-Go login -bduss=\u003cBDUSS\u003e\r\n```\r\n\r\n#### 例子\r\n\r\n``` bash\r\nBaiduPCS-Go login -bduss=1234567\r\n```\r\n\r\n``` bash\r\nBaiduPCS-Go login\r\n请输入百度用户名(手机号/邮箱/用户名), 回车键提交 \u003e 1234567\r\n```\r\n\r\n## 列出帐号列表\r\n\r\n``` bash\r\nBaiduPCS-Go loglist\r\n```\r\n\r\n列出所有已登录的百度帐号\r\n\r\n## 获取当前帐号\r\n\r\n``` bash\r\nBaiduPCS-Go who\r\n```\r\n\r\n## 切换百度帐号\r\n\r\n切换已登录的百度帐号\r\n\r\n``` bash\r\nBaiduPCS-Go su \u003cuid\u003e\r\n```\r\n\r\n``` bash\r\nBaiduPCS-Go su\r\n\r\n请输入要切换帐号的 # 值 \u003e\r\n```\r\n\r\n## 退出百度帐号\r\n\r\n退出当前登录的百度帐号\r\n\r\n``` bash\r\nBaiduPCS-Go logout\r\n```\r\n\r\n程序会进一步确认退出帐号, 防止误操作.\r\n\r\n## 获取网盘配额\r\n\r\n``` bash\r\nBaiduPCS-Go quota\r\n```\r\n获取网盘的总储存空间, 和已使用的储存空间\r\n\r\n## 切换工作目录\r\n\r\n``` bash\r\nBaiduPCS-Go cd \u003c目录\u003e\r\n```\r\n\r\n### 切换工作目录后自动列出工作目录下的文件和目录\r\n\r\n``` bash\r\nBaiduPCS-Go cd -l \u003c目录\u003e\r\n```\r\n\r\n#### 例子\r\n\r\n``` bash\r\n# 切换 /我的资源 工作目录\r\nBaiduPCS-Go cd /我的资源\r\n\r\n# 切换 上级目录\r\nBaiduPCS-Go cd ..\r\n\r\n# 切换 根目录\r\nBaiduPCS-Go cd /\r\n\r\n# 切换 /我的资源 工作目录, 并自动列出 /我的资源 下的文件和目录\r\nBaiduPCS-Go cd -l 我的资源\r\n\r\n# 使用通配符\r\nBaiduPCS-Go cd /我的*\r\n```\r\n\r\n## 输出工作目录\r\n\r\n``` bash\r\nBaiduPCS-Go pwd\r\n```\r\n\r\n## 列出目录\r\n\r\n列出当前工作目录的文件和目录或指定目录\r\n\r\n``` bash\r\nBaiduPCS-Go ls\r\n```\r\n\r\n``` bash\r\nBaiduPCS-Go ls \u003c目录\u003e\r\n```\r\n\r\n### 可选参数\r\n\r\n``` bash\r\n-asc: 升序排序\r\n-desc: 降序排序\r\n-time: 根据时间排序\r\n-name: 根据文件名排序\r\n-size: 根据大小排序\r\n```\r\n\r\n#### 例子\r\n\r\n``` bash\r\n# 列出 我的资源 内的文件和目录\r\nBaiduPCS-Go ls 我的资源\r\n\r\n# 绝对路径\r\nBaiduPCS-Go ls /我的资源\r\n\r\n# 降序排序\r\nBaiduPCS-Go ls -desc 我的资源\r\n\r\n# 按文件大小降序排序\r\nBaiduPCS-Go ls -size -desc 我的资源\r\n\r\n# 使用通配符\r\nBaiduPCS-Go ls /我的*\r\n```\r\n\r\n## 列出目录树形图\r\n\r\n列出当前工作目录的文件和目录或指定目录的树形图\r\n\r\n``` bash\r\nBaiduPCS-Go tree \u003c目录\u003e\r\n\r\n# 默认获取工作目录元信息\r\nBaiduPCS-Go tree\r\n```\r\n\r\n## 获取文件/目录的元信息\r\n\r\n``` bash\r\nBaiduPCS-Go meta \u003c文件/目录1\u003e \u003c文件/目录2\u003e \u003c文件/目录3\u003e ...\r\n\r\n# 默认获取工作目录元信息\r\nBaiduPCS-Go meta\r\n```\r\n\r\n#### 例子\r\n\r\n``` bash\r\nBaiduPCS-Go meta 我的资源\r\nBaiduPCS-Go meta /\r\n```\r\n\r\n## 搜索文件\r\n\r\n按文件名搜索文件（不支持查找目录）。\r\n\r\n默认在当前工作目录搜索.\r\n\r\n``` bash\r\nBaiduPCS-Go search [-path=\u003c需要检索的目录\u003e] [-r] \u003c关键字\u003e\r\n```\r\n\r\n#### 例子\r\n\r\n``` bash\r\n# 搜索根目录的文件\r\nBaiduPCS-Go search -path=/ 关键字\r\n\r\n# 搜索当前工作目录的文件\r\nBaiduPCS-Go search 关键字\r\n\r\n# 递归搜索当前工作目录的文件\r\nBaiduPCS-Go search -r 关键字\r\n```\r\n\r\n## 下载文件/目录\r\n\r\n``` bash\r\nBaiduPCS-Go download \u003c网盘文件或目录的路径1\u003e \u003c文件或目录2\u003e \u003c文件或目录3\u003e ...\r\nBaiduPCS-Go d \u003c网盘文件或目录的路径1\u003e \u003c文件或目录2\u003e \u003c文件或目录3\u003e ...\r\n```\r\n\r\n### 可选参数\r\n\r\n``` bash\r\n  --test          测试下载, 此操作不会保存文件到本地\r\n  --ow            overwrite, 覆盖已存在的文件\r\n  --status        输出所有线程的工作状态\r\n  --save          将下载的文件直接保存到当前工作目录\r\n  --saveto value  将下载的文件直接保存到指定的目录\r\n  -x              为文件加上执行权限, (windows系统无效)\r\n  --share         以分享文件的方式获取下载链接来下载\r\n  --locate        以获取直链的方式来下载\r\n  -p value        指定下载线程数\r\n```\r\n\r\n支持多个文件或目录的下载.\r\n\r\n下载的文件默认保存到 **程序所在目录** 的 download/ 目录, 支持设置指定目录, 重名的文件会自动跳过!\r\n\r\n[关于下载的简单说明](https://github.com/iikira/BaiduPCS-Go/wiki/%E5%85%B3%E4%BA%8E%E4%B8%8B%E8%BD%BD%E7%9A%84%E7%AE%80%E5%8D%95%E8%AF%B4%E6%98%8E)\r\n\r\n#### 例子\r\n\r\n``` bash\r\n# 设置保存目录, 保存到 D:\\Downloads\r\n# 注意区别反斜杠 \"\\\" 和 斜杠 \"/\" !!!\r\nBaiduPCS-Go config set -savedir D:/Downloads\r\n\r\n# 下载 /我的资源/1.mp4\r\nBaiduPCS-Go d /我的资源/1.mp4\r\n\r\n# 下载 /我的资源 整个目录!!\r\nBaiduPCS-Go d /我的资源\r\n\r\n# 下载网盘内的全部文件!!\r\nBaiduPCS-Go d /\r\nBaiduPCS-Go d *\r\n```\r\n\r\n## 上传文件/目录\r\n\r\n``` bash\r\nBaiduPCS-Go upload \u003c本地文件/目录的路径1\u003e \u003c文件/目录2\u003e \u003c文件/目录3\u003e ... \u003c目标目录\u003e\r\nBaiduPCS-Go u \u003c本地文件/目录的路径1\u003e \u003c文件/目录2\u003e \u003c文件/目录3\u003e ... \u003c目标目录\u003e\r\n```\r\n\r\n* 上传默认采用分片上传的方式, 上传的文件将会保存到, \u003c目标目录\u003e.\r\n\r\n* 遇到同名文件将会自动覆盖!!\r\n\r\n* 当上传的文件名和网盘的目录名称相同时, 不会覆盖目录, 防止丢失数据.\r\n\r\n\r\n#### 注意:\r\n\r\n* 分片上传之后, 服务器可能会记录到错误的文件md5, 可使用 fixmd5 命令尝试修复文件的MD5值, 修复md5不一定能成功, 但文件的完整性是没问题的.\r\n\r\nfixmd5 命令使用方法:\r\n\r\n``` bash\r\nBaiduPCS-Go fixmd5 -h\r\n```\r\n\r\n* 禁用分片上传可以保证服务器记录到正确的md5.\r\n\r\n* 禁用分片上传时只能使用单线程上传, 指定的单个文件上传最大线程数将会无效.\r\n\r\n#### 例子:\r\n\r\n``` bash\r\n# 将本地的 C:\\Users\\Administrator\\Desktop\\1.mp4 上传到网盘 /视频 目录\r\n# 注意区别反斜杠 \"\\\" 和 斜杠 \"/\" !!!\r\nBaiduPCS-Go upload C:/Users/Administrator/Desktop/1.mp4 /视频\r\n\r\n# 将本地的 C:\\Users\\Administrator\\Desktop\\1.mp4 和 C:\\Users\\Administrator\\Desktop\\2.mp4 上传到网盘 /视频 目录\r\nBaiduPCS-Go upload C:/Users/Administrator/Desktop/1.mp4 C:/Users/Administrator/Desktop/2.mp4 /视频\r\n\r\n# 将本地的 C:\\Users\\Administrator\\Desktop 整个目录上传到网盘 /视频 目录\r\nBaiduPCS-Go upload C:/Users/Administrator/Desktop /视频\r\n```\r\n\r\n## 获取下载直链\r\n\r\n``` bash\r\nBaiduPCS-Go locate \u003c文件1\u003e \u003c文件2\u003e ...\r\n```\r\n\r\n#### 注意\r\n\r\n若该功能无法正常使用, 提示`user is not authorized, hitcode:101`, 尝试更换 User-Agent 为 `netdisk;8.3.1;android-android`:\r\n\r\n``` bash\r\nBaiduPCS-Go config set -user_agent \"netdisk;8.3.1;android-android\"\r\n```\r\n\r\n## 手动秒传文件\r\n\r\n``` bash\r\nBaiduPCS-Go rapidupload -length=\u003c文件的大小\u003e -md5=\u003c文件的md5值\u003e -slicemd5=\u003c文件前256KB切片的md5值(可选)\u003e -crc32=\u003c文件的crc32值(可选)\u003e \u003c保存的网盘路径, 需包含文件名\u003e\r\nBaiduPCS-Go ru -length=\u003c文件的大小\u003e -md5=\u003c文件的md5值\u003e -slicemd5=\u003c文件前256KB切片的md5值(可选)\u003e -crc32=\u003c文件的crc32值(可选)\u003e \u003c保存的网盘路径, 需包含文件名\u003e\r\n```\r\n\r\n注意: 使用此功能秒传文件, 前提是知道文件的大小, md5, 前256KB切片的 md5 (可选), crc32 (可选), 且百度网盘中存在一模一样的文件.\r\n\r\n上传的文件将会保存到网盘的目标目录.\r\n\r\n遇到同名文件将会自动覆盖! \r\n\r\n可能无法秒传 20GB 以上的文件!!\r\n\r\n#### 例子:\r\n\r\n``` bash\r\n# 如果秒传成功, 则保存到网盘路径 /test\r\nBaiduPCS-Go rapidupload -length=56276137 -md5=fbe082d80e90f90f0fb1f94adbbcfa7f -slicemd5=38c6a75b0ec4499271d4ea38a667ab61 -crc32=314332359 /test\r\n```\r\n\r\n\r\n## 修复文件MD5\r\n\r\n``` bash\r\nBaiduPCS-Go fixmd5 \u003c文件1\u003e \u003c文件2\u003e \u003c文件3\u003e ...\r\n```\r\n\r\n尝试修复文件的MD5值, 以便于校验文件的完整性和导出文件.\r\n\r\n使用分片上传文件, 当文件分片数大于1时, 百度网盘服务端最终计算所得的md5值和本地的不一致, 这可能是百度网盘的bug.\r\n\r\n不过把上传的文件下载到本地后，对比md5值是匹配的, 也就是文件在传输中没有发生损坏.\r\n\r\n对于MD5值可能有误的文件, 程序会在获取文件的元信息时, 给出MD5值 \"可能不正确\" 的提示, 表示此文件可以尝试进行MD5值修复.\r\n\r\n修复文件MD5不一定能成功, 原因可能是服务器未刷新, 可过几天后再尝试.\r\n\r\n修复文件MD5的原理为秒传文件, 即修复文件MD5成功后, 文件的**创建日期, 修改日期, fs_id, 版本历史等信息**将会被覆盖, 修复的MD5值将覆盖原先的MD5值, 但不影响文件的完整性.\r\n\r\n注意: 无法修复 **20GB** 以上文件的 md5!!\r\n\r\n#### 例子:\r\n\r\n``` bash\r\n# 修复 /我的资源/1.mp4 的 MD5 值\r\nBaiduPCS-Go fixmd5 /我的资源/1.mp4\r\n```\r\n\r\n## 获取本地文件的秒传信息\r\n\r\n``` bash\r\nBaiduPCS-Go sumfile \u003c本地文件的路径\u003e\r\nBaiduPCS-Go sf \u003c本地文件的路径\u003e\r\n```\r\n\r\n获取本地文件的大小, md5, 前256KB切片的 md5, crc32, 可用于秒传文件.\r\n\r\n#### 例子:\r\n\r\n``` bash\r\n# 获取 C:\\Users\\Administrator\\Desktop\\1.mp4 的秒传信息\r\nBaiduPCS-Go sumfile C:/Users/Administrator/Desktop/1.mp4\r\n```\r\n\r\n## 导出文件/目录\r\n\r\n``` bash\r\nBaiduPCS-Go export \u003c文件/目录1\u003e \u003c文件/目录2\u003e ...\r\nBaiduPCS-Go ep \u003c文件/目录1\u003e \u003c文件/目录2\u003e ...\r\n```\r\n\r\n导出网盘内的文件或目录, 原理为秒传文件, 此操作会生成导出文件或目录的命令.\r\n\r\n#### 注意\r\n\r\n**无法导出 20GB 以上的文件!!**\r\n\r\n**无法导出文件的版本历史等数据!!**\r\n\r\n并不是所有的文件都能导出成功, 程序会列出无法导出的文件列表\r\n\r\n#### 例子:\r\n\r\n``` bash\r\n# 导出当前工作目录:\r\nBaiduPCS-Go export\r\n\r\n# 导出所有文件和目录, 并设置新的根目录为 /root\r\nBaiduPCS-Go export -root=/root /\r\n\r\n# 导出 /我的资源\r\nBaiduPCS-Go export /我的资源\r\n```\r\n\r\n## 创建目录\r\n\r\n``` bash\r\nBaiduPCS-Go mkdir \u003c目录\u003e\r\n```\r\n\r\n#### 例子\r\n\r\n``` bash\r\nBaiduPCS-Go mkdir 123\r\n```\r\n\r\n## 删除文件/目录\r\n\r\n``` bash\r\nBaiduPCS-Go rm \u003c网盘文件或目录的路径1\u003e \u003c文件或目录2\u003e \u003c文件或目录3\u003e ...\r\n```\r\n\r\n注意: 删除多个文件和目录时, 请确保每一个文件和目录都存在, 否则删除操作会失败.\r\n\r\n被删除的文件或目录可在网盘文件回收站找回.\r\n\r\n#### 例子\r\n\r\n``` bash\r\n# 删除 /我的资源/1.mp4\r\nBaiduPCS-Go rm /我的资源/1.mp4\r\n\r\n# 删除 /我的资源/1.mp4 和 /我的资源/2.mp4\r\nBaiduPCS-Go rm /我的资源/1.mp4 /我的资源/2.mp4\r\n\r\n# 删除 /我的资源 内的所有文件和目录, 但不删除该目录\r\nBaiduPCS-Go rm /我的资源/*\r\n\r\n# 删除 /我的资源 整个目录 !!\r\nBaiduPCS-Go rm /我的资源\r\n```\r\n\r\n## 拷贝文件/目录\r\n\r\n``` bash\r\nBaiduPCS-Go cp \u003c文件/目录\u003e \u003c目标 文件/目录\u003e\r\nBaiduPCS-Go cp \u003c文件/目录1\u003e \u003c文件/目录2\u003e \u003c文件/目录3\u003e ... \u003c目标目录\u003e\r\n```\r\n\r\n注意: 拷贝多个文件和目录时, 请确保每一个文件和目录都存在, 否则拷贝操作会失败.\r\n\r\n#### 例子\r\n\r\n``` bash\r\n# 将 /我的资源/1.mp4 复制到 根目录 /\r\nBaiduPCS-Go cp /我的资源/1.mp4 /\r\n\r\n# 将 /我的资源/1.mp4 和 /我的资源/2.mp4 复制到 根目录 /\r\nBaiduPCS-Go cp /我的资源/1.mp4 /我的资源/2.mp4 /\r\n```\r\n\r\n## 移动/重命名文件/目录\r\n\r\n``` bash\r\n# 移动:\r\nBaiduPCS-Go mv \u003c文件/目录1\u003e \u003c文件/目录2\u003e \u003c文件/目录3\u003e ... \u003c目标目录\u003e\r\n# 重命名:\r\nBaiduPCS-Go mv \u003c文件/目录\u003e \u003c重命名的文件/目录\u003e\r\n```\r\n\r\n注意: 移动多个文件和目录时, 请确保每一个文件和目录都存在, 否则移动操作会失败.\r\n\r\n#### 例子\r\n\r\n``` bash\r\n# 将 /我的资源/1.mp4 移动到 根目录 /\r\nBaiduPCS-Go mv /我的资源/1.mp4 /\r\n\r\n# 将 /我的资源/1.mp4 重命名为 /我的资源/3.mp4\r\nBaiduPCS-Go mv /我的资源/1.mp4 /我的资源/3.mp4\r\n```\r\n\r\n## 分享文件/目录\r\n\r\n``` bash\r\nBaiduPCS-Go share\r\n```\r\n\r\n### 设置分享文件/目录\r\n\r\n``` bash\r\nBaiduPCS-Go share set \u003c文件/目录1\u003e \u003c文件/目录2\u003e ...\r\nBaiduPCS-Go share s \u003c文件/目录1\u003e \u003c文件/目录2\u003e ...\r\n```\r\n\r\n### 列出已分享文件/目录\r\n\r\n``` bash\r\nBaiduPCS-Go share list\r\nBaiduPCS-Go share l\r\n```\r\n\r\n### 取消分享文件/目录\r\n\r\n``` bash\r\nBaiduPCS-Go share cancel \u003cshareid_1\u003e \u003cshareid_2\u003e ...\r\nBaiduPCS-Go share c \u003cshareid_1\u003e \u003cshareid_2\u003e ...\r\n```\r\n\r\n目前只支持通过分享id (shareid) 来取消分享.\r\n\r\n## 离线下载\r\n\r\n``` bash\r\nBaiduPCS-Go offlinedl\r\nBaiduPCS-Go clouddl\r\nBaiduPCS-Go od\r\n```\r\n\r\n离线下载支持http/https/ftp/电驴/磁力链协议\r\n\r\n离线下载同时进行的任务数量有限, 超出限制的部分将无法添加.\r\n\r\n### 添加离线下载任务\r\n\r\n``` bash\r\nBaiduPCS-Go offlinedl add -path=\u003c离线下载文件保存的路径\u003e 资源地址1 地址2 ...\r\n```\r\n\r\n添加任务成功之后, 返回离线下载的任务ID.\r\n\r\n### 精确查询离线下载任务\r\n\r\n``` bash\r\nBaiduPCS-Go offlinedl query 任务ID1 任务ID2 ...\r\n```\r\n\r\n### 查询离线下载任务列表\r\n \r\n``` bash\r\nBaiduPCS-Go offlinedl list\r\n```\r\n\r\n### 取消离线下载任务\r\n\r\n``` bash\r\nBaiduPCS-Go offlinedl cancel 任务ID1 任务ID2 ...\r\n```\r\n\r\n### 删除离线下载任务\r\n\r\n``` bash\r\nBaiduPCS-Go offlinedl delete 任务ID1 任务ID2 ...\r\n\r\n# 清空离线下载任务记录, 程序不会进行二次确认, 谨慎操作!!!\r\nBaiduPCS-Go offlinedl delete -all\r\n```\r\n\r\n#### 例子\r\n\r\n``` bash\r\n# 将百度和腾讯主页, 离线下载到根目录 /\r\nBaiduPCS-Go offlinedl add -path=/ http://baidu.com http://qq.com\r\n\r\n# 添加磁力链接任务\r\nBaiduPCS-Go offlinedl add magnet:?xt=urn:btih:xxx\r\n\r\n# 查询任务ID为 12345 的离线下载任务状态\r\nBaiduPCS-Go offlinedl query 12345\r\n\r\n# 取消任务ID为 12345 的离线下载任务\r\nBaiduPCS-Go offlinedl cancel 12345\r\n```\r\n\r\n## 回收站\r\n\r\n``` bash\r\nBaiduPCS-Go recycle\r\n```\r\n\r\n回收站操作.\r\n\r\n### 列出回收站文件列表\r\n\r\n``` bash\r\nBaiduPCS-Go recycle list\r\n```\r\n\r\n#### 可选参数\r\n\r\n``` bash\r\n  --page value  回收站文件列表页数 (default: 1)\r\n```\r\n\r\n### 还原回收站文件或目录\r\n\r\n``` bash\r\nBaiduPCS-Go recycle restore \u003cfs_id 1\u003e \u003cfs_id 2\u003e \u003cfs_id 3\u003e ...\r\n```\r\n\r\n根据文件/目录的 fs_id, 还原回收站指定的文件或目录.\r\n\r\n### 删除回收站文件或目录/清空回收站\r\n\r\n``` bash\r\nBaiduPCS-Go recycle delete [-all] \u003cfs_id 1\u003e \u003cfs_id 2\u003e \u003cfs_id 3\u003e ...\r\n```\r\n\r\n根据文件/目录的 fs_id 或 -all 参数, 删除回收站指定的文件或目录或清空回收站.\r\n\r\n#### 例子\r\n\r\n``` bash\r\n# 从回收站还原两个文件, 其中的两个文件的 fs_id 分别为 1013792297798440 和 643596340463870\r\nBaiduPCS-Go recycle restore 1013792297798440 643596340463870\r\n\r\n# 从回收站删除两个文件, 其中的两个文件的 fs_id 分别为 1013792297798440 和 643596340463870\r\nBaiduPCS-Go recycle delete 1013792297798440 643596340463870\r\n\r\n# 清空回收站, 程序不会进行二次确认, 谨慎操作!!!\r\nBaiduPCS-Go recycle delete -all\r\n```\r\n\r\n## 显示程序环境变量\r\n\r\n``` bash\r\nBaiduPCS-Go env\r\n```\r\n\r\nBAIDUPCS_GO_CONFIG_DIR: 配置文件路径,\r\n\r\nBAIDUPCS_GO_VERBOSE: 是否启用调试.\r\n\r\n## 显示和修改程序配置项\r\n\r\n``` bash\r\n# 显示配置\r\nBaiduPCS-Go config\r\n\r\n# 设置配置\r\nBaiduPCS-Go config set\r\n```\r\n\r\n注意: v3.5 以后, 程序对配置文件储存路径的寻找做了调整, 配置文件所在的目录可以是程序本身所在目录, 也可以是家目录.\r\n\r\n配置文件所在的目录为家目录的情况:\r\n\r\nWindows: `%APPDATA%\\BaiduPCS-Go`\r\n\r\n其他操作系统: `$HOME/.config/BaiduPCS-Go`\r\n\r\n可通过设置环境变量 `BAIDUPCS_GO_CONFIG_DIR`, 指定配置文件存放的目录.\r\n\r\n#### 例子\r\n\r\n``` bash\r\n# 显示所有可以设置的值\r\nBaiduPCS-Go config -h\r\nBaiduPCS-Go config set -h\r\n\r\n# 设置下载文件的储存目录\r\nBaiduPCS-Go config set -savedir D:/Downloads\r\n\r\n# 设置下载最大并发量为 150\r\nBaiduPCS-Go config set -max_parallel 150\r\n\r\n# 组合设置\r\nBaiduPCS-Go config set -max_parallel 150 -savedir D:/Downloads\r\n```\r\n\r\n## 测试通配符\r\n\r\n``` bash\r\nBaiduPCS-Go match \u003c通配符表达式\u003e\r\n```\r\n\r\n测试通配符匹配路径, 操作成功则输出所有匹配到的路径.\r\n\r\n#### 例子\r\n\r\n``` bash\r\n# 匹配 /我的资源 目录下所有mp4格式的文件\r\nBaiduPCS-Go match /我的资源/*.mp4\r\n```\r\n\r\n## 工具箱\r\n\r\n``` bash\r\nBaiduPCS-Go tool\r\n```\r\n\r\n目前工具箱支持加解密文件等.\r\n\r\n# 初级使用教程\r\n\r\n新手建议: **双击运行程序**, 进入仿 Linux shell 的 cli 交互模式;\r\n\r\ncli交互模式下, 光标所在行的前缀应为 `BaiduPCS-Go \u003e`, 如果登录了百度帐号则格式为 `BaiduPCS-Go:\u003c工作目录\u003e \u003c百度ID\u003e$ `\r\n\r\n以下例子的命令, 均为 cli交互模式下的命令\r\n\r\n运行命令的正确操作: **输入命令, 按一下回车键 (键盘上的 Enter 键)**, 程序会接收到命令并输出结果\r\n\r\n## 1. 查看程序使用说明\r\n\r\ncli交互模式下, 运行命令 `help`\r\n\r\n## 2. 登录百度帐号 (必做)\r\n\r\ncli交互模式下, 运行命令 `login -h` (注意空格) 查看帮助\r\n\r\ncli交互模式下, 运行命令 `login` 程序将会提示你输入百度用户名(手机号/邮箱/用户名)和密码, 必要时还可以在线验证绑定的手机号或邮箱\r\n\r\n## 3. 切换网盘工作目录\r\n\r\ncli交互模式下, 运行命令 `cd /我的资源` 将工作目录切换为 `/我的资源` (前提: 该目录存在于网盘)\r\n\r\n目录支持通配符匹配, 所以你也可以这样: 运行命令 `cd /我的*` 或 `cd /我的??` 将工作目录切换为 `/我的资源`, 简化输入.\r\n\r\n将工作目录切换为 `/我的资源` 成功后, 运行命令 `cd ..` 切换上级目录, 即将工作目录切换为 `/`\r\n\r\n为什么要这样设计呢, 举个例子,\r\n\r\n假设 你要下载 `/我的资源` 内名为 `1.mp4` 和 `2.mp4` 两个文件, 而未切换工作目录, 你需要依次运行以下命令:\r\n\r\n``` bash\r\nd /我的资源/1.mp4\r\nd /我的资源/2.mp4\r\n```\r\n\r\n而切换网盘工作目录之后, 依次运行以下命令:\r\n\r\n``` bash\r\ncd /我的资源\r\nd 1.mp4\r\nd 2.mp4\r\n```\r\n\r\n这样就达到了简化输入的目的\r\n\r\n## 4. 网盘内列出文件和目录\r\n\r\ncli交互模式下, 运行命令 `ls -h` (注意空格) 查看帮助\r\n\r\ncli交互模式下, 运行命令 `ls` 来列出当前所在目录的文件和目录\r\n\r\ncli交互模式下, 运行命令 `ls /我的资源` 来列出 `/我的资源` 内的文件和目录\r\n\r\ncli交互模式下, 运行命令 `ls ..` 来列出当前所在目录的上级目录的文件和目录\r\n\r\n## 5. 下载文件\r\n\r\n说明: 下载的文件默认保存到 download/ 目录 (文件夹)\r\n\r\ncli交互模式下, 运行命令 `d -h` (注意空格) 查看帮助\r\n\r\ncli交互模式下, 运行命令 `d /我的资源/1.mp4` 来下载位于 `/我的资源/1.mp4` 的文件 `1.mp4` , 该操作等效于运行以下命令:\r\n\r\n``` bash\r\ncd /我的资源\r\nd 1.mp4\r\n```\r\n\r\n现在已经支持目录 (文件夹) 下载, 所以, 运行以下命令, 会下载 `/我的资源` 内的所有文件 (违规文件除外):\r\n\r\n``` bash\r\nd /我的资源\r\n```\r\n\r\n参见 例6 设置下载最大并发量\r\n\r\n## 6. 设置下载最大并发量\r\n\r\ncli交互模式下, 运行命令 `config set -h` (注意空格) 查看设置帮助以及可供设置的值\r\n\r\ncli交互模式下, 运行命令 `config set -max_parallel 250` 将下载最大并发量设置为 250\r\n\r\n下载最大并发量建议值: 50~500, 太低下载速度提升不明显甚至速度会变为0, 太高可能会导致程序出错被操作系统结束掉.\r\n\r\n## 7. 退出程序\r\n\r\n运行命令 `quit` 或 `exit` 或 组合键 `Ctrl+C` 或 组合键 `Ctrl+D`\r\n\r\n# 已知问题\r\n\r\n* 分片上传文件时, 当文件分片数大于1, 网盘端最终计算所得的md5值和本地的不一致, 这可能是百度网盘的bug, 测试把上传的文件下载到本地后，对比md5值是匹配的. 可通过秒传的原理来修复md5值.\r\n\r\n# 常见问题\r\n\r\n参见 [常见问题](https://github.com/iikira/BaiduPCS-Go/wiki/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98)\r\n\r\n# TODO\r\n\r\n1. 上传大文件;\r\n2. 回收站操作, 例如查询回收站文件, 还原文件或目录等.\r\n","cover":"","link":"baidupcs-go.html","preview":"","title":"BaiduPCS-Go上传下载不限速的百度网盘客户端"},{"content":"\r\n\r\n日常更新\r\n\r\n``` bash\r\napt-get update -y\r\napt-get upgrade -y\r\n```\r\n\r\n查找程序名\r\n\r\n``` bash\r\nsudo apt-cache search apache | grep 'apache2'\r\n```\r\n\r\n# 安装Apache2\r\n\r\n``` bash\r\napt-get install apache2\r\n```\r\n\r\n安装好后开服务\r\n\r\n``` bash\r\nservice apache2 start\r\nsystemctl enable apache2\r\n```\r\n\r\n检查Apache2运行状态\r\n\r\n``` bash\r\nsystemctl status apache2\r\n```\r\n\r\n安装Apache的php支持模块\r\n\r\n``` bash\r\nsudo apt-get install libapache2-mod-php\r\n```\r\n\r\n重启Apache2\r\n\r\n``` bash\r\n/etc/init.d/apache2 restart\r\n```\r\n\r\n停止\r\n\r\n``` bash\r\n/etc/init.d/apache2 stop\r\n```\r\n\r\n状态查询\r\n\r\n``` bash\r\n/etc/init.d/apache2 status\r\n```\r\n\r\n在浏览器中输入IP地址，看到以下页面说明apache成功安装\r\n\r\nDebian系统上Apache2 Web服务器安装的配置布局如下：\r\n\r\n``` bash\r\n/etc/apache2/\r\n|-- apache2.conf\r\n|       `--  ports.conf\r\n|-- mods-enabled\r\n|       |-- *.load\r\n|       `-- *.conf\r\n|-- conf-enabled\r\n|       `-- *.conf\r\n|-- sites-enabled\r\n|       `-- *.conf\r\n```\r\n\r\n\r\n1. apache2.conf is the main configuration file. It puts the pieces together by including all remaining configuration files when starting up the web server.\r\n2. ports.conf is always included from the main configuration file. It is used to determine the listening ports for incoming connections, and this file can be customized anytime.\r\n3. Configuration files in the mods-enabled/, conf-enabled/ and sites-enabled/ directories contain particular configuration snippets which manage modules, global configuration fragments, or virtual host configurations, respectively.\r\n4. They are activated by symlinking available configuration files from their respective *-available/ counterparts. These should be managed by using our helpers a2enmod, a2dismod, a2ensite, a2dissite, and a2enconf, a2disconf . See their respective man pages for detailed information.\r\n5. The binary is called apache2. Due to the use of environment variables, in the default configuration, apache2 needs to be started/stopped with /etc/init.d/apache2 or apache2ctl. Calling /usr/bin/apache2 directly will not work with the default configuration.\r\n\r\nDocument Roots\r\n\r\nBy default, Debian does not allow access through the web browser to any file apart of those located in /var/www, public_html directories (when enabled) and /usr/share (for web applications). If your site is using a web document root located elsewhere (such as in /srv) you may need to whitelist your document root directory in /etc/apache2/apache2.conf.\r\n\r\nThe default Debian document root is /var/www/html. You can make your own virtual hosts under /var/www. This is different to previous releases which provides better security out of the box.\r\n\r\nReporting Problems\r\n\r\nPlease use the reportbug tool to report bugs in the Apache2 package with Debian. However, check existing bug reports before reporting a new bug.\r\n\r\nPlease report bugs specific to modules (such as PHP and others) to respective packages, not to the web server itself.\r\n\r\n查看apache2版本号\r\n\r\n``` bash\r\napache2 -v\r\n```\r\n\r\n显示\r\n\r\n``` bash\r\nServer version: Apache/2.4.25 (Debian)\r\nServer built:   2019-04-02T19:05:13\r\n```\r\n\r\n列出 Debian 仓库中与 Apache 相关的软件列表。\r\n\r\n``` bash\r\napt-cache search apache | less\r\n```\r\n\r\n带有 “apache” 字眼的软件包通常都是与相应软件包有关的，如 -doc, -dev, -common, -perl …\r\n\r\n\r\nhttps://wiki.debian.org/zh_CN/Apache\r\n\r\n\r\n# 安装PHP及所需的模块：\r\n\r\n``` bash\r\napt-get install php7.0 libapache2-mod-php7.0 php7.0-cli php7.0-mcrypt php7.0-intl php7.0-mysql php7.0-curl php7.0-gd php7.0-soap php7.0-xml php7.0-zip -y\r\n```\r\n\r\n查看PHP版本\r\n\r\n``` bash\r\nphp -v\r\n```\r\n\r\n显示如下\r\n\r\nPHP 7.0.33-0+deb9u3 (cli) (built: Mar  8 2019 10:01:24) ( NTS )\r\nCopyright (c) 1997-2017 The PHP Group\r\nZend Engine v3.0.0, Copyright (c) 1998-2017 Zend Technologies\r\n    with Zend OPcache v7.0.33-0+deb9u3, Copyright (c) 1999-2017, by Zend Technologies\r\n\t\r\n\t\r\n测试是否安装成功 \r\n创建`test.php`脚本，保存到`/var/www/html`目录下,脚本内容为：\r\n\r\n``` bash\r\n\u003c?php\r\necho \"Hellow World\";\r\n?\u003e\r\n```\r\n\r\n浏览器输入localhost/test.php，浏览器返回Hello World则环境配置成功\r\n\r\n\r\n\r\n\r\n# 设置域名虚拟主机\r\n\r\n使用Apache Web服务器时，您可以使用虚拟主机 （类似于Nginx中的服务器块）来封装配置详细信息并从单个服务器托管多个域。 我们将设置一个名为example.com的域名，但您应将其替换为您自己的域名 。 要了解有关使用DigitalOcean设置域名的更多信息，请参阅我们的DigitalOcean DNS简介 。\r\n\r\nDebian 9上的Apache默认启用了一个服务器块，配置为从/var/www/html目录中提供文档。 虽然这适用于单个站点，但如果您托管多个站点，它可能会变得难以处理。 不要修改/var/www/html ，让我们在example.com网站的/var/www创建一个目录结构，将/var/www/html保留为默认目录，如果客户端请求没有匹配任何其他网站。\r\n\r\n按如下所示为example.com创建目录，使用-p标志创建任何必需的父目录：\r\n\r\n``` bash\r\nsudo mkdir -p /var/www/example.com/html\r\n```\r\n\r\n接下来，使用$USER环境变量分配目录的所有权：\r\n\r\n``` bash\r\nsudo chown -R $USER:$USER /var/www/example.com/html\r\n```\r\n\r\n如果您尚未修改unmask值，则Web根目录的权限应该是正确的，但您可以通过键入以下内容来确保：\r\n\r\n``` bash\r\nsudo chmod -R 755 /var/www/example.com\r\n```\r\n\r\n接下来，使用nano或您喜欢的编辑器创建一个示例index.html页面：\r\n\r\n``` bash\r\nnano /var/www/example.com/html/index.html\r\n```\r\n\r\n在里面，添加以下示例HTML：\r\n\r\n``` bash\r\n/var/www/example.com/html/index.html\r\n\u003chtml\u003e\r\n    \u003chead\u003e\r\n        \u003ctitle\u003eWelcome to Example.com!\u003c/title\u003e\r\n    \u003c/head\u003e\r\n    \u003cbody\u003e\r\n        \u003ch1\u003eSuccess!  The example.com server block is working!\u003c/h1\u003e\r\n    \u003c/body\u003e\r\n\u003c/html\u003e\r\n```\r\n\r\n完成后保存并关闭文件。\r\n\r\n为了使Apache能够提供此内容，必须使用正确的指令创建虚拟主机文件。 不要直接修改位于`/etc/apache2/sites-available/000-default.conf`的默认配置文件，而是在`/etc/apache2/sites-available/example.com.conf`创建一个新文件：\r\n\r\n``` bash\r\nsudo nano /etc/apache2/sites-available/example.com.conf\r\n```\r\n\r\n粘贴在以下配置块中，类似于默认配置块，但为我们的新目录和域名更新：\r\n\r\n``` bash\r\nnano /etc/apache2/sites-available/example.com.conf\r\n```\r\n\r\n键入以下内容来\r\n\r\n\r\n``` bash\r\n\u003cVirtualHost *:80\u003e\r\n    ServerAdmin admin@example.com\r\n    ServerName example.com\r\n    ServerAlias www.example.com\r\n    DocumentRoot /var/www/example.com/html\r\n    ErrorLog ${APACHE_LOG_DIR}/error.log\r\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\r\n\u003c/VirtualHost\u003e\r\n```\r\n\r\n请注意，我们已将DocumentRoot更新为新目录，将ServerAdmin更新为example.com站点管理员可以访问的电子邮件。 我们还添加了两个指令： ServerName ，它建立了应该与此虚拟主机定义匹配的基本域; ServerAlias ，它定义了应该匹配的更多名称，就像它们是基本名称一样。\r\n\r\n完成后保存并关闭文件。\r\n\r\n让我们使用a2ensite工具启用该文件：\r\n\r\n``` bash\r\nsudo a2ensite example.com.conf\r\n```\r\n\r\n禁用000-default.conf定义的默认站点：\r\n\r\n``` bash\r\nsudo a2dissite 000-default.conf\r\n```\r\n\r\n接下来，让我们测试一下配置错误：\r\n\r\n``` bash\r\nsudo apache2ctl configtest\r\n```\r\n\r\n您应该看到以下输出：\r\n\r\nSyntax OK\r\n\r\n重启Apache以实现更改：\r\n\r\n``` bash\r\nsudo systemctl restart apache2\r\n```\r\n\r\nApache现在应该为您的域名服务。 您可以通过导航到http:// example.com来测试这一点，您应该在其中看到如下内容：\r\n\r\n# 其它\r\n\r\n* /var/www/html ：实际的Web内容默认只包含您之前看到的默认Apache页面，它是在/var/www/html目录下提供的。 这可以通过更改Apache配置文件来更改。\r\n* /etc/apache2 ：Apache配置目录。 所有Apache配置文件都驻留在此处。\r\n* /etc/apache2/apache2.conf ：主要的Apache配置文件。 可以对其进行修改以更改Apache全局配置。 该文件负责加载配置目录中的许多其他文件。\r\n* /etc/apache2/ports.conf ：此文件指定Apache将监听的端口。 默认情况下，Apache在端口80上监听，并在启用提供SSL功能的模块时另外监听端口443。\r\n* /etc/apache2/sites-available/ ：可以存储每站点虚拟主机的目录。 Apache不会使用此目录中的配置文件，除非它们链接到sites-enabled目录。 通常，所有服务器块配置都在此目录中完成，然后通过使用a2ensite命令链接到其他目录来启用。\r\n* /etc/apache2/sites-enabled/ ：存储已启用的每站点虚拟主机的目录。 通常，这些是通过使用a2ensite链接到sites-available目录中的配置文件来创建的。 Apache在启动或重新加载以编译完整配置时读取此目录中的配置文件和链接。\r\n* /etc/apache2/conf-available/ ， /etc/apache2/conf-enabled/ ：这些目录与sites-available和sites-enabled目录具有相同的关系，但用于存储不属于a的配置片段虚拟主机。 可以使用a2enconf命令启用conf-available目录中的文件，并使用a2enconf命令禁用这些a2disconf 。\r\n* /etc/apache2/mods-available/ ， /etc/apache2/mods-enabled/ ：这些目录分别包含可用和已启用的模块。 以.load结尾的文件包含用于加载特定模块的片段，而以.conf结尾的文件包含这些模块的配置。 可以使用a2enmod和a2dismod命令启用和禁用模块。\r\n* /var/log/apache2/access.log ：默认情况下，除非将Apache配置为执行其他操作，否则对Web服务器的每个请求都将记录在此日志文件中。\r\n* /var/log/apache2/error.log ：默认情况下，所有错误都记录在此文件中。 Apache配置中的LogLevel指令指定错误日志将包含多少详细信息。\r\n\r\n\r\n","cover":"","link":"ubuntu-debian-apache2-php-vhost-sites.html","preview":"","title":"Ubuntu_Debian配置Apache2_PHP配置站点"},{"content":"\r\n\r\napt-get默认安装的nginx为1.10，如果嫌太老了可以修改安装源的方式来获得更新的版本；\r\n\r\n一、添加Nginx源\r\n新建一个nginx.list文件\r\n\r\n``` bash\r\nvi /etc/apt/sources.list.d/nginx.list\r\n```\r\n\r\n加入以下内容：\r\n\r\n``` bash\r\ndeb http://nginx.org/packages/mainline/debian/ stretch nginx\r\ndeb-src http://nginx.org/packages/mainline/debian/ stretch nginx\r\n```\r\n\r\n下面这个我也不晓得干什么的，反正老外是这样写的\r\n\r\n``` bash\r\nwget -qO - http://nginx.org/keys/nginx_signing.key | apt-key add -\r\n```\r\n\r\n更新一下让源生效\r\n\r\n``` bash\r\napt update\r\n```\r\n\r\n二、安装更新版本nginx\r\n\r\n如果之前用apt命令安装了旧版本nginx,需要卸载掉才行\r\n\r\n``` bash\r\napt remove nginx-common\r\n```\r\n\r\n正式开始安装\r\n\r\n``` bash\r\napt install nginx\r\n```\r\n\r\n安装完成查看版本:\r\n\r\n``` bash\r\nnginx -v\r\n```\r\n\r\n会列出`Nginx` `OpenSSL`相关配置文件路径...\r\n\r\n查看nginx进程\r\n\r\n``` bash\r\nps aux | grep nginx\r\npgrep nginx\r\n```\r\n\r\n\r\n安装好的文件位置：\r\n\r\n``` bash\r\n/usr/sbin/nginx  #主程序\r\n/etc/nginx  #存放配置文件\r\n/usr/share/nginx  #存放静态文件\r\n/var/log/nginx  #存放日志\r\n/etc/nginx/nginx.conf  #默认nginx配置文件\r\n```\r\n\r\nNginx控制命令：\r\n\r\n``` bash\r\n###启动\r\nsystemctl enable nginx\r\n###重启\r\nsystemctl restart nginx\r\n###停止\r\nsystemctl stop nginx\r\n###也可以使用\r\n/etc/init.d/nginx start # 启动Nginx服务\r\n/etc/init.d/nginx stop # 停止Nginx服务\r\n/etc/init.d/nginx  restart # 重启Nginx服务\r\n```\r\n\r\n# 增加 Nginx 虚拟主机\r\n\r\n检查`/etc/nginx/nginx.conf`配置文件，确保文件中有：`include /etc/nginx/conf.d/*.conf;` 默认已经有了的。\r\n\r\n然后在目录`/etc/nginx/conf.d/`下面新建文件`site1.conf`，`site2.conf`...文件名任意写，自己看明白就OK  \r\n\r\nNginx配置支持PHP\r\n\r\n``` bash\r\nlocation ~ \\.php$ {\r\nfastcgi_pass 127.0.0.1:9000;\r\nfastcgi_index index.php;\r\nfastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\r\ninclude fastcgi_params;\r\n}\r\n```    \r\n\r\n或者\r\n\r\n``` bash\r\nlocation ~ \\.php$ {\r\nfastcgi_pass unix:/run/php/php7.2-fpm.sock;\r\nfastcgi_index index.php;\r\nfastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\r\ninclude fastcgi_params;\r\n}\r\n```\r\n\r\n又或者\r\n\r\n``` bash\r\nlocation ~ \\.php$ {\r\ninclude snippets/fastcgi-php.conf;\r\nfastcgi_pass unix:/run/php/php7.2-fpm.sock;\r\n}\r\n```\r\n\r\n\r\n# 解决Nginx php-fpm配置有误引起的502错误\r\n\r\n针对该问题的解决方案是，修改`/etc/nginx/conf/vhosts`下的conf文件，\r\n\r\n将`fastcgi_pass 127.0.0.1:9000;`修改为`fastcgi_pass unix:/run/php/php7.0-fpm.sock;`\r\n\r\n重启Nginx服务后，WEB访问依然报错502，继续定位分析。\r\n\r\n在nginx error_log日志`/var/log/nginx/error.log`中出现了以下新的报错内容：\r\n\r\n``` bash\r\n2017/07/29 11:24:47 [crit] 6114#0: *1 connect() to unix:/run/php/php7.2-fpm.sock failed (13: Permission denied) while connecting to upstream, client: 183.14.134.xx, server: 112.74.89.xx, request: “GET / HTTP/1.1”, upstream: “fastcgi://unix:/run/php/php7.2-fpm.sock:”, host: “112.74.89.xx”\r\n```\r\n\r\n\r\n编辑文件`/etc/php/7.2/fpm/pool.d/www.conf`找到\r\n\r\n``` bash\r\nlisten.owner = www-data\r\nlisten.group = www-data\r\n;listen.mode = 0660\r\n```\r\n\r\n修改为\r\n\r\n``` bash\r\n;listen.owner = www-data\r\n;listen.group = www-data\r\nlisten.mode = 0666\r\n```\r\n\r\n重启下Nginx和php\r\n\r\n``` bash\r\nsystemctl restart nginx\r\nsystemctl restart php7.2-fpm\r\n```\r\n","cover":"","link":"debian-ubuntu-install-new-nginx.html","preview":"","title":"Debian9安装最新版Nginx"},{"content":"\r\n\r\n### 获取 Certbot 客户端\r\n\r\n``` bash\r\nwget https://dl.eff.org/certbot-auto\r\nchmod a+x ./certbot-auto\r\n./certbot-auto --help\r\n```\r\n\r\n\r\n### 配置 nginx 、验证域名所有权\r\n\r\n在虚拟主机配置文件（ /etc/nginx/conf.d/xxx.com.conf ）中添加如下内容，这一步是为了通过 Let’s Encrypt 的验证，验证 linuxstory.org 这个域名是属于我的管理之下。（具体解释可见下一章“一些补充说明”的“ certbot 的两种工作方式”）\r\n\r\n``` bash\r\nlocation ^~ /.well-known/acme-challenge/ {\r\n   default_type \"text/plain\";\r\n   root     /home/wwwroot/xxx.com/;\r\n}\r\n\r\nlocation = /.well-known/acme-challenge/ {\r\n   return 404;\r\n}\r\n```\r\n\r\n`/home/wwwroot/xxx.com/`是站点根目录路径\r\n`xxx.com`替换成自己的域名\r\n\r\n\r\n3、重载 nginx\r\n\r\n\r\n``` bash\r\nsystemctl restart nginx\r\n```\r\n\r\n4、生成证书\r\n\r\n``` bash\r\n./certbot-auto certonly --webroot -w /home/wwwroot/xxx.com/ -d  xxx.com\r\n```\r\n\r\n证书生成成功后，会有 Congratulations 的提示，并告诉我们证书放在 /etc/letsencrypt/live 这个位置\r\n\r\n``` bash\r\n/etc/letsencrypt/live/xxx.com/fullchain.pem\r\n/etc/letsencrypt/live/xxx.com/privkey.pem\r\n```\r\n\r\n配置 Nginx修改`/etc/nginx/conf.d/xxx.com.conf`使用 SSL 证书\r\n\r\n``` bash\r\nssl_certificate      /etc/letsencrypt/live/xxx.com/fullchain.pem;\r\nssl_certificate_key  /etc/letsencrypt/live/xxx.com/privkey.pem;\r\n```\r\n\r\n配置所有http自动跳转到https\r\n\r\n``` bash\r\nserver {\r\n    listen 80;\r\n    server_name xxx.com;\r\n    return 301 https://$server_name$request_uri;\r\n}\r\n```\r\n\r\n重载 nginx\r\n\r\n\r\n``` bash\r\nsystemctl restart nginx\r\n```\r\n\r\n### 后续工作\r\n\r\n出于安全策略， Let’s Encrypt 签发的证书有效期只有 90 天，所以需要每隔三个月就要更新一次安全证书，虽然有点麻烦，但是为了网络安全，这是值得的也是应该的。好在 Certbot 也提供了很方便的更新方法。\r\n\r\n测试`Certbot`进行更新\r\n\r\n``` bash\r\n./certbot-auto renew --dry-run\r\n```\r\n\r\n如果出现类似的结果，就说明测试成功了（总之有 Congratulations 的字眼）\r\n\r\n``` bash\r\nCongratulations, all renewals succeeded. The following certs have been renewed:  \r\n   /etc/letsencrypt/live/linuxstory.org/fullchain.pem (success)\r\n** DRY RUN: simulating 'certbot renew' close to cert expiry\r\n** (The test certificates above have not been saved.)\r\n```\r\n\r\n设置定时任务\r\n\r\n出于安全策略， Let’s Encrypt 签发的证书有效期只有 90 天。通过 ./certbot-auto renew 命令可以续签。 编辑 crontab 文件：\r\n\r\n``` bash\r\ncrontab -e\r\n```\r\n\r\n添加 certbot 命令： \r\n\r\n在每天凌晨3点运行。该命令将检查服务器上的证书是否将在未来30天内过期，如果是，则进行更新。--quiet 指令告诉 certbot 不要生成输出。\r\n\r\n``` bash\r\n0 3 * * * /root/letsencrypt/certbot-auto renew --quiet\r\n```\r\n\r\n手动更新的方法\r\n\r\n``` bash\r\n./certbot-auto renew -v\r\n```\r\n\r\n自动更新的方法\r\n\r\n``` bash\r\n./certbot-auto renew --quiet --no-self-upgrade\r\n```\r\n\r\n完整的配置示范\r\n\r\n``` bash\r\nserver {\r\n    listen       80;\r\n    server_name  xxx.com;\r\n    return 301 https://$server_name$request_uri;\r\n}\r\nserver {\r\n    listen       443;\r\n    server_name  xxx.com;\r\n    root         /usr/share/nginx/test;\r\n    location / {\r\n\tindex  index.php index.html index.htm;\r\n    }\r\n\t\r\n\t# php\r\n\tlocation ~ \\.php$ {\r\n\tfastcgi_pass unix:/run/php/php7.2-fpm.sock;\r\n\tfastcgi_index index.php;\r\n\tfastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\r\n\tinclude fastcgi_params;\r\n\t}\r\n\t\r\n\t# Certbot\r\n\tlocation ^~ /.well-known/acme-challenge/ {\r\n\tdefault_type \"text/plain\";\r\n\troot   /usr/share/nginx/test/;\r\n\t}\r\n\tlocation = /.well-known/acme-challenge/ {\r\n\treturn 404;\r\n\t}\r\n\r\n\t# ssl\r\n    ssl on;\r\n    ssl_certificate    /etc/letsencrypt/live/xxx.com/fullchain.pem;\r\n    ssl_certificate_key    /etc/letsencrypt/live/xxx.com/privkey.pem;\r\n    #include /etc/letsencrypt/options-ssl-nginx.conf;\r\n    #ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;\r\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3;\r\n    #ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;\t\r\n\r\n}\r\n```\r\n\r\n\r\n# certbot泛域名证书\r\n\r\n申请命令：\r\n\r\n``` bash\r\ncertbot certonly -d *.xxx.com --manual --preferred-challenges dns --server https://acme-v02.api.letsencrypt.org/directory\r\n```\r\n\r\n`--manual`交互式获取，`--preferred-challenges dns`使用DNS验证的方式（泛域名只能使用DNS验证），`--server`指明支持acme-v02的Server地址，默认是acme-v01的地址。\r\n\r\n\r\n按照要求输入邮箱，同意协议，当看到下面信息：\r\n\r\n``` bash \r\n------------------------------------------------------------\r\nPlease deploy a DNS TXT record under the name\r\n_acme-challenge.xxx.com with the following value:\r\n\r\nJHkwGFgXq3OgedI-4RU1X0EcFUz7cxIPN7r1Qyw5JTw\r\n\r\nBefore continuing, verify the record is deployed.\r\n------------------------------------------------------------\r\nPress Enter to Continue\r\n```\r\n\r\n暂停操作，配置域名解析，添加一条TXT类型的解析：\r\n\r\n纪录：`_acme-challenge.xxx.com` 结果：`JHkwGFgXq3OgedI-4RU1X0EcFUz7cxIPN7r1Qyw5JTw`\r\n\r\n等待3-5分钟，使用以下命令检查解析是否设置成功：\r\n\r\n``` bash\r\ndig -t txt _acme-challenge.xxx.com @8.8.8.8\r\n```\r\n\r\n域名解析结果正确，再回到certbot申请的流程中敲回车，成功后，certbot会提示证书和私钥的路径，接着在nginx中配置并重启即可\r\n\r\n\r\n问题一： `certbot`升级完成后，运行certbot进行泛域名申请时，提示缺少库文件：\r\n\r\nNo module named 'requests.packages.urllib3'\r\n\r\n通过以下命令安装依赖：\r\n\r\n``` bash\r\npip install requests urllib3 pyOpenSSL --force --upgrade\r\n```\r\n\r\n问题二： 再次运行时，继续提示错误：\r\n\r\nImportError: 'pyOpenSSL' module missing required functionality. Try upgrading to v0.14 or newer.\r\n\r\n\r\n通过以下命令修复：\r\n\r\n``` bash\r\npip install --upgrade --force-reinstall 'requests==2.6.0'\r\n```\r\n\r\n注意\r\n\r\n申请的泛域名证书*.xxx.com并不能用在xxx.com，所以服务器还是需要两个证书。\r\n\r\n","cover":"","link":"debian-ubuntu-nginx-certbot-let’s-encrypt-ssl.html","preview":"","title":"Nginx使用官方工具 Certbot 配置申请 Let’s Encrypt SSL 安全证书详细教程"},{"content":"\r\n\r\n[Github](https://github.com/ToyoDAdoubi)  [Telegram](https://t.me/Toyo233)  (https://doub.io)\r\n账号分别都删库清空删号了\r\n![](/images/Toyo233-Telegram.jpg)\r\nfork to (https://github.com/doubi)\r\n\r\n## 逗比根据地的镜像站:\r\n* https://doubmirror.cf\r\n* https://doub.doubmirror.ga\r\n* https://doubibackup.com\r\n* https://doubmirror.ml\r\n* https://sutmirror.cf\r\n\r\n## 代理相关\r\n\r\n### ss_go.sh\r\n\r\n- 脚本说明: Shadowsocks 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/ss-jc67/\r\n- 项目地址: https://github.com/shadowsocks/go-shadowsocks2\r\n\r\n脚本特点:\r\n目前网上的各个Shadowsocks脚本基本都是只有 安装/启动/重启 等基础功能，对于小白来说还是不够简单方便。既然是一键脚本，那么就要尽可能地简单，小白更容易接受使用！\r\n\r\n下载安装:\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/ss-go.sh \u0026\u0026 chmod +x ss-go.sh \u0026\u0026 bash ss-go.sh\r\n```\r\n\r\n\r\n\r\n---\r\n### ssr.sh\r\n\r\n- 脚本说明: ShadowsocksR 一键安装管理脚本，支持单端口/多端口切换和管理\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/ss-jc42/\r\n- 项目地址: https://github.com/ToyoDAdoubi/shadowsocksr\r\n\r\n脚本特点:\r\n目前网上的各个ShadowsocksR脚本基本都是只有 安装/启动/重启 等基础功能，对于小白来说还是不够简单方便。既然是一键脚本，那么就要尽可能地简单，小白更容易接受使用！\r\n\r\n- 支持 限制 用户速度\r\n- 支持 限制 端口设备数\r\n- 支持 显示 当前连接IP\r\n- 支持 显示 SS/SSR连接+二维码\r\n- 支持 切换管理 单/多端口\r\n- 支持 一键安装 锐速\r\n- 支持 一键安装 BBR\r\n- 支持 一键封禁 垃圾邮件(SMAP)/BT/PT\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/ssr.sh \u0026\u0026 chmod +x ssr.sh \u0026\u0026 bash ssr.sh\r\n```\r\n\r\n### ssrmu.sh\r\n\r\n- 脚本说明: ShadowsocksR 一键安装管理脚本，支持流量控制\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/ss-jc60/\r\n- 项目地址: https://github.com/ToyoDAdoubi/shadowsocksr\r\n\r\n脚本特点:\r\n目前网上的各个ShadowsocksR脚本基本都是只有 安装/启动/重启 等基础功能，对于小白来说还是不够简单方便。既然是一键脚本，那么就要尽可能地简单，小白更容易接受使用！\r\n\r\n- 支持 限制 用户速度\r\n- 支持 限制 用户设备数\r\n- 支持 限制 用户总流量\r\n- 支持 定时 流量清零\r\n- 支持 显示 当前连接IP\r\n- 支持 显示 SS/SSR连接+二维码\r\n- 支持 一键安装 锐速\r\n- 支持 一键安装 BBR\r\n- 支持 一键封禁 垃圾邮件(SMAP)/BT/PT\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/ssrmu.sh \u0026\u0026 chmod +x ssrmu.sh \u0026\u0026 bash ssrmu.sh\r\n```\r\n\r\n### brook.sh\r\n\r\n- 脚本说明: Brook 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian7+ / Ubuntu14+\r\n- 使用方法: https://doub.io/brook-jc3/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/brook.sh \u0026\u0026 chmod +x brook.sh \u0026\u0026 bash brook.sh\r\n```\r\n\r\n### goflyway.sh\r\n\r\n- 脚本说明: GoFlyway 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian7+ / Ubuntu14+\r\n- 使用方法: https://doub.io/goflyway-jc2/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/goflyway.sh \u0026\u0026 chmod +x goflyway.sh \u0026\u0026 bash goflyway.sh\r\n```\r\n\r\n### lightsocks.sh\r\n\r\n- 脚本说明: LightSocks 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian7+ / Ubuntu14+\r\n- 使用方法: https://doub.io/lightsocks-jc1/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/lightsocks.sh \u0026\u0026 chmod +x lightsocks.sh \u0026\u0026 bash lightsocks.sh\r\n```\r\n\r\n### daze.sh\r\n\r\n- 脚本说明: DAZE 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian7+ / Ubuntu14+\r\n- 使用方法: https://doub.io/daze-jc3/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/daze.sh \u0026\u0026 chmod +x daze.sh \u0026\u0026 bash daze.sh\r\n```\r\n### mtproxy.sh\r\n\r\n- 脚本说明: Mtproto Proxy 一键安装管理脚本\r\n- 系统支持: CentOS7 / Debian7+ / Ubuntu14+\r\n- 使用方法: https://doub.io/shell-jc7/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/mtproxy.sh \u0026\u0026 chmod +x mtproxy.sh \u0026\u0026 bash mtproxy.sh\r\n```\r\n\r\n### mtproxy_go.sh\r\n\r\n- 脚本说明: Mtproto Proxy Go版 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian7+ / Ubuntu14+\r\n- 使用方法: https://doub.io/shell-jc9/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/mtproxy_go.sh \u0026\u0026 chmod +x mtproxy_go.sh \u0026\u0026 bash mtproxy_go.sh\r\n```\r\n\r\n## 中转相关\r\n\r\n### iptables-pf.sh\r\n\r\n- 脚本说明: iptables 端口转发 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/wlzy-20/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/iptables-pf.sh \u0026\u0026 chmod +x iptables-pf.sh \u0026\u0026 bash iptables-pf.sh\r\n```\r\n\r\n### brook-pf.sh\r\n\r\n- 脚本说明: Brook 端口转发 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/wlzy-37/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/brook-pf.sh \u0026\u0026 chmod +x brook-pf.sh \u0026\u0026 bash brook-pf.sh\r\n```\r\n\r\n### haproxy.sh\r\n\r\n- 脚本说明: HaProxy 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/wlzy-19/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/haproxy.sh \u0026\u0026 chmod +x haproxy.sh \u0026\u0026 bash haproxy.sh\r\n```\r\n\r\n### socat.sh\r\n\r\n- 脚本说明: Socat 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/wlzy-18/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/socat.sh \u0026\u0026 chmod +x socat.sh \u0026\u0026 bash socat.sh\r\n```\r\n\r\n### tinymapper.sh\r\n\r\n- 脚本说明: tinyPortMapper 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/wlzy-36/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/tinymapper.sh \u0026\u0026 chmod +x tinymapper.sh \u0026\u0026 bash tinymapper.sh\r\n```\r\n\r\n## BT下载相关\r\n\r\n### aria2.sh\r\n\r\n- 脚本说明: Aria2 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/shell-jc4/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/aria2.sh \u0026\u0026 chmod +x aria2.sh \u0026\u0026 bash aria2.sh\r\n```\r\n\r\n### cloudt.sh\r\n\r\n- 脚本说明: Cloud Torrent 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/wlzy-12/\r\n- 项目地址: https://github.com/jpillora/cloud-torrent\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/cloudt.sh \u0026\u0026 chmod +x cloudt.sh \u0026\u0026 bash cloudt.sh\r\n```\r\n\r\n### pserver.sh\r\n\r\n- 脚本说明: Peerflix Server 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/wlzy-13/\r\n- 项目地址: https://github.com/asapach/peerflix-server\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/pserver.sh \u0026\u0026 chmod +x pserver.sh \u0026\u0026 bash pserver.sh\r\n```\r\n\r\n## 服务器相关\r\n\r\n### bbr.sh\r\n\r\n- 脚本说明: BBR 一键安装管理脚本\r\n- 系统支持: Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/wlzy-16/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/bbr.sh \u0026\u0026 chmod +x bbr.sh \u0026\u0026 bash bbr.sh\r\n```\r\n\r\n### status.sh\r\n\r\n- 脚本说明: ServerStatus 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/shell-jc3/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/status.sh \u0026\u0026 chmod +x status.sh \u0026\u0026 bash status.sh\r\n```\r\n\r\n### ban_iptables.sh\r\n\r\n- 脚本说明: iptables 垃圾邮件(SPAM)/BT/PT 一键封禁脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/shell-jc2/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/ban_iptables.sh \u0026\u0026 chmod +x ban_iptables.sh \u0026\u0026 bash ban_iptables.sh\r\n```\r\n\r\n### ssh_port.sh\r\n\r\n- 脚本说明: SSH 一键修改端口脚本\r\n- 系统支持: Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/linux-jc11/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/ssh_port.sh \u0026\u0026 chmod +x ssh_port.sh \u0026\u0026 bash ssh_port.sh\r\n```\r\n\r\n## VPN相关\r\n\r\n### ocserv.sh\r\n\r\n- 脚本说明: Ocserv AnyConnect 一键安装管理脚本\r\n- 系统支持: Debian7+ / Ubuntu14+\r\n- 使用方法: https://doub.io/vpnzy-7/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/ocserv.sh \u0026\u0026 chmod +x ocserv.sh \u0026\u0026 bash ocserv.sh\r\n```\r\n\r\n## DNS相关\r\n\r\n### dowsdns.sh\r\n\r\n- 脚本说明: DowsDNS 一键安装管理脚本\r\n- 系统支持: CentOS7 / Debian7+ / Ubuntu14+\r\n- 使用方法: https://doub.io/dowsdns-jc3/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/dowsdns.sh \u0026\u0026 chmod +x dowsdns.sh \u0026\u0026 bash dowsdns.sh\r\n```\r\n\r\n## HTTP相关\r\n\r\n### caddy_install.sh\r\n\r\n- 脚本说明: Caddy 一键安装脚本\r\n- 系统支持: CentOS6+ / Debian7+ / Ubuntu14+\r\n- 使用方法: https://doub.io/shell-jc1\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/caddy_install.sh \u0026\u0026 chmod +x caddy_install.sh \u0026\u0026 bash caddy_install.sh\r\n```\r\n\r\n插件和Caddy是集成在一起的(单个二进制文件)，多个插件必须同时安装。\r\n例如同时安装 http.filemanager 和 http.webdav插件：\r\n``` bash\r\nbash caddy_install.sh http.filemanager,http.webdav\r\n```\r\n卸载命令：\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/caddy_install.sh \u0026\u0026 chmod +x caddy_install.sh \u0026\u0026 caddy_install.sh uninstall\r\n```\r\n\r\n### pythonhttp.sh\r\n\r\n- 脚本说明: SimpleHTTPServer 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/wlzy-8/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/pythonhttp.sh \u0026\u0026 chmod +x pythonhttp.sh \u0026\u0026 bash pythonhttp.sh\r\n```\r\n\r\n## 其他\r\n\r\n### adbyby.sh\r\n\r\n- 脚本说明: ADbyby 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/adbyby-jc2/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/adbyby.sh \u0026\u0026 chmod +x adbyby.sh \u0026\u0026 bash adbyby.sh\r\n```\r\n\r\n### gfw_push.sh\r\n\r\n- 脚本说明: 监测服务器IP是否被墙并推送至 Telegram 一键脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/shell-jc8/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/gfw_push.sh \u0026\u0026 chmod +x gfw_push.sh \u0026\u0026 bash gfw_push.sh\r\n```\r\n\r\n### libsodium.sh\r\n\r\n- 脚本说明: libsodium 一键安装管理脚本\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/shell-jc6/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/libsodium.sh \u0026\u0026 chmod +x libsodium.sh \u0026\u0026 bash libsodium.sh\r\n```\r\n\r\n### ssr_check.sh\r\n\r\n- 脚本说明: ShadowsocksR 批量快速验证账号可用性\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/ss-jc56/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/ssr_check.sh \u0026\u0026 chmod +x ssr_check.sh\r\n```\r\n\r\n### ssrstatus.sh\r\n\r\n- 脚本说明: ShadowsocksR 账号在线监控网站\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/shell-jc5/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/ssrstatus.sh \u0026\u0026 chmod +x ssrstatus.sh \u0026\u0026 bash ssrstatus\r\n```\r\n\r\n### ssr_ip_check.sh\r\n\r\n- 脚本说明: ShadowsocksR 检测每个端口链接IP数\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/ss-jc50/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/ssr_ip_check.sh \u0026\u0026 chmod +x ssr_ip_check.sh\r\n```\r\n\r\n### ~~pipes.sh~~\r\n\r\n- 脚本说明: PipeSocks 一键安装管理脚本（该软件已停更）\r\n- 系统支持: CentOS7 / Debian7+ / Ubuntu14+\r\n- 使用方法: https://doub.io/pipesocks-jc2/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/pipesocks/install/master/install.sh \u0026\u0026 mv install.sh pipes.sh \u0026\u0026 chmod +x pipes.sh \u0026\u0026 bash pipes.sh\r\n```\r\n\r\n### ~~gogo.sh~~\r\n\r\n- 脚本说明: GoGo Tunnel 一键安装管理脚本（该软件已停更）\r\n- 系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n- 使用方法: https://doub.io/wlzy-24/\r\n\r\n下载安装:\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/gogo.sh \u0026\u0026 chmod +x gogo.sh \u0026\u0026 bash gogo.sh\r\n```\r\n\r\n### wireguard_install_centos7\r\n\r\n- 脚本说明: wireguard_install_centos7\r\n- 系统支持: CentOS7不支持OVZ\r\n- 使用方法: https://www.atrandys.com/2018/886.html\r\n\r\n下载安装:\r\n\r\n``` bash\r\nyum install -y wget \u0026\u0026 wget https://raw.githubusercontent.com/yobabyshark/wireguard/master/wireguard_install.sh \u0026\u0026 chmod +x wireguard_install.sh \u0026\u0026 ./wireguard_install.sh\r\n```\r\n\r\nfork版本\r\n\r\n``` bash\r\nyum install -y wget \u0026\u0026 wget https://raw.githubusercontent.com/ojbk8/doubi/master/wireguard_install_centos7.sh \u0026\u0026 chmod +x wireguard_install_centos7.sh \u0026\u0026 ./wireguard_install_centos7.sh\r\n```\r\n使用xftp等ftp工具连接vps，进入/etc/wireguard/目录，然后将client.conf下载到本地电脑\r\n\r\n### LotServer.sh\r\n\r\n安装LotServer\r\n\r\n``` bash\r\nwget --no-check-certificate -qO /tmp/appex.sh \"https://raw.githubusercontent.com/0oVicero0/serverSpeeder_Install/master/appex.sh\" \u0026\u0026 bash /tmp/appex.sh 'install'\r\n```\r\n\r\n卸载LotServer\r\n\r\n``` bash\r\nwget --no-check-certificate -qO /tmp/appex.sh \"https://raw.githubusercontent.com/0oVicero0/serverSpeeder_Install/master/appex.sh\" \u0026\u0026 bash /tmp/appex.sh 'uninstall'\r\n```\r\n\r\n其它配置\r\n\r\n``` bash\r\n/appex/bin/serverSpeeder.sh start\r\n/appex/bin/serverSpeeder.sh stop\r\n/appex/bin/serverSpeeder.sh restart\r\n/appex/bin/serverSpeeder.sh status\r\n/appex/bin/serverSpeeder.sh renewLic\r\n```\r\n","cover":"","link":"toyodadoubi-ssh.html","preview":"\u003cp\u003e\u003ca href=\"https://github.com/ToyoDAdoubi\"\u003eGithub\u003c/a\u003e  \u003ca href=\"https://t.me/Toyo233\"\u003eTelegram\u003c/a\u003e  (\u003ca href=\"https://doub.io\"\u003ehttps://doub.io\u003c/a\u003e)\n账号分别都删库清空删号了\n\u003cimg src=\"data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nd3d4aGhri4uGlpaQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkHAAAAIf4aQ3JlYXRlZCB3aXRoIGFqYXhsb2FkLmluZm8AIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOw==\" data-src=\"/images/Toyo233-Telegram.jpg\" alt=\"\" /\u003e\nfork to (\u003ca href=\"https://github.com/doubi\"\u003ehttps://github.com/doubi\u003c/a\u003e)\u003c/p\u003e\n\n\u003ch2\u003e逗比根据地的镜像站:\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://doubmirror.cf\"\u003ehttps://doubmirror.cf\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://doub.doubmirror.ga\"\u003ehttps://doub.doubmirror.ga\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://doubibackup.com\"\u003ehttps://doubibackup.com\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://doubmirror.ml\"\u003ehttps://doubmirror.ml\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://sutmirror.cf\"\u003ehttps://sutmirror.cf\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e代理相关\u003c/h2\u003e\n\n\u003ch3\u003ess_go.sh\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e脚本说明: Shadowsocks 一键安装管理脚本\u003c/li\u003e\n\u003cli\u003e系统支持: CentOS6+ / Debian6+ / Ubuntu14+\u003c/li\u003e\n\u003cli\u003e使用方法: \u003ca href=\"https://doub.io/ss-jc67/\"\u003ehttps://doub.io/ss-jc67/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e项目地址: \u003ca href=\"https://github.com/shadowsocks/go-shadowsocks2\"\u003ehttps://github.com/shadowsocks/go-shadowsocks2\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e脚本特点:\n目前网上的各个Shadowsocks脚本基本都是只有 安装/启动/重启 等基础功能，对于小白来说还是不够简单方便。既然是一键脚本，那么就要尽可能地简单，小白更容易接受使用！\u003c/p\u003e\n\n\u003cp\u003e下载安装:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003ewget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/ss-go.sh \u0026amp;\u0026amp; chmod +x ss-go.sh \u0026amp;\u0026amp; bash ss-go.sh\n\u003c/code\u003e\u003c/pre\u003e\n","title":"一个逗比写的逗比脚本"},{"content":"\r\n\r\n\r\n为什么要配置虚拟机环境\r\n出差时，比如udp2raw等个别软件只能在LINUX环境才能使用，而在WIN环境下就没法例用它。\r\n\r\n\r\n### 所需要的软件\r\n\r\n* [VMware Workstation 15 Pro](https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html) 注册码SN:`ZY1MK-4UD80-M81VY-RZYNX-Z22X2`\r\n* [StarWind V2V Converter](https://www.starwindsoftware.com/starwind-v2v-converter) \r\n* [KoolShare 固件](http://firmware.koolshare.cn/LEDE_X64_fw867)  *选择普通的就行，不一定非要虚拟机转盘或PE下写盘专用*\r\n\r\n### 使用StarWind V2V-Image Converter转换格式\r\n\r\n`Image format`选择`Vmware growable image`\r\n\r\n![](/images/StarWind V2V-Image Converter-1.png)\r\n\r\n![](/images/StarWind V2V-Image Converter-2.png)\r\n\r\n\r\n### 配置VMware Workstation\r\n开始新建虚拟机，选择`稍后安装操作系统`\r\n\r\n![](/images/openwrt-lede-VMware-Workstation-1.png)\r\n\r\n客户机操作系统选择`Linx`版本`其它Linx 4.X或更高版本内核64位` \r\n\r\n![](/images/openwrt-lede-VMware-Workstation-2.png)\r\n\r\n![](/images/openwrt-lede-VMware-Workstation-3.png)\r\n\r\n一路默认完成创建,`编辑虚拟机设置`\r\n删除打印机(可选)，删除原有的硬盘，然后添加硬盘`使用现有虚拟磁盘` 找到刚才转换好的后缀为.vmdk格式的并使用它。\r\n\r\n\r\n![](/images/openwrt-lede-VMware-Workstation-4.png)\r\n\r\n![](/images/openwrt-lede-VMware-Workstation-5.png)\r\n\r\n`网络适配器`中的`网络连接`选择`桥接模式(B):直接连接物理网络`\r\n\r\n![](/images/openwrt-lede-VMware-Workstation-6.png)\r\n\r\n### 配置LEDE软路由\r\n\r\n配置网络 \r\n``` bash\r\nvi /etc/config/network\r\n```\r\n\r\n这里有2种联网方式\r\n\r\n#### 通过上级路由器拨号上网\r\n\r\n上级路由器已经设置好了拨号上网。\r\n假设宿主机路由器的网关为10.10.10.1\r\n![](/images/openwrt-lede-VMware-Workstation-7.png)\r\n此时可以删除WAN口(可选)，也可以保留。\r\n![](/images/openwrt-lede-VMware-Workstation-8.png)\r\n上图中上级拨号路由器的IP地址为`10.10.10.1`虚拟机软路由器的IP地址为`10.10.10.11` 按实际IP修改\r\n\r\n1. `IPV4 网关`务必一定要设置成上级路由器的IP地址\r\n2. `IPV4 地址`必须要跟上级路由器在同一个网段内\r\n3. `DNS`可以设置成公共DNS，也可以使用运营商的。\r\n\r\n联网后去`酪软中心`安装`科学上网`插件并配置好以后\r\n其它设置，包括本机电脑的只要网关设置成`10.10.10.11`就能享受国际互联网了。\r\n\r\n#### 在虚拟机路由器里拨号上网\r\n\r\n待完善中... ...\r\n","cover":"","link":"router-on-a-stick-vmwareworkstation-openwrt-lede.html","preview":"","title":"VMwareWorkstation单臂路由配置安装openwrt(LEDE)单网卡国际互联网"},{"content":"\r\n\r\n\r\n登陆后依次进入`系统`,`进阶设置`,`配置dnsmasq`\r\n或者在`/etc/dnsmasq.conf`添加以下内容\r\n\r\n### 屏蔽腾讯的方法\r\n``` bash\r\naddress=/qq.com/127.0.0.1\r\naddress=/tencent.com/127.0.0.1\r\naddress=/qcloud.com/127.0.0.1\r\naddress=/gtimg.com/127.0.0.1\r\naddress=/gtimg.cn/127.0.0.1\r\naddress=/qpic.cn/127.0.0.1\r\naddress=/qlogo.cn/127.0.0.1\r\naddress=/url.cn/127.0.0.1\r\n```\r\n\r\n### 屏蔽360腾讯的方法\r\n``` bash\r\naddress=/360.cn/127.0.0.1\r\naddress=/360.com/127.0.0.1\r\naddress=/so.com/127.0.0.1\r\naddress=/i360mall.com/127.0.0.1\r\naddress=/360shouji.com/127.0.0.1\r\naddress=/360.net/127.0.0.1\r\naddress=/360totalsecurity.com/127.0.0.1\r\n```\r\n\r\n\r\nPS **抓包网址还不够全面，且对UDP流量不起作用**  欢迎留言补充\r\n","cover":"","link":"koolshare-shield-tencent-360.html","preview":"","title":"Koolshare-openwrt-lede屏蔽360腾讯的方法"},{"content":"\n\n测试系统：ubuntu18.04 lts x64\n\n#### 如何编译自己需要的OpenWrt固件\n\nLean大雕的地址： https://github.com/coolsnowwolf/lede\n\n注意：\n\n1. 不要用 root 用户 git 和编译！！！\n2. 国内用户编译前最好准备好梯子\n3. 默认登陆IP 192.168.1.1, 密码 password\n\n编译命令如下:\n\n首先装好 Ubuntu 64bit，推荐  Ubuntu  14 LTS x64\n\n桌面版本的按`CTRL+ALT+T`进入终端，更新软件列表，下载安装更新。命令行输入 \n\n``` bash\nsudo apt-get update\n```\n\n安装基础环境(占用2GB左右的磁盘)\n\n``` bash\nsudo apt-get -y install build-essential asciidoc binutils bzip2 gawk gettext git libncurses5-dev libz-dev patch unzip zlib1g-dev lib32gcc1 libc6-dev-i386 subversion flex uglifyjs git-core gcc-multilib p7zip p7zip-full msmtp libssl-dev texinfo libglib2.0-dev xmlto qemu-utils upx libelf-dev autoconf automake libtool autopoint\n```\n\n下载源代码，建立工作目录，进入工作目录\n\n``` bash\ngit clone https://github.com/coolsnowwolf/lede\ncd lede\n```\n\n更新软件包,测试编译环境\n\n``` bash\n./scripts/feeds update -a\n./scripts/feeds install -a\n```\n\n配置固件菜单\n\n``` bash\nmake menuconfig\n```\n\n\n最后选好你要的路由，输入\n\n``` bash\nmake -j1 V=s\n```\n\n`-j1`后面是线程数。第一次编译推荐用单线程，国内请尽量全局科学上网,即可开始编译你要的固件了。**以后编译可以选择多线程**，规则如下`n+1`其中`n`代表线程数量，比如你的CPU是双核四线程的话，就是`make -j5 V=s`  `V=s`代表输出全部过程\n\n\n本套代码保证肯定可以编译成功。里面包括了 R9 所有源代码，包括 IPK 的。\n\n以默认的x86软路由为例，不额外增加插件什么的，首次编译占用20GB左右的磁盘空间。添加的功能插件越多占用磁盘空间会越大，编译环境建议50GB+的磁盘大小。\n\n固件保存路径\n\n``` bash\n~/lede/bin/targets/x86/64\n```\n\nIPK路径\n\n``` bash\n~/lede/bin/targets/x86/64/packages\n```\n\n网络下载路径\n\n``` bash\n~/lede/dl\n```\n\n最后芝麻开门代码 \n\n``` bash\necho 0xDEADBEEF \u003e /etc/config/google_fu_mode\n```\n\n---\n\n#### 文本翻译(机翻)\n\n[*]内置[]排除的\u003cM\u003e模块\u003c\u003e支持模块的\n\n1. \u003c*\u003e表示将软件包编译进固件，\n2. \u003cM\u003e表示软件包会被编译，但不会编译进固件。\n\n``` bash\nOpenWrt Configuration【OpenWrt配置】\nArrow keys navigate the menu.  \u003cEnter\u003e selects submenus ---\u003e (or empty submenus ----).  Highlighted letters are hotkeys.  Pressing \u003cY\u003e includes, \u003cN\u003e excludes, \u003cM\u003e modularizes features.  Press \u003cEsc\u003e\u003cEsc\u003e to exit, \u003c?\u003e for Help, \u003c/\u003e for Search.  Legend: [*] built-in  [ ] excluded  \u003cM\u003e module  \u003c \u003e module capable \n\n箭头键浏览菜单。 \u003cEnter\u003e选择子菜单---\u003e（或空子菜单----）。高亮显示的字母是热键。按\u003cY\u003e包含，\u003cN\u003e排除，\u003cM\u003e模块化功能。按下\u003cEsc\u003e \u003cEsc\u003e退出，按下\u003c？\u003e获得帮助，按下\u003c/\u003e获得Search。图例：[*]内置[]排除的\u003cM\u003e模块\u003c\u003e支持模块的x\n\nTarget System (x86)  ---\u003e   目标系统（x86）\nSubtarget (x86_64)  ---\u003e   子目标（x86_64）\nTarget Profile (Generic)  ---\u003e目标配置文件（通用）\nTarget Images  ---\u003e 保存目标镜像的格式\nGlobal build settings  ---\u003e      全局构建设置\nAdvanced configuration options (for developers)  ---- 高级配置选项（适用于开发人员）\nBuild the OpenWrt Image Builder 构建OpenWrt图像生成器\nBuild the OpenWrt SDK构建OpenWrt SDK\nPackage the OpenWrt-based Toolchain打包基于OpenWrt的工具链\nImage configuration  ---\u003e图像配置\nBase system  ---\u003e     基本系统\nAdministration  ---\u003e     管理\nBoot Loaders  ---\u003e引导加载程序\nDevelopment  ---\u003e   开发\nExtra packages  ---\u003e  额外包\nFirmware  ---\u003e固件\nFonts  ---\u003e字体\nKernel modules  ---\u003e  内核模块\nLanguages  ---\u003e语言\nLibraries  ---\u003e  图书馆\nLuCI  ---\u003e      LuCI\nMail  ---\u003e邮件\nMultimedia  ---\u003e多媒体\nNetwork  ---\u003e网络\nSound  ---\u003e 声音\nUtilities  ---\u003e实用程序\nXorg  ---\u003eXorg\n\u003cSelect\u003e 选择   \u003c Exit \u003e 退出   \u003c Help \u003e  帮助  \u003c Save \u003e 保存   \u003c Load \u003e  加载\n```\n\n进入`LuCI` `Applications`选择自己需要的功能插件\n\n如果是物理机软路由的话，建议选择输出UEFI，这样能挂载2TB以上的磁盘，虚拟机就没这个必要了 \n`Target Images`  ` [*] Build EFI GRUB images (Linux x86 or x86_64 host only) `\n\n\n#### 知道github地址怎么编译到固件里面呢\n\n但是如果只知道软件包的github地址怎么编译到固件里面呢？\n\nluci-app-s-s-r-plus今天就拿这个举例子\n\n鉴于L大已删除相关源码，现将自用的ssr源码托管到github\n\ngithub地址：https://github.com/maxlicheng/luci-app-ssr-plus.git\n\n源码特色\n\n1. 免开门\n2. 更新g-f-w列表，共5176条\n3. 更新国内IP段，共8369条\n\n使用方法一\n\n``` bash\n    #源码根目录，进入package文件夹\n    cd package/\n    #创建一个openwrt-packages\n    mkdir openwrt-packages\n    #进入新建的文件夹\n    cd openwrt-packages\n    #下载源码\n    git clone https://github.com/maxlicheng/luci-app-ssr-plus.git\n    #回到源码根目录\n    cd ../..\n    #拉取源码\n    git pull\n```\n\n使用方法二\n\n``` bash\n    #源码根目录，编辑.gitignore文件\n    vi .gitignore\n    #在文件最后一行，加入\n    git rm --cached package/lean/luci-app-ssr-plus/ -r\n    #保存后，进入lean源码目录\n    cd package/lean/\n    #下载源码\n    git clone https://github.com/maxlicheng/luci-app-ssr-plus.git\n    #回到源码根目录\n    cd ../..\n    #拉取源码\n    git pull\n```\n\n注意\n以上两种方法只能选其中一种， 采用任一方法后，ssr就不受git pull影响了。\n\n进入编译配置菜单\n\n``` bash\nmake menuconfig\n```\n\n添加插件应用说明\n\nLuCI -\u003e Applications（进入Applications会看到如下图界面。）\n\n现在就可以看到新添加的软件包了，新添加的软件包后面会显示（New）\n\n---\n\n官方源：\n\n``` bash\ngit clone https://github.com/lede-project/source.git\n```\n\nlean源：\n\n``` bash\ngit clone https://github.com/coolsnowwolf/lede.git\n```\n\n测试编译环境\n\n``` bash\nmake defconfig\n```\n\n配置固件菜单\n\n``` bash\nmake menuconfig\n```\n\n预先下载dl库，可以避免下载造成的编译失败。\n\n``` bash\nmake download V=s\n```\n\n全速编译固件\n\n``` bash\nmake V=99\n```\n\n`-j`参数设定全速编译，`-j`参数可能会导致系统卡死，不建议老爷机使用\n\n\n最好在编译新增包前，执行`./scripts/feeds {update,install} -a`再增加修改各种编译模板，完后`./scripts/feeds update -i`即可，这样会从编译模板里读取要编译包的版本更新到索引。之后无需再执行`{update,install} -a`如果执行了会重新从openwrt源码URL下载索引，然后比如ppp的编译模板，会下载安装到官方源码版本。\n\n``` bash\nmake clean #清除bin 目录\nmake dirclean #清除bin 目录+清除交叉编译工具及工具链目录\nmake distclean #清除所有相关的东西，包括下载的软件包，配置文件，feed内容等\n```\n\n每次编译成功后备份`make menuconfig`的镜像配置文件，以避免下次编译时失败报错无法回退。\n\n``` bash\ncp .config my.config\n```\n`make dirclean`不会删除`dl`目录修改\n\n#### 以后二次编译\n\n``` bash\ncd lede                                                          进入LEDE目录\ngit pull                                                         同步更新源码\n./scripts/feeds update -a \u0026\u0026 ./scripts/feeds install -a          更新FEEDS\nrm -rf ./tmp \u0026\u0026 rm -rf .config                                   清除编译配置和缓存\nmake menuconfig                                                  进入编译配置菜单\nmake -jn V=s                                                     n=线程数+1，例如4线程的I5填-j5，开始编译\n```\n\n#### 多线多拨负载均衡\n\n多拨插件`syncdial`原`macvlan`负载均衡插件`mwan3`IPSET规则生成工具`mwan3help`\n\n``` bash\n\u003e LuCI \u003e Applications\n  luci-app-syncdial........................... Virtual WAN config generator\n  luci-app-mwan3........ LuCI support for the MWAN3 multiwan hotplug script\n  luci-app-mwan3helper....................... LuCI support for MWAN3 Helper\n```\n\n#### 修改内核版本\n\n打开LEDE目录/target/linux/架构/Makefile以X86为例\n\n打开`~/lede/target/linux/x86/Makefile`找到`KERNEL_PATCHVER:=4.9`修改它,具体支持内核版本`~/lede/include/kernel-version.mk`\n\n#### OpenWrt路由器通过安卓iPhone有线共享网络上网\n\n``` bash\nKernel modules  ---\u003e\n    USB Support  ---\u003e\n        \u003c*\u003e kmod-usb-net............... Kernel modules for USB-to-Ethernet convertors\n        \u003c*\u003e kmod-usb-ohci............................... Support for OHCI controllers\n        \u003c*\u003e kmod-usb-uhci............................... Support for UHCI controllers\n        \u003c*\u003e kmod-usb2................................... Support for USB2 controllers\n\nUtilities  ---\u003e\n    \u003c*\u003e libimobiledevice-utils............ A library that talks to Apple devices.\n    \u003c*\u003e libplist-utils............................. Apple property list converter\n    \u003c*\u003e libusbmuxd-utils......................... USB multiplexing daemon utilies\n    \u003c*\u003e usbmuxd.......................................... USB multiplexing daemon\n```\n\nUSB連接手機後，打開網絡共享，會在/proc/net/dev下面新增一個網絡接口,安卓是USB開頭的接口名192.168.42.xx網段的，iPhone是eth開頭的接口名172.20.10.xx網段的。\n\n#### 支持 iPv6：\n\n``` bash\nExtra packages —\u003e ipv6helper （选定这个后下面几项自动选择了）\nNetwork —\u003e odhcp6c\nNetwork —\u003e odhcpd-ipv6only\nLuCI —\u003e Protocols —\u003e luci-proto-ipv6\nLuCI —\u003e Protocols —\u003e luci-proto-ppp\n```\n\n#### lean LuCI —\u003e Applications\n\n``` bash\nLuCI —\u003e Applications —\u003e luci-app-accesscontrol #访问时间控制\nLuCI —\u003e Applications —\u003e luci-app-adblock #ADB广告过滤\nLuCI —\u003e Applications —\u003e luci-app-adbyby-plus #广告屏蔽大师Plus +\nLuCI —\u003e Applications —\u003e luci-app-adbyby #广告过滤大师（已弃）\nLuCI —\u003e Applications —\u003e luci-app-adkill #广告过滤（已弃）\nLuCI —\u003e Applications —\u003e luci-app-advanced-reboot #Linksys高级重启\nLuCI —\u003e Applications —\u003e luci-app-ahcp #支持AHCPd\nLuCI —\u003e Applications —\u003e luci-app-aliddns #阿里DDNS客户端\nLuCI —\u003e Applications —\u003e luci-app-amule #aMule下载工具\nLuCI —\u003e Applications —\u003e luci-app-aria2 # Aria2下载工具\nLuCI —\u003e Applications —\u003e luci-app-arpbind #IP/MAC绑定\nLuCI —\u003e Applications —\u003e luci-app-asterisk #支持Asterisk电话服务器\nLuCI —\u003e Applications —\u003e luci-app-attendedsysupgrade #固件更新升级相关\nLuCI —\u003e Applications —\u003e luci-app-autoreboot #支持计划重启\nLuCI —\u003e Applications —\u003e luci-app-bcp38 #BCP38网络入口过滤(不确定)\nLuCI —\u003e Applications —\u003e luci-app-bird4 #Bird 4(未知)\nLuCI —\u003e Applications —\u003e luci-app-bird6 #Bird 6(未知)\nLuCI —\u003e Applications —\u003e luci-app-bmx6 #BMX6路由协议\nLuCI —\u003e Applications —\u003e luci-app-bmx7 #BMX7路由协议\nLuCI —\u003e Applications —\u003e luci-app-caldav #联系人\nLuCI —\u003e Applications —\u003e luci-app-cjdns #加密IPV6网络相关\nLuCI —\u003e Applications —\u003e luci-app-clamav #ClamAV杀毒软件\nLuCI —\u003e Applications —\u003e luci-app-commands #Shell命令模块\nLuCI —\u003e Applications —\u003e luci-app-cshark #CloudShark捕获工具\nLuCI —\u003e Applications —\u003e luci-app-ddns #动态域名 DNS\nLuCI —\u003e Applications —\u003e luci-app-diag-core #core诊断工具\nLuCI —\u003e Applications —\u003e luci-app-dnscrypt-proxy #DNSCrypt解决DNS污染\nLuCI —\u003e Applications —\u003e luci-app-dnscrypt-dnsforwarder #DNSForwarder防DNS污染\nLuCI —\u003e Applications —\u003e luci-app-dnspod #DNSPod\nLuCI —\u003e Applications —\u003e luci-app-dump1090 #民航无线频率(不确定)\nLuCI —\u003e Applications —\u003e luci-app-dynapoint #DynaPoint(未知)\nLuCI —\u003e Applications —\u003e luci-app-e2guardian #Web内容过滤器\nLuCI —\u003e Applications —\u003e luci-app-filetransfer #文件传输\nLuCI —\u003e Applications —\u003e luci-app-firewall #添加防火墙\nLuCI —\u003e Applications —\u003e luci-app-flowoffload #Turbo ACC FLOW转发加速\nLuCI —\u003e Applications —\u003e luci-app-freifunk-diagnostics #freifunk组件 诊断(未知)\nLuCI —\u003e Applications —\u003e luci-app-freifunk-policyrouting #freifunk组件 策略路由(未知)\nLuCI —\u003e Applications —\u003e luci-app-freifunk-widgets #freifunk组件 索引(未知)\nLuCI —\u003e Applications —\u003e luci-app-frpc #内网穿透 Frp\nLuCI —\u003e Applications —\u003e luci-app-fwknopd #Firewall Knock Operator服务器\nLuCI —\u003e Applications —\u003e luci-app-guest-wifi #WiFi访客网络\nLuCI —\u003e Applications —\u003e luci-app-hd-idle #硬盘休眠\nLuCI —\u003e Applications —\u003e luci-app-hnet #Homenet Status家庭网络控制协议\nLuCI —\u003e Applications —\u003e luci-app-kooldns #virtual服务器 ddns替代方案（已弃）\nLuCI —\u003e Applications —\u003e luci-app-koolproxy #KP去广告（已弃）\nLuCI —\u003e Applications —\u003e luci-app-lxc #LXC容器管理\nLuCI —\u003e Applications —\u003e luci-app-meshwizard #网络设置向导\nLuCI —\u003e Applications —\u003e luci-app-minidlna #完全兼容DLNA / UPnP-AV客户端的服务器软件\nLuCI —\u003e Applications —\u003e luci-app-mjpg-streamer #兼容Linux-UVC的摄像头程序\nLuCI —\u003e Applications —\u003e luci-app-mmc-over-gpio #添加SD卡操作界面（已弃）\nLuCI —\u003e Applications —\u003e luci-app-multiwan #多拨虚拟网卡（已弃）\nLuCI —\u003e Applications —\u003e luci-app-mwan #MWAN负载均衡\nLuCI —\u003e Applications —\u003e luci-app-mwan3 #MWAN3分流助手\nLuCI —\u003e Applications —\u003e luci-app-n2n_v2 #N2N内网穿透 N2N v2 virtual服务\nLuCI —\u003e Applications —\u003e luci-app-nft-qos #QOS流控 Nftables版（已弃）\nLuCI —\u003e Applications —\u003e luci-app-ngrokc #Ngrok 内网穿透（已弃）\nLuCI —\u003e Applications —\u003e luci-app-nlbwmon #网络带宽监视器\nLuCI —\u003e Applications —\u003e luci-app-noddos #NodDOS Clients 阻止DDoS攻击\nLuCI —\u003e Applications —\u003e luci-app-ntpc #NTP时间同步服务器\nLuCI —\u003e Applications —\u003e luci-app-ocserv #OpenConnect virtual服务\nLuCI —\u003e Applications —\u003e luci-app-olsr #OLSR配置和状态模块\nLuCI —\u003e Applications —\u003e luci-app-olsr-services #OLSR服务器\nLuCI —\u003e Applications —\u003e luci-app-olsr-viz #OLSR可视化\nLuCI —\u003e Applications —\u003e luci-app-ocserv #OpenConnect virtual服务（已弃）\nLuCI —\u003e Applications —\u003e luci-app-openvirtual** #Openvirtual客户端\nLuCI —\u003e Applications —\u003e luci-app-openvirtual-server #易于使用的Openvirtual服务器 Web-UI\nLuCI —\u003e Applications —\u003e luci-app-oscam #OSCAM服务器（已弃）\nLuCI —\u003e Applications —\u003e luci-app-p910nd #打印服务器模块\nLuCI —\u003e Applications —\u003e luci-app-pagekitee #Pagekite内网穿透客户端\nLuCI —\u003e Applications —\u003e luci-app-polipo #Polipo代理(是一个小型且快速的网页缓存代理)\nLuCI —\u003e Applications —\u003e luci-app-pppoe-relay #PPPoE NAT穿透 点对点协议(PPP)\nLuCI —\u003e Applications —\u003e luci-app-p p t p-server #virtual服务器 p p t p\nLuCI —\u003e Applications —\u003e luci-app-privoxy #Privoxy网络代理(带过滤无缓存)\nLuCI —\u003e Applications —\u003e luci-app-qos #流量服务质量(QoS)流控\nLuCI —\u003e Applications —\u003e luci-app-radicale #CalDAV/CardDAV同步工具\nLuCI —\u003e Applications —\u003e luci-app-ramfree #释放内存\nLuCI —\u003e Applications —\u003e luci-app-rp-pppoe-server #Roaring Penguin PPPoE Server 服务器\nLuCI —\u003e Applications —\u003e luci-app-samba #网络共享(Samba)\nLuCI —\u003e Applications —\u003e luci-app-samba4 #网络共享(Samba4)\nLuCI —\u003e Applications —\u003e luci-app-sfe #Turbo ACC网络加速(开启Fast Path转发加速)\nLuCI —\u003e Applications —\u003e luci-app-s-s #SS兲朝上网（已弃）\nLuCI —\u003e Applications —\u003e luci-app-s-s-libes #SS-libev服务端\nLuCI —\u003e Applications —\u003e luci-app-shairplay #支持AirPlay功能\nLuCI —\u003e Applications —\u003e luci-app-siitwizard #SIIT配置向导 SIIT-Wizzard\nLuCI —\u003e Applications —\u003e luci-app-simple-adblock #简单的广告拦截\nLuCI —\u003e Applications —\u003e luci-app-simple-softethervirtual** #SoftEther virtual服务器 NAT穿透（已弃）\nLuCI —\u003e Applications —\u003e luci-app-splash #Client-Splash是无线MESH网络的一个热点认证系统\nLuCI —\u003e Applications —\u003e luci-app-sqm #流量智能队列管理(QOS)\nLuCI —\u003e Applications —\u003e luci-app-squid #Squid代理服务器\nLuCI —\u003e Applications —\u003e luci-app-S-S R-plus #S-S R兲朝上网Plus+\nLuCI —\u003e Applications —\u003e luci-app-S-S R-plus —\u003e Include s-s New Versiong #新SS代理\nLuCI —\u003e Applications —\u003e luci-app-S-S R-plus —\u003e Include V2ray #V2Ray透明代理\nLuCI —\u003e Applications —\u003e luci-app-S-S R-plus —\u003e Include Kcptun #Kcptun代理\nLuCI —\u003e Applications —\u003e luci-app-S-S R-plus —\u003e Include s-sR Server #S-S R客户端\nLuCI —\u003e Applications —\u003e luci-app-S-S R-plus —\u003e Include s-sR Socks and Tunnel #S-S R代理\nLuCI —\u003e Applications —\u003e luci-app-S-S R-pro #S-S R-Pro\nLuCI —\u003e Applications —\u003e luci-app-S-S Rserver-python #s-sR Python服务器\nLuCI —\u003e Applications —\u003e luci-app-statistics #流量监控工具\nLuCI —\u003e Applications —\u003e luci-app-syncdial #多拨虚拟网卡(原macvlan)\nLuCI —\u003e Applications —\u003e luci-app-tinyproxy #Tinyproxy是 HTTP(S)代理服务器\nLuCI —\u003e Applications —\u003e luci-app-transmission #BT下载工具\nLuCI —\u003e Applications —\u003e luci-app-travelmate #旅行路由器\nLuCI —\u003e Applications —\u003e luci-app-ttyd #网页终端命令行\nLuCI —\u003e Applications —\u003e luci-app-udpxy #udpxy做组播服务器\nLuCI —\u003e Applications —\u003e luci-app-uhttpd #uHTTPd Web服务器\nLuCI —\u003e Applications —\u003e luci-app-unbound #Unbound DNS解析器\nLuCI —\u003e Applications —\u003e luci-app-upnp #通用即插即用UPnP(端口自动转发)\nLuCI —\u003e Applications —\u003e luci-app-usb-printer #USB 打印服务器\nLuCI —\u003e Applications —\u003e luci-app-v2ray-pro #V2Ray透明代理\nLuCI —\u003e Applications —\u003e luci-app-vlmcsd #KMS服务器设置\nLuCI —\u003e Applications —\u003e luci-app-vnstat #vnStat网络监控(图表)\nLuCI —\u003e Applications —\u003e luci-app-virtualbypass #virtual** BypassWebUI 绕过virtual设置\nLuCI —\u003e Applications —\u003e luci-app-vsftpd #FTP服务器\nLuCI —\u003e Applications —\u003e luci-app-watchcat #断网检测功能与定时重启\nLuCI —\u003e Applications —\u003e luci-app-webadmin #Web管理页面设置\nLuCI —\u003e Applications —\u003e luci-app-webshell #网页命令行终端（已弃）\nLuCI —\u003e Applications —\u003e luci-app-wifischedule #WiFi 计划\nLuCI —\u003e Applications —\u003e luci-app-wireguard #virtual服务器 WireGuard状态\nLuCI —\u003e Applications —\u003e luci-app-wireless-regdb #WiFi无线\nLuCI —\u003e Applications —\u003e luci-app-wol #WOL网络唤醒\nLuCI —\u003e Applications —\u003e luci-app-wrtbwmon #实时流量监测\nLuCI —\u003e Applications —\u003e luci-app-xlnetacc #迅雷快鸟\nLuCI —\u003e Applications —\u003e luci-app-zerotier #ZeroTier内网穿透\n```\n\n","cover":"","link":"openwrt.html","preview":"\u003cp\u003e如何编译自己需要的OpenWrt固件,OpenWRT额外从github添加第三方插件功能 lean固件x86\u003c/p\u003e\n","title":"从零开始编译OpenWRT lean软路由固件教程x86"},{"content":"\r\n\r\n``` bash\r\neefef\r\n```\r\n\r\n`这是灰底字`\r\n\r\n### 修改字体颜色/大小/背景色\r\n如果想自定义字体大小以及颜色，可以直接在 Markdown 文档中使用 html 语法\r\n\r\n``` bash\r\n\u003cfont size=4 \u003e 这里输入文字，自定义字体大小 \u003c/font\u003e\r\n\u003cfont color=\"#FF0000\"\u003e 这里输入文字，自定义字体颜色\u003c/font\u003e \r\n\u003cspan style=\"background-color: #ff6600;\"\u003e这里输入文字，自定义字体背景色\u003c/span\u003e\r\n\u003cfont color=\"#000000\" size=4\u003e\u003cspan style=\"background-color: #ADFF2F;\"\u003e这是综合起来的效果 \u003c/span\u003e\u003c/font\u003e\r\n\u003cfont color=\"#FFFFFF\" size=4\u003e\u003cspan style=\"background-color: #68228B;\"\u003e这是综合起来的效果2 \u003c/span\u003e\u003c/font\u003e\r\n```\r\n\r\n\r\n\r\n\r\n\r\n其中#FF0000为RGB颜色代码，读者可去[RGB颜色查询对照表网站](/rgb.html)查找自己喜欢的颜色。\r\n\r\n若想在RGB颜色值与十六进制颜色码之间相互转化，可查看[该网站](http://link.zhihu.com/?target=http%3A//www.sioe.cn/yingyong/yanse-rgb-16/)。\r\n\r\n\u003cfont size=4 \u003e 这里输入文字，自定义字体大小 \u003c/font\u003e\r\n\u003cfont color=\"#FF0000\"\u003e 这里输入文字，自定义字体颜色\u003c/font\u003e \r\n\u003cspan style=\"background-color: #ff6600;\"\u003e这里输入文字，自定义字体背景色\u003c/span\u003e\r\n\u003cfont color=\"#000000\" size=4\u003e\u003cspan style=\"background-color: #ADFF2F;\"\u003e这是综合起来的效果 \u003c/span\u003e\u003c/font\u003e\r\n\u003cfont color=\"#FFFFFF\" size=4\u003e\u003cspan style=\"background-color: #68228B;\"\u003e这是综合起来的效果2 \u003c/span\u003e\u003c/font\u003e\r\n\r\n\r\n### 文本居中对齐\r\n\r\n``` bash\r\n{% centerquote %}blah blah blah{% endcenterquote %}\r\n```\r\n\r\n展示如下\r\n\r\n{% centerquote %}blah blah blah{% endcenterquote %}\r\n\r\n\r\n### 插入代码\r\n\r\n``` bash \r\n``` bash\r\n```\r\n\r\n演示效果\r\n\r\n``` bash \r\nbash xxx.sh\r\n```\r\n\r\n### 插入表格\r\n``` bash\r\n|函数名|功能|其它|\r\n|----|----|----|\r\n|max|求最大值|其它1|\r\n|min|求最小值|其它2|\r\n```\r\n演示效果\r\n\r\n|函数名|功能|其它|\r\n|----|----|----|\r\n|max|求最大值|其它1|\r\n|min|求最小值|其它2|\r\n","cover":"","link":"hexo-edit-markdown.html","preview":"\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eeefef\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003e\u003ccode\u003e这是灰底字\u003c/code\u003e\u003c/p\u003e\n\n\u003ch3\u003e修改字体颜色/大小/背景色\u003c/h3\u003e\n\n\u003cp\u003e如果想自定义字体大小以及颜色，可以直接在 Markdown 文档中使用 html 语法\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e\u0026lt;font size=4 \u0026gt; 这里输入文字，自定义字体大小 \u0026lt;/font\u0026gt;\n\u0026lt;font color=\u0026quot;#FF0000\u0026quot;\u0026gt; 这里输入文字，自定义字体颜色\u0026lt;/font\u0026gt; \n\u0026lt;span style=\u0026quot;background-color: #ff6600;\u0026quot;\u0026gt;这里输入文字，自定义字体背景色\u0026lt;/span\u0026gt;\n\u0026lt;font color=\u0026quot;#000000\u0026quot; size=4\u0026gt;\u0026lt;span style=\u0026quot;background-color: #ADFF2F;\u0026quot;\u0026gt;这是综合起来的效果 \u0026lt;/span\u0026gt;\u0026lt;/font\u0026gt;\n\u0026lt;font color=\u0026quot;#FFFFFF\u0026quot; size=4\u0026gt;\u0026lt;span style=\u0026quot;background-color: #68228B;\u0026quot;\u0026gt;这是综合起来的效果2 \u0026lt;/span\u0026gt;\u0026lt;/font\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n","title":"hexo文章编辑模版示范"},{"content":"\r\n\r\n\r\n*更多容器可以访问[docker](https://www.docker.com/)的[Docker Hub](https://hub.docker.com/)*\r\n\r\n操作系统内核大于等于 3.10 的都可以安装最新版 Docker 查看内核版本\r\n\r\n``` bash\r\nuname -r\r\n```\r\n\r\n### 安装docker\r\n``` bash\r\nwget -qO- get.docker.com | bash \r\n```\r\n\r\n安装完成后，运行下面的命令，验证是否安装成功。\r\n``` bash\r\ndocker version \r\n```\r\n\r\n\r\n\r\n启动 Docker\r\n``` bash\r\nsystemctl start docker \r\n```\r\n查看 Docker 启动状态\r\n``` bash\r\nsystemctl status docker\r\n```\r\n允许 Docker 开机自启\r\n``` bash\r\nsystemctl enable docker \r\n```\r\n\r\n解决`docker-compose: command not found`的方法\r\n\r\n您还需要安装Docker Compose。见 [手册](https://docs.docker.com/compose/install/)。以下是您需要执行的命令\r\n\r\n```\r\ncurl -L https://github.com/docker/compose/releases/download/1.16.1/docker-compose-`uname -s`-`uname -m` \u003e ./docker-compose\r\nsudo mv ./docker-compose /usr/bin/docker-compose\r\nsudo chmod +x /usr/bin/docker-compose\r\n```\r\n\r\n### Docker 清理命令\r\n杀死所有正在运行的容器.\r\n``` bash\r\nalias dockerkill='docker kill $(docker ps -a -q)'\r\n```\r\n\r\n删除所有已经停止的容器.\r\n\r\n``` bash\r\nalias dockercleanc='docker rm $(docker ps -a -q)'\r\n```\r\n\r\n删除所有未打标签的镜像.\r\n\r\n``` bash\r\nalias dockercleani='docker rmi $(docker images -q -f dangling=true)'\r\n```\r\n\r\n删除所有已经停止的容器和未打标签的镜像.\r\n\r\n``` bash\r\nalias dockerclean='dockercleanc || true \u0026\u0026 dockercleani'\r\n```\r\n\r\n删除所有未运行 Docker 容器\r\ndocker rm $(docker ps -a -q)\r\n删除所有 Docker 镜像\r\n删除所有未打 tag 的镜像\r\n\r\ndocker rmi $(docker images -q | awk '/^\u003cnone\u003e/ { print $3 }')\r\n删除所有镜像\r\n\r\ndocker rmi $(docker images -q)\r\n根据格式删除所有镜像\r\n\r\ndocker rm $(docker ps -qf status=exited)\r\n\r\n\r\ndocker images\r\ndocker tag IMAGE_ID  \u003chub-user\u003e/\u003crepo-name\u003e[:\u003ctag\u003e]\r\ndocker login\r\n#docker push 镜像到docker hub 的仓库\r\ndocker push \u003chub-user\u003e/\u003crepo-name\u003e:\u003ctag\u003e\r\ndocker images\r\n镜像的保存\r\ndocker save IMAGE_ID \u003e newname.tar\r\n镜像的导入\r\ndocker load \u003c tnewname.tar\r\n\r\n保存对容器的修改，示范\r\ndocker commit cb439fb2c714 mxnet/python:gpu\r\n\r\n停用全部运行中的容器:\r\n\r\n```\r\ndocker stop $(docker ps -q)\r\n```\r\n\r\n删除全部容器：\r\n\r\n```\r\ndocker rm $(docker ps -aq)\r\n```\r\n\r\n\r\n一条命令实现停用并删除容器：\r\n\r\n``` bash\r\ndocker stop $(docker ps -q) \u0026 docker rm $(docker ps -aq)\r\n```\r\n\r\n``` bash\r\ndocker system prune -y\r\ndocker image prune --force --all -y\r\n```\r\n\r\n更新docker 1.13 中增加了 `docker system prune`的命令，针对container、image可以使用`docker container prune`、`docker image prune`命令。\r\n\r\n- `docker image prune --force --all`或者`docker image prune -f -a` : 删除所有不使用的镜像\r\n- `docker container prune -f`: 删除所有停止的容器\r\n\r\n\r\ndocker中如何删除image（镜像）\r\n\r\n``` bash\r\ndocker images\r\ndocker ps -a\r\n```\r\n\r\n查看docker的帮助会发现有两个与删除有关的命令rm和rmi\r\n\r\n``` bash\r\nrm Remove one or more containers\r\nrmi Remove one or more images\r\n```\r\n\r\n\r\n``` bash\r\ndocker rmi ID\r\n```\r\n\r\n\r\n``` bash\r\ndocker pull ubuntu\r\ndocker run -t -i ubuntu /bin/bash\r\n```\r\n\r\n### 使用示例\r\n1. nginx\r\n\r\n``` bash\r\ndocker pull nginx\r\ndocker run --name some-nginx -d -p 8080:80 some-content-nginx\r\n```\r\n\r\nThen you can hit http://localhost:8080 or http://host-ip:8080 in your browser.\r\n\r\n\r\n2. shadowsocks-libev-teddysun\r\n\r\n``` bash\r\ndocker pull teddysun/shadowsocks-libev:alpine\r\n```\r\n\r\n在宿主机上创建配置文件\r\n``` bash\r\necho \"{\r\n    \"server\":\"0.0.0.0\",\r\n    \"server_port\":9000,\r\n    \"password\":\"password0\",\r\n    \"timeout\":300,\r\n    \"method\":\"aes-256-gcm\",\r\n    \"fast_open\":true,\r\n    \"nameserver\":\"8.8.8.8\",\r\n    \"mode\":\"tcp_and_udp\",\r\n    \"plugin\":\"obfs-server\",\r\n    \"plugin_opts\":\"obfs=tls\"\r\n} \" \u003e /etc/shadowsocks-libev/config.json\r\n```\r\n\r\n启动容器\r\n\r\n``` bash\r\ndocker run -d -p 9000:9000 -p 9000:9000/udp --name ss-libev -v /etc/shadowsocks-libev:/etc/shadowsocks-libev teddysun/shadowsocks-libev \r\n```\r\n\r\n介绍\r\n\r\n- docker run：开始运行一个容器。\r\n- -d 参数：容器以后台运行并输出容器 ID。\r\n- -p 参数：容器的 9000 端口映射到本机的 9000 端口。默认是映射 TCP，当需要映射 UDP 时，那就再追加一次 UDP 的映射。冒号后面是容器端口，冒号前面是宿主机端口，可以写成一致，也可以不一致。\r\n- –name 参数：给容器分配一个识别符，方便将来的启动，停止，删除等操作。\r\n- -v 参数：挂载卷(volume)，冒号后面是容器的路径，冒号前面是宿主机的路径，可以写成一致，也可以不一致。\r\n- teddysun/shadowsocks-libev：这是拉取回来的镜像路径。\r\n","cover":"","link":"docker-images.html","preview":"\u003cp\u003e\u003cem\u003e更多容器可以访问\u003ca href=\"https://www.docker.com/\"\u003edocker\u003c/a\u003e的\u003ca href=\"https://hub.docker.com/\"\u003eDocker Hub\u003c/a\u003e\u003c/em\u003e\u003c/p\u003e\n\n\u003cp\u003e操作系统内核大于等于 3.10 的都可以安装最新版 Docker 查看内核版本\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003euname -r\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch3\u003e安装docker\u003c/h3\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003ewget -qO- get.docker.com | bash \n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003e安装完成后，运行下面的命令，验证是否安装成功。\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003edocker version \n\u003c/code\u003e\u003c/pre\u003e\n","title":"docker创建删除使用容器或镜像"},{"content":"\r\n\r\nDebian 9上安装最新的MySQL\r\n\r\n在Debian 9中，MySQL项目的社区分支MariaDB被打包为默认的MySQL变体。虽然MariaDB在大多数情况下运行良好，但如果您需要仅在Oracle的MySQL中找到的功能，则可以从MySQL开发人员维护的存储库中安装和使用软件包。\r\n\r\n# 安装MySQL\r\n\r\n首先添加MySQL软件库\r\n\r\nMySQL开发人员提供了一个.deb包，用于处理配置和安装官方MySQL软件存储库。一旦设置了存储库，我们就可以使用Ubuntu的标准apt命令来安装该软件。我们将使用wget下载此.deb文件，然后使用该dpkg命令进行安装。\r\n\r\n首先，在Web浏览器中加载[MySQL下载页面](https://dev.mysql.com/downloads/repo/apt/)。找到右下角的“ 下载”按钮，然后单击下一页。此页面将提示您登录或注册Oracle Web帐户。我们可以跳过这一点，而是寻找说不用的链接，只需启动我的下载。右键单击该链接并选择“ 复制链接地址”（此选项的措辞可能不同，具体取决于您的浏览器）。\r\n\r\n现在我们要下载文件了。在您的服务器上，移动到您可以写入的目录。使用wget下载文件，记住粘贴刚刚复制的地址代替下面突出显示的部分：\r\n\r\n\r\n``` bash\r\ncd /tmp\r\nwget https://dev.mysql.com/get/mysql-apt-config_0.8.13-1_all.deb\r\n```\r\n\r\n该文件现在应该下载到我们当前的目录中`ls`列出文件以确保：\r\n\r\n您应该看到列出的文件名：\r\n\r\n``` bash\r\nmysql-apt-config_0.8.13-1_all.deb\r\n```\r\n\r\n现在我们准备安装：\r\n\r\n``` bash\r\ndpkg -i mysql-apt-config*\r\n```\r\n\r\ndpkg将会被用于安装，删除和检查.deb软件包。该-i标志表示我们要从指定的文件安装。\r\n\r\n在安装过程中，您将看到一个配置屏幕，您可以在其中指定您喜欢的MySQL版本，以及为其他MySQL相关工具安装存储库的选项。默认值将添加最新稳定版MySQL的存储库信息，而不是其他任何内容。这就是我们想要的，所以使用向下箭头导航到Ok菜单选项并点击ENTER。\r\n\r\n该包现在将完成添加存储库。刷新apt包缓存以使新软件包可用：\r\n\r\n``` bash\r\ndpkg-reconfigure mysql-apt-config\r\napt-get update\r\n```\r\n\r\n添加了存储库并使用我们的软件包缓存进行了新近更新\r\n\r\n安装MySQL\r\n\r\n我们现在可以使用apt安装最新的MySQL服务器软件包：\r\n\r\n``` bash\r\napt install mysql-server\r\n```\r\n\r\n状态查询\r\n\r\n``` bash\r\nsystemctl status mysql\r\n```\r\n\r\n# 修改MYSQL的初使密码\r\n\r\n``` bash\r\nmysql -u root -p\r\n```\r\n\r\n用安装时设置的密码登陆\r\n\r\n``` bash\r\nuse mysql\r\n```\r\n\r\n开始修改密码\r\n\r\n``` bash\r\nupdate user set authentication_string=password('yournewpassword') where user='root';\r\n```\r\n\r\n退出\r\n\r\n``` bash\r\nexit\r\n```\r\n\r\n经过我们修改MYSQL的初使密码后，方可以顺利登陆phpMyAdmin管理\r\n\r\n用SET PASSWORD命令\r\n\r\n``` bash\r\nmysql -u root\r\nmysql\u003e SET PASSWORD FOR 'root'@'localhost' = PASSWORD('yournewpassword');\r\n```\r\n\r\n最后重启一下MySQL\r\n\r\n``` bash\r\nsystemctl restart mysql\r\n```\r\n\r\n# 卸载清理MYSQL\r\n\r\n首先你可以通过\r\n\r\n``` bash\r\ndpkg --get-selections | grep mysql\r\n```\r\n\r\n命令罗列出你电脑上安装的和MySQL相关的软件，然后purge卸载\r\n\r\n``` bash\r\napt-get --purge remove mysql-server\r\napt-get --purge remove mysql-client\r\napt-get --purge remove mysql-common\r\napt-get --purge remove mysql-apt-config\r\napt-get --purge remove mysql-community-client\r\napt-get --purge remove mysql-community-server\r\n```\r\n\r\n上面列出的安装MYSQL组件列表会不一样，请根据自己的实际操作。\r\n\r\n最后再通过下面的命令清理残余：\r\n\r\n``` bash\r\napt-get autoremove\r\napt-get autoclean\r\nrm /etc/mysql/ -R\r\nrm /var/lib/mysql/ -R\r\n```\r\n\r\n至此卸载清理工作全部完成\r\n","cover":"","link":"debian-ubuntu-install-mysql-uninstall.html","preview":"","title":"Debian和Ubuntu安装最新的MySQL修改密码卸载清理"},{"content":"\r\n\r\n适用系统： \r\n\r\n* Ubuntu 16.04 LTS \r\n* Ubuntu 14.04 LTS \r\n* Debian 9 stretch \r\n* Debian 8 jessie\r\n\r\n# 安装 PHP\r\n\r\nOnd?ej Sury 的 PHP PPA 为 Ubuntu 16.04/14.04 提供了 PHP7.2 版本，同时也有通过个人网站为 Debian 9/8 提供 PHP7.2 版本，因此 Ubuntu 是源于 Debian 所以基本可以通用，同时维护难度较低，软件源安装的 PHP 默认以 Unix Socket 的状态运行在 /run/php/php7.1-fpm.sock，比使用 TCP 以 localhost:9000 的方式性能更好。\r\n\r\n\r\n# 添加软件源\r\n\r\n\u003e Ubuntu安装软件源拓展工具：\r\n\r\n``` bash\r\napt -y install software-properties-common apt-transport-https lsb-release ca-certificates\r\n```\r\n\r\n添加 Ond?ej Sury 的 PHP PPA 源，需要按一次回车：\r\n\r\n``` bash\r\nadd-apt-repository ppa:ondrej/php\r\n```\r\n\r\n更新软件源缓存：\r\n\r\n``` bash\r\napt update\r\n```\r\n\r\n\u003e Debian安装软件源拓展工具：\r\n\r\n``` bash\r\napt -y install software-properties-common apt-transport-https lsb-release ca-certificates\r\n```\r\n\r\n添加 GPG\r\n\r\n``` bash\r\nwget -O /etc/apt/trusted.gpg.d/php.gpg https://mirror.xtom.com.hk/sury/php/apt.gpg\r\n```\r\n\r\n添加 sury 软件源\r\n\r\n``` bash\r\nsh -c 'echo \"deb https://mirror.xtom.com.hk/sury/php/ $(lsb_release -sc) main\" \u003e /etc/apt/sources.list.d/php.list'  \r\n```\r\n\r\n更新软件源缓存：\r\n\r\n``` bash\r\napt-get update\r\n```\r\n\r\n# 安装 PHP7.2：\r\n\r\n``` bash\r\napt install php7.2-fpm php7.2-mysql php7.2-curl php7.2-gd php7.2-mbstring php7.2-xml php7.2-xmlrpc php7.2-zip php7.2-opcache -y\r\n```\r\n\r\n\r\n\u003e 设置 PHP\r\n\r\n安装完成后，编辑 /etc/php/7.2/fpm/php.ini 替换换 ;cgi.fix_pathinfo=1 为 cgi.fix_pathinfo=0 快捷命令：\r\n\r\n``` bash\r\nsed -i 's/;cgi.fix_pathinfo=1/cgi.fix_pathinfo=0/' /etc/php/7.2/fpm/php.ini\r\n```\r\n\r\n\u003e 管理 PHP\r\n\r\n安装好了先重启一下！\r\n\r\n``` bash\r\nsystemctl restart php7.2-fpm\r\n```\r\n\r\n\u003e 更多操作：\r\n\r\n\r\n``` bash\r\nphp -v #查看PHP版本号\r\nsystemctl restart php7.2-fpm #重启\r\nsystemctl start php7.2-fpm #启动\r\nsystemctl stop php7.2-fpm #关闭\r\nsystemctl status php7.2-fpm #检查状态\r\n```\r\n\r\n\u003e 更新 PHP\r\n\r\n运行下面的命令系统就会更新所有可以更新的软件包括 PHP\r\n\r\n``` bash\r\napt update\r\napt upgrade -y\r\n```\r\n\r\n\r\n安装更多组件\r\n\r\n\r\n``` bash\r\napt-cache search php7.2\r\n```\r\n\r\n上面的一条命令安装 PHP 只是安装了部分 PHP 拓展，更多的软件可见：\r\n\r\n``` bash\r\nphp-radius - radius client library for PHP\r\nphp-http - PECL HTTP module for PHP Extended HTTP Support\r\nphp-uploadprogress - file upload progress tracking extension for PHP\r\nphp-yaml - YAML-1.1 parser and emitter for PHP\r\nphp-mongodb - MongoDB driver for PHP\r\nphp-apcu - APC User Cache for PHP\r\nphp-imagick - Provides a wrapper to the ImageMagick library\r\nphp-ssh2 - Bindings for the libssh2 library\r\nphp-redis - PHP extension for interfacing with Redis\r\nphp-memcached - memcached extension module for PHP, uses libmemcached\r\nphp-apcu-bc - APCu Backwards Compatibility Module\r\nphp-rrd - PHP bindings to rrd tool system\r\nphp-uuid - PHP UUID extension\r\nphp-memcache - memcache extension module for PHP\r\nphp-zmq - ZeroMQ messaging bindings for PHP\r\nphp-igbinary - igbinary PHP serializer\r\nphp-msgpack - PHP extension for interfacing with MessagePack\r\nphp-geoip - GeoIP module for PHP\r\nphp-tideways - Tideways PHP Profiler Extension\r\nphp-yac - YAC (Yet Another Cache) for PHP\r\nphp-mailparse - Email message manipulation for PHP\r\nphp-oauth - OAuth 1.0 consumer and provider extension\r\nphp-gnupg - PHP wrapper around the gpgme library\r\nphp-propro - propro module for PHP\r\nphp-raphf - raphf module for PHP\r\nphp-solr - PHP extension for communicating with Apache Solr server\r\nphp-stomp - Streaming Text Oriented Messaging Protocol (STOMP) client module for PHP\r\nphp-gearman - PHP wrapper to libgearman\r\nphp-phalcon - full-stack PHP framework delivered as a C-extension\r\nphp-ds - PHP extension providing efficient data structures for PHP 7\r\nphp-sass - PHP bindings to libsass - fast, native Sass parsing in PHP\r\nphp-lua - PHP Embedded lua interpreter\r\nlibapache2-mod-php7.2 - server-side, HTML-embedded scripting language (Apache 2 module)\r\nlibphp7.2-embed - HTML-embedded scripting language (Embedded SAPI library)\r\nphp7.2-bcmath - Bcmath module for PHP\r\nphp7.2-bz2 - bzip2 module for PHP\r\nphp7.2-cgi - server-side, HTML-embedded scripting language (CGI binary)\r\nphp7.2-cli - command-line interpreter for the PHP scripting language\r\nphp7.2-common - documentation, examples and common module for PHP\r\nphp7.2-curl - CURL module for PHP\r\nphp7.2-dba - DBA module for PHP\r\nphp7.2-dev - Files for PHP7.2 module development\r\nphp7.2-enchant - Enchant module for PHP\r\nphp7.2-fpm - server-side, HTML-embedded scripting language (FPM-CGI binary)\r\nphp7.2-gd - GD module for PHP\r\nphp7.2-gmp - GMP module for PHP\r\nphp7.2-imap - IMAP module for PHP\r\nphp7.2-interbase - Interbase module for PHP\r\nphp7.2-intl - Internationalisation module for PHP\r\nphp7.2-json - JSON module for PHP\r\nphp7.2-ldap - LDAP module for PHP\r\nphp7.2-mbstring - MBSTRING module for PHP\r\nphp7.2-mysql - MySQL module for PHP\r\nphp7.2-odbc - ODBC module for PHP\r\nphp7.2-opcache - Zend OpCache module for PHP\r\nphp7.2-pgsql - PostgreSQL module for PHP\r\nphp7.2-phpdbg - server-side, HTML-embedded scripting language (PHPDBG binary)\r\nphp7.2-pspell - pspell module for PHP\r\nphp7.2-readline - readline module for PHP\r\nphp7.2-recode - recode module for PHP\r\nphp7.2-snmp - SNMP module for PHP\r\nphp7.2-soap - SOAP module for PHP\r\nphp7.2-sqlite3 - SQLite3 module for PHP\r\nphp7.2-sybase - Sybase module for PHP\r\nphp7.2-tidy - tidy module for PHP\r\nphp7.2-xml - DOM, SimpleXML, WDDX, XML, and XSL module for PHP\r\nphp7.2-xmlrpc - XMLRPC-EPI module for PHP\r\nphp7.2-zip - Zip module for PHP\r\nphp7.2-xsl - XSL module for PHP (dummy)\r\nphp7.2 - server-side, HTML-embedded scripting language (metapackage)\r\nphp7.2-sodium - libsodium module for PHP\r\n```\r\n\r\n以后内容转载自 https://www.mf8.biz/debian-install-php7-2/\r\n\r\n# Caddy调用PHP7.2\r\n\r\n在`/etc/caddy/Caddyfile`中添加以下代码\r\n\r\n``` bash\r\nfastcgi / /run/php/php7.2-fpm.sock php\r\n```\r\n","cover":"","link":"debian-ubuntu-install-php7.2.html","preview":"","title":"Debian和Ubuntu安装php7.2"},{"content":"\r\n\r\n\r\n## install-hugo\r\n\r\n下载[Hugo](https://github.com/gohugoio/hugo/releases) 对应平台解压得到二进制文件\r\n\r\n\r\n### Linux安装hugo\r\n\r\n以64bit为例，此安装方法适用于debian ubuntu centos openwrt等X64位的系统\r\n\r\n``` bash\r\nwget https://github.com/gohugoio/hugo/releases/download/v0.54.0/hugo_0.54.0_Linux-64bit.tar.gz\r\ntar zxvf hugo_0.54.0_Linux-64bit.tar.gz\r\nmv hugo /usr/bin/hugo\r\n```\r\n\r\n### Windows安装hugo\r\n\r\n下载[hugo_extended_0.54.0_Windows-64bit.zip](https://github.com/gohugoio/hugo/releases/download/v0.54.0/hugo_extended_0.54.0_Windows-64bit.zip) 并解压缩\r\n\r\n``` bash\r\nC:\\Hugo\\bin\r\n - hugo.exe\r\n - LICENSE\r\n - README.md\r\n```\r\n\r\n添加到PATH\r\n\r\n``` bash\r\nset PATH=%PATH%;C:\\Hugo\\bin\r\n```\r\n\r\n### 验证是否安装成功\r\n\r\n``` bash\r\nhugo version\r\n```\r\n\r\n能看到Hugo版本号说明已经成功安装好了hugo\r\n\r\n``` bash\r\nC:\\Hugo\u003eset PATH=%PATH%;C:\\Hugo\\bin\r\n\r\nC:\\Hugo\u003ehugo version\r\nHugo Static Site Generator v0.54.0/extended windows/amd64 BuildDate: unknown\r\n\r\nC:\\Hugo\u003e\r\n```\r\n\r\n## Hugo新建网站\r\n\r\n使用以下命令新建站点\r\n\r\n``` bash\r\nhugo new site blog\r\n```\r\n\r\nHugo会自动新建名为`blog`的文件夹\r\n\r\n``` bash\r\nC:\\HUGO\\BLOG\r\n├─archetypes\r\n├─content\r\n├─data\r\n├─layouts\r\n├─static\r\n└─themes\r\n```\r\n\r\n文件夹描述相关\r\n\r\n- `archetypes`使用hugu new post生成新文章的模板，可以自定义里面的值\r\n- `content` 存放网站内容\r\n- `data` 存储Hugo在生成您的网站时可以使用的配置文件\r\n- `layouts` 以.html文件的形式存储模板，指定如何将内容的视图呈现到静态网站中\r\n- `static` 存储所有静态内容：图像，CSS，JavaScript等，当Hugo构建您的站点时，静态目录中的所有资产都将按原样复制\r\n- `themes` 存放主题\r\n- `config.toml` 配置文件\r\n\r\n进入`blog`的文件夹\r\n\r\n``` bash\r\nhugo\r\n```\r\n\r\n生成静态网站`public` \r\n\r\n``` bash\r\nhugo server\r\n```\r\n\r\n## 主题安装\r\n\r\n先去[Hugo官方主题](https://themes.gohugo.io)中选择一个自己中意的\r\n\r\n通过git submodule add以Git子模块的方式下载（推荐）\r\n\r\n进入网站文件夹，使用git init初始化后再下载主题\r\n\r\n``` bash\r\ncd example.com\r\ngit init\r\ngit submodule add https://github.com/olOwOlo/hugo-theme-even.git themes/even\r\n```\r\n\r\n通过git clone下载（此方式下载的主题带有.git和网站本身的Git版本控制产生冲突）\r\n\r\n进入网站文件夹，使用git clone直接下载\r\n\r\n``` bash\r\ngit clone https://github.com/olOwOlo/hugo-theme-even themes/even\r\n```\r\n\r\n\r\n复制主题的配置文件\r\n\r\n下载完后，找到主题目录`/themes/even/exampleSite`下的配置文件`config.toml`，将该文件复制到网站文件夹下替换原来的`config.toml`，根据需求更改配置文件即可。也可以同时将`/themes/even/exampleSite`下的全部文件复制到网站目录下，`/themes/even/exampleSite/content`包含了一些示例文章可作参考\r\n把文章模版`/themes/even/archetypes/default.md`覆盖掉`/archetypes/default.md`\r\n\r\n创建一篇文章\r\n\r\n``` bash\r\nhugo new post/my-first-post.md\r\n```\r\n\r\n\r\n文章会保存在coneten/post目录下\r\n\r\n``` bash\r\nhugo server -D\r\n```\r\n\r\n\r\n","cover":"","link":"hugo-install-themes.html","preview":"","title":"静态网站生成器hugo安装配置主题"},{"content":"\r\n\r\n使用前请确保已经rclone成功挂载GoogleDrive或MicrosoftOneDrive [搭建教程](/rclone-upload-googledrive-microsoftonedrive.html)\r\n\r\n **实现功能** \r\n\r\n1. 自动上传\r\n2. 删除本地文件\r\n\r\n避免占用本地磁盘空间。\r\n\r\n适用于`rclone`或`aria2`\r\n\r\n``` bash\r\necho \"#!/bin/bash\r\ndownloadpath='/root/Download' #需要上传的目录，Aria2下载目录\r\nname='gdrive' #配置Rclone时填写的name\r\nfolder='/rclone' #网盘里的文件夹，留空为整个网盘。\r\nMinSize='10k' #限制最低上传大小，默认10k，BT下载时可防止上传其他无用文件。会删除文件，谨慎设置。\r\nMaxSize='15G' #限制最高文件大小，默认15G，OneDrive上传限制。\r\n\r\nfilepath=$3 #Aria2传递给脚本的原始路径，如果是单文件则为/root/Download/1.mp4，如果是文件夹则该值为文件夹内第一个文件比如/root/Download/a/b/1.mp4\r\nrdp=${filepath#${downloadpath}/} #路径转换，去掉开头的下载路径。\r\npath=${downloadpath}/${rdp%%/*} #文件或文件夹路径。如果是单个文件，应与原始路径一致。\r\n\r\nif [ $2 -eq 0 ]\r\n\tthen\r\n\t\texit 0\r\nfi\r\n\r\nwhile true; do\r\nif [ \"$path\" = \"$filepath\" ] \u0026\u0026 [ $2 -eq 1 ] #如果下载的是单个文件\r\n\tthen\r\n\trclone move -v \"$filepath\" ${name}:${folder} --min-size $MinSize --max-size $MaxSize\r\n\trm -vf \"$filepath\".aria2 #删除残留的.aria.2文件\r\n\texit 0\r\nelif [ \"$path\" != \"$filepath\" ] #如果下载的是文件夹\r\n\tthen\r\n\twhile [[ \"`ls -A \"$path/\"`\" != \"\" ]]; do\r\n\trclone move -v \"$path\" ${name}:\"${folder}\"/\"${rdp%%/*}\" --min-size $MinSize --max-size $MaxSize --delete-empty-src-dirs\r\n\trclone delete -v \"$path\" --max-size $MinSize #删除多余的文件\r\n\trclone rmdirs -v \"$downloadpath\" --leave-root #删除空目录，--delete-empty-src-dirs参数已实现，加上无所谓。\r\n\tdone\r\n\trm -vf \"$path\".aria2 #删除残留的.aria2文件\r\n\texit 0\r\nfi\r\ndone\" \u003e\u003e /root/upload.sh\r\n```\r\n\r\n**记得修改里面的路径为自己的**\r\n\r\n``` bash\r\ndownloadpath='/root/Download' #需要上传的目录，Aria2下载目录\r\nname='gdrive' #配置Rclone时填写的name\r\nfolder='/rclone' #网盘里的文件夹，留空为整个网盘。\r\n```\r\n\r\n授予可执行权限\r\n\r\n``` bash\r\nchmod +x upload.sh\r\n```\r\n\r\n运行\r\n\r\n``` bash\r\nbash upload.sh\r\n```\r\n","cover":"/images/googledrive-onedrive-cover.png","link":"rclone-upload-googledrive-microsoftonedrive.html","preview":"","title":"rclone成功挂载GoogleDrive和MicrosoftOneDrive自动上传"},{"content":"\r\n\r\n\r\n冰点还原Deep Freeze Standard8.x是一款WINDOWS平台保护免疫电脑病毒的保护软件。\r\n\r\n### 下载\r\n\r\n[下载冰点还原Deep-Freeze-Standard.v8.5.3](/uploads/Deep.Freeze.Standard.v8.5.3(password123456).rar) **解压密码123456**\r\n\r\n\r\n### 安装\r\n\r\n#### 获取安装序列号\r\n\r\n![](/images/Deep-Freeze-Standard.v8.x_SN.png)\r\n\r\n\r\n提供一组安装序列号SN\r\n\r\n`Serial`:\r\n\r\n``` bash\r\nH62YN98M-B1F0K2ED-83YQ9B5C-C195W257-7MYZ3996\r\n```\r\n\r\n`Activation`:\r\n\r\n``` bash\r\nG8T1GQNDP36EPVWGJP3EEQ5G\r\n```\r\n\r\n#### 安装冰点还原\r\n\r\n打开Faronics_DFS\\Faronics_DFS\\DFStd.exe安装\r\n\r\n### 激活\r\n\r\n安装完成后先按住键盘Shift键双击冰点还原的图标，选择启动后解冻，重启电脑，退出守护状态。\r\n\r\n![](/images/Deep-Freeze-Standard-exit.png)\r\n\r\n使用PCHunter解锁C盘下的Persi0.sys文件。或者使用360之类的解锁这个文件锁定。\r\n\r\n![](/images/Deep-Freeze-Standard1.png)\r\n\r\n![](/images/Deep-Freeze-Standard2.png)\r\n\r\n运行`dfs.v8.53.020.5458-patch.exe`对C盘下的`Persi0.sys`文件进行补丁。\r\n\r\n![](/images/Deep-Freeze-Standard-Patch.png)\r\n\r\n重启电脑，此时冰点还原Deep-Freeze-Standard应该已经激活成功了\r\n\r\n按住键盘Shift键双击冰点还原的图标，查看激活状态并开启它\r\n\r\n![](/images/Deep-Freeze-Standard-status.png)\r\n\r\n温情提醒：如果用PCHunter无法解锁进程可以在WINPE来补丁Persi0.sys文件！\r\n","cover":"","link":"deep-freeze-standard-v8-x-persi0-sys-patch.html","preview":"","title":"冰点还原Deep Freeze Standard8.x安装激活"},{"content":"\r\n\r\n\r\n\u003e 项目地址： (https://github.com/dylanbai8/Onekey_Caddy_PHP7_Sqlite3)\r\n\r\n小内存 VPS 一键搭建 Caddy+PHP7+Sqlite3 环境 (支持VPS最小内存64M)，一键翻墙 caddy+web(php+sqlite3)+v2ray+bbr。\r\n\r\n\r\n## 一键安装 Caddy+PHP7+Sqlite3 环境\r\n\r\n- 解析好域名,执行以下命令\r\n- 提示：支持IPv6（AAAA记录）如果本地网络不支持IPv6可以通过cloudflareCDN转换为IP4\r\n\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/dylanbai8/Onekey_Caddy_PHP7_Sqlite3/master/c.sh \u0026\u0026 chmod +x c.sh \u0026\u0026 bash c.sh\r\n```\r\n\r\n#### Caddy+PHP7+Sqlite3 环境\r\n\r\n``` bash\r\n启动：systemctl start caddy \r\n停止：systemctl stop caddy \r\n重启：systemctl restart caddy \r\n网站根目录：/www \r\nCaddyfile文件: /etc/dylanbai8/caddy/Caddyfile\r\n```\r\n\r\n#### 一键安装 typecho 博客\r\n\r\n``` bash\r\nbash c.sh -t\r\n```\r\n\r\n#### 一键安装 wordpress 博客\r\n\r\n``` bash\r\nbash c.sh -w\r\n```\r\n\r\n#### 一键安装 zblog 博客\r\n\r\n``` bash\r\nbash c.sh -z\r\n```\r\n\r\n#### 一键安装 kodexplorer 可道云\r\n\r\n``` bash\r\nbash c.sh -k\r\n```\r\n\r\n#### 一键安装 laverna 印象笔记\r\n\r\n``` bash\r\nbash c.sh -l\r\n```\r\n\r\n#### 一键整站备份（一键打包/www目录 含数据库）\r\n\r\n``` bash\r\nbash c.sh -a\r\n```\r\n\r\n#### 一键安装 v2ray 翻墙\r\n\r\n``` bash\r\nbash c.sh -v\r\n```\r\n\r\n#### 一键安装 rinetd bbr 端口加速\r\n\r\n``` bash\r\nbash c.sh -b\r\n```\r\n\r\n#### 一键卸载命令：\r\n\r\n``` bash\r\n卸载 caddy\r\nbash c.sh -unc\r\n\r\n卸载 php+sqlite\r\nbash c.sh -unp\r\n\r\n卸载 v2ray\r\nbash c.sh -unv\r\n\r\n卸载 rinetdbbr\r\nbash c.sh -unb\r\n```\r\n\r\n#### 文件目录权限设置\r\n\r\n``` bash\r\nchmod -R 755 /www/*\r\nchown www-data:www-data -R /www/*\r\n```\r\n","cover":"","link":"caddy-php7-sqlite3.html","preview":"","title":"一键安装 Caddy+PHP7+Sqlite3 环境"},{"content":"\r\n\r\n[rclone](https://rclone.org/)可以在Linux上挂载包括\r\n\r\n``` bash\r\nRclone is a command line program to sync files and directories to and from:\r\n\r\nAlibaba Cloud (Aliyun) Object Storage System (OSS)  \r\nAmazon Drive   (See note)\r\nAmazon S3  \r\nBackblaze B2  \r\nBox  \r\nCeph  \r\nDigitalOcean Spaces  \r\nDreamhost  \r\nDropbox  \r\nFTP  \r\nGoogle Cloud Storage  \r\nGoogle Drive  \r\nHTTP  \r\nHubic  \r\nJottacloud  \r\nIBM COS S3  \r\nKoofr  \r\nMemset Memstore  \r\nMega  \r\nMicrosoft Azure Blob Storage  \r\nMicrosoft OneDrive  \r\nMinio  \r\nNextcloud  \r\nOVH  \r\nOpenDrive  \r\nOpenstack Swift  \r\nOracle Cloud Storage  \r\nownCloud  \r\npCloud  \r\nput.io  \r\nQingStor  \r\nRackspace Cloud Files  \r\nScaleway  \r\nSFTP  \r\nWasabi  \r\nWebDAV  \r\nYandex Disk  \r\nThe local filesystem  \r\n```\r\n\r\n且不会占用本地硬盘空间\r\n\r\n# 安装rclone  \r\n\r\n以Debian为例\r\n\r\n``` bash\r\napt-get install fuse -y\r\ncurl https://rclone.org/install.sh | sudo bash\r\n```\r\n\r\n运行以下命令开始配置rclone\r\n\r\n``` bash\r\nrclone config\r\n```\r\n\r\n配置文件路径\r\n\r\n``` bash\r\n/root/.config/rclone/rclone.conf\r\n```\r\n\r\n## rclone挂载Google Drive\r\n\r\n``` bash\r\nroot@MonstrousPointed-VM:~# rclone config\r\nCurrent remotes:\r\n\r\nName                 Type\r\n====                 ====\r\ngdname               drive\r\nodname               onedrive\r\n\r\ne) Edit existing remote\r\nn) New remote\r\nd) Delete remote\r\nr) Rename remote\r\nc) Copy remote\r\ns) Set configuration password\r\nq) Quit config\r\ne/n/d/r/c/s/q\u003e n   #选择n新建\r\nname\u003e googledrive   #名字随意例如googledrive\r\nType of storage to configure.\r\nEnter a string value. Press Enter for the default (\"\").\r\nChoose a number from below, or type in your own value\r\n 1 / A stackable unification remote, which can appear to merge the contents of s                                                                                        everal remotes\r\n   \\ \"union\"\r\n 2 / Alias for a existing remote\r\n   \\ \"alias\"\r\n 3 / Amazon Drive\r\n   \\ \"amazon cloud drive\"\r\n 4 / Amazon S3 Compliant Storage Provider (AWS, Alibaba, Ceph, Digital Ocean, Dr                                                                                        eamhost, IBM COS, Minio, etc)\r\n   \\ \"s3\"\r\n 5 / Backblaze B2\r\n   \\ \"b2\"\r\n 6 / Box\r\n   \\ \"box\"\r\n 7 / Cache a remote\r\n   \\ \"cache\"\r\n 8 / Dropbox\r\n   \\ \"dropbox\"\r\n 9 / Encrypt/Decrypt a remote\r\n   \\ \"crypt\"\r\n10 / FTP Connection\r\n   \\ \"ftp\"\r\n11 / Google Cloud Storage (this is not Google Drive)\r\n   \\ \"google cloud storage\"\r\n12 / Google Drive\r\n   \\ \"drive\"\r\n13 / Hubic\r\n   \\ \"hubic\"\r\n14 / JottaCloud\r\n   \\ \"jottacloud\"\r\n15 / Koofr\r\n   \\ \"koofr\"\r\n16 / Local Disk\r\n   \\ \"local\"\r\n17 / Mega\r\n   \\ \"mega\"\r\n18 / Microsoft Azure Blob Storage\r\n   \\ \"azureblob\"\r\n19 / Microsoft OneDrive\r\n   \\ \"onedrive\"\r\n20 / OpenDrive\r\n   \\ \"opendrive\"\r\n21 / Openstack Swift (Rackspace Cloud Files, Memset Memstore, OVH)\r\n   \\ \"swift\"\r\n22 / Pcloud\r\n   \\ \"pcloud\"\r\n23 / QingCloud Object Storage\r\n   \\ \"qingstor\"\r\n24 / SSH/SFTP Connection\r\n   \\ \"sftp\"\r\n25 / Webdav\r\n   \\ \"webdav\"\r\n26 / Yandex Disk\r\n   \\ \"yandex\"\r\n27 / http Connection\r\n   \\ \"http\"\r\nStorage\u003e 12  #选12选定Google Drive\r\n** See help for drive backend at: https://rclone.org/drive/ **\r\n\r\nGoogle Application Client Id\r\nSetting your own is recommended.\r\nSee https://rclone.org/drive/#making-your-own-client-id for how to create your o                                                                                        wn.\r\nIf you leave this blank, it will use an internal key which is low performance.\r\nEnter a string value. Press Enter for the default (\"\").\r\nclient_id\u003e\r\nGoogle Application Client Secret\r\nSetting your own is recommended.\r\nEnter a string value. Press Enter for the default (\"\").\r\nclient_secret\u003e\r\nScope that rclone should use when requesting access from drive.\r\nEnter a string value. Press Enter for the default (\"\").\r\nChoose a number from below, or type in your own value\r\n 1 / Full access all files, excluding Application Data Folder.\r\n   \\ \"drive\"\r\n 2 / Read-only access to file metadata and file contents.\r\n   \\ \"drive.readonly\"\r\n   / Access to files created by rclone only.\r\n 3 | These are visible in the drive website.\r\n   | File authorization is revoked when the user deauthorizes the app.\r\n   \\ \"drive.file\"\r\n   / Allows read and write access to the Application Data folder.\r\n 4 | This is not visible in the drive website.\r\n   \\ \"drive.appfolder\"\r\n   / Allows read-only access to file metadata but\r\n 5 | does not allow any access to read or download file content.\r\n   \\ \"drive.metadata.readonly\"\r\nscope\u003e 1\r\nID of the root folder\r\nLeave blank normally.\r\nFill in to access \"Computers\" folders. (see docs).\r\nEnter a string value. Press Enter for the default (\"\").\r\nroot_folder_id\u003e\r\nService Account Credentials JSON file path\r\nLeave blank normally.\r\nNeeded only if you want use SA instead of interactive login.\r\nEnter a string value. Press Enter for the default (\"\").\r\nservice_account_file\u003e\r\nEdit advanced config? (y/n)\r\ny) Yes\r\nn) No\r\ny/n\u003e n\r\nRemote config\r\nUse auto config?\r\n * Say Y if not sure\r\n * Say N if you are working on a remote or headless machine\r\ny) Yes\r\nn) No\r\ny/n\u003e n\r\nIf your browser doesn't open automatically go to the following link: https://accounts.google.com/o/oauth2/auth?access_type=offline\u0026client_id=202xxxxxx5644.apps.gc6d8875f163240ea0bf58\r\n#注意网址不能有空格，在浏览器中打开并按提示完成授权，获得code码\r\nEnter verification code\u003e xxxxxxxxxxxxx  #这里填写你刚才获得的code码\r\nConfigure this as a team drive?\r\ny) Yes\r\nn) No\r\ny/n\u003e y\r\ny) Yes this is OK\r\ne) Edit this remote\r\nd) Delete this remote\r\ny/e/d\u003e y\r\nCurrent remotes:\r\n\r\nName                 Type\r\n====                 ====\r\ngd                   googledrive\r\n\r\ne) Edit existing remote\r\nn) New remote\r\nd) Delete remote\r\nr) Rename remote\r\nc) Copy remote\r\ns) Set configuration password\r\nq) Quit config\r\ne/n/d/r/c/s/q\u003e q\r\n\r\n```\r\n\r\n## rclone挂载Microsoft OneDrive\r\n\r\n### 客户端授权\r\n\r\n在本地Windows电脑上下载[rclone](https://rclone.org/downloads) [点我下载rclone客户端](https://downloads.rclone.org/v1.47.0/rclone-v1.47.0-windows-386.zip)\r\n然后解压出来，进入文件夹，按住`shift`键后右击`在此处打开命令窗口`键入\r\n\r\n``` bash\r\nrclone authorize \"onedrive\"\r\n```\r\n\r\n这时会自动打开浏览器按提示登陆授权，当网页显示\r\n\r\n``` bash\r\nSuccess!\r\nAll done. Please go back to rclone.\r\n```\r\n\r\n回到CMD界面\r\n\r\n``` bash\r\nC:\\Users\\Users\u003ecd /d d:\\rclone\r\nd:\\rclone\u003erclone authorize \"onedrive\"\r\n2018/12/24 19:14:35 NOTICE: Config file \"C:\\\\Users\\\\Users\\\\.config\\\\rclone\\\\rclone.conf\" not found - using defaults\r\nIf your browser doesn't open automatically go to the following link: http://127.0.0.1:53682/auth\r\nLog in and authorize rclone for access\r\nWaiting for code...\r\nGot code\r\nPaste the following into your remote machine ---\u003e\r\n{\"access_token\":\"EwBwA8l6BxxxxxxxxxxxxacbtK!VgGItbS7sxc\",\"expiry\":\"2018-12-24T20:15:31.0560991+08:00\"}\r\n\u003c---End paste\r\nd:\\rclone\u003e\r\n```\r\n\r\n其中中括号在内就是VPS挂载所需要的result值，包括**{}**中括号在内\r\n\r\n``` bash\r\n{\"access_token\":\"EwBwA8l6BxxxxxxxxxxxxacbtK!VgGItbS7sxc\",\"expiry\":\"2018-12-24T20:15:31.0560991+08:00\"}\r\n```\r\n\r\n### linux上挂载Microsoft OneDrive\r\n\r\n``` bash\r\nrclone config\r\n```\r\n\r\n开始配置\r\n\r\n``` bash\r\nroot@MonstrousPointed-VM:~# rclone config\r\nCurrent remotes:\r\ne) Edit existing remote\r\nn) New remote\r\nd) Delete remote\r\nr) Rename remote\r\nc) Copy remote\r\ns) Set configuration password\r\nq) Quit config\r\ne/n/d/r/c/s/q\u003e n\r\nname\u003e onedrive    #名字自定义\r\nType of storage to configure.\r\nEnter a string value. Press Enter for the default (\"\").\r\nChoose a number from below, or type in your own value\r\n 1 / A stackable unification remote, which can appear to merge the contents of several remotes\r\n   \\ \"union\"\r\n 2 / Alias for a existing remote\r\n   \\ \"alias\"\r\n 3 / Amazon Drive\r\n   \\ \"amazon cloud drive\"\r\n 4 / Amazon S3 Compliant Storage Providers (AWS, Ceph, Dreamhost, IBM COS, Minio)\r\n   \\ \"s3\"\r\n 5 / Backblaze B2\r\n   \\ \"b2\"\r\n 6 / Box\r\n   \\ \"box\"\r\n 7 / Cache a remote\r\n   \\ \"cache\"\r\n 8 / Dropbox\r\n   \\ \"dropbox\"\r\n 9 / Encrypt/Decrypt a remote\r\n   \\ \"crypt\"\r\n10 / FTP Connection\r\n   \\ \"ftp\"\r\n11 / Google Cloud Storage (this is not Google Drive)\r\n   \\ \"google cloud storage\"\r\n12 / Google Drive\r\n   \\ \"drive\"\r\n13 / Hubic\r\n   \\ \"hubic\"\r\n14 / JottaCloud\r\n   \\ \"jottacloud\"\r\n15 / Local Disk\r\n   \\ \"local\"\r\n16 / Mega\r\n   \\ \"mega\"\r\n17 / Microsoft Azure Blob Storage\r\n   \\ \"azureblob\"\r\n18 / Microsoft OneDrive\r\n   \\ \"onedrive\"\r\n19 / OpenDrive\r\n   \\ \"opendrive\"\r\n20 / Openstack Swift (Rackspace Cloud Files, Memset Memstore, OVH)\r\n   \\ \"swift\"\r\n21 / Pcloud\r\n   \\ \"pcloud\"\r\n22 / QingCloud Object Storage\r\n   \\ \"qingstor\"\r\n23 / SSH/SFTP Connection\r\n   \\ \"sftp\"\r\n24 / Webdav\r\n   \\ \"webdav\"\r\n25 / Yandex Disk\r\n   \\ \"yandex\"\r\n26 / http Connection\r\n   \\ \"http\"\r\nStorage\u003e 18  #Microsoft OneDrive\r\n** See help for onedrive backend at: https://rclone.org/onedrive/ **\r\n\r\nMicrosoft App Client Id\r\nLeave blank normally.\r\nEnter a string value. Press Enter for the default (\"\").\r\nclient_id\u003e\r\nMicrosoft App Client Secret\r\nLeave blank normally.\r\nEnter a string value. Press Enter for the default (\"\").\r\nclient_secret\u003e\r\nEdit advanced config? (y/n)\r\ny) Yes\r\nn) No\r\ny/n\u003e n\r\nRemote config\r\nUse auto config?\r\n * Say Y if not sure\r\n * Say N if you are working on a remote or headless machine\r\ny) Yes\r\nn) No\r\ny/n\u003e n\r\nFor this to work, you will need rclone available on a machine that has a web browser available.\r\nExecute the following on your machine:\r\n        rclone authorize \"onedrive\"\r\nThen paste the result below:\r\nresult\u003e {\"access_token\":\"EwBwA8l6BAAURxxxxxxxxxxxxxxxxxxxxxxxxxxxCMszTZEI27EacbtK!VgGItbS7sxc\",\"expiry\":\"2018-12-24T20:15:31.0560991+08:00\"}\r\n2018/12/24 06:39:03 ERROR : Failed to save new token in config file: section 'od100' not found\r\nChoose a number from below, or type in an existing value\r\n 1 / OneDrive Personal or Business\r\n   \\ \"onedrive\"\r\n 2 / Root Sharepoint site\r\n   \\ \"sharepoint\"\r\n 3 / Type in driveID\r\n   \\ \"driveid\"\r\n 4 / Type in SiteID\r\n   \\ \"siteid\"\r\n 5 / Search a Sharepoint site\r\n   \\ \"search\"\r\nYour choice\u003e 1\r\nFound 1 drives, please select the one you want to use:\r\n0:  (personal) id=xxxxxxxxxxxxxx\r\nChose drive to use:\u003e 0  #0: 这里输入0\r\nFound drive 'root' of type 'personal', URL: https://onedrive.live.com/?cid=e164800991cb8f79\r\nIs that okay?\r\ny) Yes\r\nn) No\r\ny/n\u003e y\r\n--------------------\r\n[onedrive]\r\ntype = onedrive\r\ntoken = {\"access_token\":\"EwBwA8l6BAAURxxxxxxxxxxxxxxxxxxxxxxxxxxxCMszTZEI27EacbtK!VgGItbS7sxc\",\"expiry\":\"2018-12-24T20:15:31.0560991+08:00\"}\r\ndrive_id = xxxxxxxxxxxxxx\r\ndrive_type = personal  #personal个人版,Business挂载方法类似。\r\n--------------------\r\ny) Yes this is OK\r\ne) Edit this remote\r\nd) Delete this remote\r\ny/e/d\u003e y\r\nCurrent remotes:\r\n\r\nName                 Type\r\n====                 ====\r\nonedrive                onedrive\r\n#这里能看到上面自定义名称说明成功了\r\ne) Edit existing remote\r\nn) New remote\r\nd) Delete remote\r\nr) Rename remote\r\nc) Copy remote\r\ns) Set configuration password\r\nq) Quit config\r\ne/n/d/r/c/s/q\u003e q\r\n# 退出\r\n```\r\n\r\n# 配置rclone开机自动挂载为本地磁盘\r\n\r\n``` bash\r\necho \"#!/bin/bash\r\n\r\nPATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin\r\nexport PATH\r\nNAME_BIN=\"rclone\"\r\n### BEGIN INIT INFO\r\n# Provides:          rclone\r\n# Required-Start:    $all\r\n# Required-Stop:     $all\r\n# Default-Start:     2 3 4 5\r\n# Default-Stop:      0 1 6\r\n# Short-Description: Start rclone at boot time\r\n# Description:       Enable rclone by daemon.\r\n### END INIT INFO\r\n\r\nNAME=\"rclone_name\" #rclone name名\r\nREMOTE='/rclone' #远程文件夹，Google Drive网盘里的挂载的一个文件夹\r\nLOCAL='/mnt/gdrive' #VPS本地挂载目录\r\n\r\nGreen_font_prefix=\"\\033[32m\" \u0026\u0026 Red_font_prefix=\"\\033[31m\" \u0026\u0026 Green_background_prefix=\"\\033[42;37m\" \u0026\u0026 Red_background_prefix=\"\\033[41;37m\" \u0026\u0026 Font_color_suffix=\"\\033[0m\"\r\nInfo=\"${Green_font_prefix}[信息]${Font_color_suffix}\"\r\nError=\"${Red_font_prefix}[错误]${Font_color_suffix}\"\r\nRETVAL=0\r\n\r\ncheck_running(){\r\n\tPID=\"$(ps -C $NAME_BIN -o pid= |head -n1 |grep -o '[0-9]\\{1,\\}')\"\r\n\tif [[ ! -z ${PID} ]]; then\r\n\t\treturn 0\r\n\telse\r\n\t\treturn 1\r\n\tfi\r\n}\r\ndo_start(){\r\n\tcheck_running\r\n\tif [[ $? -eq 0 ]]; then\r\n\t\techo -e \"${Info} $NAME_BIN (PID ${PID}) 正在运行...\" \u0026\u0026 exit 0\r\n\telse\r\n\t\tfusermount -zuq $LOCAL \u003e/dev/null 2\u003e\u00261\r\n\t\tmkdir -p $LOCAL\r\n\t\tsudo /usr/bin/rclone mount $NAME:$REMOTE $LOCAL --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000 \u003e/dev/null 2\u003e\u00261 \u0026\r\n\t\tsleep 2s\r\n\t\tcheck_running\r\n\t\tif [[ $? -eq 0 ]]; then\r\n\t\t\techo -e \"${Info} $NAME_BIN 启动成功 !\"\r\n\t\telse\r\n\t\t\techo -e \"${Error} $NAME_BIN 启动失败 !\"\r\n\t\tfi\r\n\tfi\r\n}\r\ndo_stop(){\r\n\tcheck_running\r\n\tif [[ $? -eq 0 ]]; then\r\n\t\tkill -9 ${PID}\r\n\t\tRETVAL=$?\r\n\t\tif [[ $RETVAL -eq 0 ]]; then\r\n\t\t\techo -e \"${Info} $NAME_BIN 停止成功 !\"\r\n\t\telse\r\n\t\t\techo -e \"${Error} $NAME_BIN 停止失败 !\"\r\n\t\tfi\r\n\telse\r\n\t\techo -e \"${Info} $NAME_BIN 未运行\"\r\n\t\tRETVAL=1\r\n\tfi\r\n\tfusermount -zuq $LOCAL \u003e/dev/null 2\u003e\u00261\r\n}\r\ndo_status(){\r\n\tcheck_running\r\n\tif [[ $? -eq 0 ]]; then\r\n\t\techo -e \"${Info} $NAME_BIN (PID $(echo ${PID})) 正在运行...\"\r\n\telse\r\n\t\techo -e \"${Info} $NAME_BIN 未运行 !\"\r\n\t\tRETVAL=1\r\n\tfi\r\n}\r\ndo_restart(){\r\n\tdo_stop\r\n\tdo_start\r\n}\r\ncase \"$1\" in\r\n\tstart|stop|restart|status)\r\n\tdo_$1\r\n\t;;\r\n\t*)\r\n\techo \"使用方法: $0 { start | stop | restart | status }\"\r\n\tRETVAL=1\r\n\t;;\r\nesac\r\nexit $RETVAL\" \u003e\u003e /etc/init.d/rcloned\r\n```\r\n\r\n修改一下内容：\r\n\r\n``` bash\r\nNAME=\"rclone_name\" #rclone name名\r\nREMOTE='/rclone' #远程文件夹，Google Drive网盘里的挂载的一个文件夹\r\nLOCAL='/mnt/gdrive' #VPS本地挂载目录\r\n```\r\n\r\n然后\r\n\r\n``` bash\r\nchmod +x /etc/init.d/rcloned\r\nupdate-rc.d -f rcloned defaults\r\nbash /etc/init.d/rcloned start\r\n```\r\n\r\n重启一下查看是否成功\r\n\r\n``` bash\r\ndf -h\r\n```\r\n\r\n![](/images/df-honedrivegdrive.png)\r\n\r\n\r\n如果上面脚本的挂载失败,可以手动挂载，以onedrive为例:\r\n\r\n先新建一个目录,用于挂载\r\n\r\n``` bash\r\nmkdir -p /mnt/onedrive\r\n```\r\n\r\n挂载命令\r\n\r\n``` bash\r\nrclone mount onedrive: /mnt/onedrive --allow-other --allow-non-empty \r\n--vfs-cache-mode writes\r\n```\r\n\r\n\r\n# 相关命令\r\n\r\n``` bash\r\n### 文件上传\r\nrclone copy /home/backup gdrive:backup # 本地路径 配置名字:谷歌文件夹名字\r\n### 文件下载\r\nrclone copy gdrive:backup /home/backup\r\n### 列表\r\nrclone ls gdrive:backup\r\nrclone lsl gdrive:backup # 比上面多一个显示上传时间\r\nrclone lsd gdrive:backup # 只显示文件夹\r\n### 新建文件夹\r\nrclone mkdir gdrive:backup\r\n### 挂载\r\nrclone mount gdrive:mm /root/mm \u0026\r\n### 卸载\r\nfusermount -u  /root/mm\r\n```\r\n\r\n#### 其他 ####\r\n\r\n``` bash\r\nrclone config - 以控制会话的形式添加rclone的配置，配置保存在.rclone.conf文件中。\r\nrclone copy - 将文件从源复制到目的地址，跳过已复制完成的。\r\nrclone sync - 将源数据同步到目的地址，只更新目的地址的数据。   –dry-run标志来检查要复制、删除的数据\r\nrclone move - 将源数据移动到目的地址。\r\nrclone delete - 删除指定路径下的文件内容。\r\nrclone purge - 清空指定路径下所有文件数据。\r\nrclone mkdir - 创建一个新目录。\r\nrclone rmdir - 删除空目录。\r\nrclone check - 检查源和目的地址数据是否匹配。\r\nrclone ls - 列出指定路径下所有的文件以及文件大小和路径。\r\nrclone lsd - 列出指定路径下所有的目录/容器/桶。\r\nrclone lsl - 列出指定路径下所有文件以及修改时间、文件大小和路径。\r\nrclone md5sum - 为指定路径下的所有文件产生一个md5sum文件。\r\nrclone sha1sum - 为指定路径下的所有文件产生一个sha1sum文件。\r\nrclone size - 获取指定路径下，文件内容的总大小。.\r\nrclone version - 查看当前版本。\r\nrclone cleanup - 清空remote。\r\nrclone dedupe - 交互式查找重复文件，进行删除/重命名操作。\r\n```\r\n\r\n\r\n\r\n挂载服务器\r\n\r\n``` bash\r\napt-get install -y nload htop fuse p7zip-full\r\n```\r\n \r\n# 挂载为磁盘\r\n\r\n``` bash\r\nrclone mount DriveName:Folder LocalFolder --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000\r\n```\r\n \r\n# 卸载磁盘\r\n\r\n``` bash\r\nfusermount -qzu LocalFolder\r\n```\r\n\r\n\r\n","cover":"","link":"linux-vps-rclone-googledrive-microsoftonedrive.html","preview":"","title":"在Linux_VPS上使用rclone挂载GoogleDrive云端硬盘和MicrosoftOneDrive"},{"content":"\r\n\r\n\u003e https://shadowsocks.be/9.html\r\n\r\n# 安装\r\n\r\n``` bash\r\nwget --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocksR.sh\r\nchmod +x shadowsocksR.sh\r\n./shadowsocksR.sh 2\u003e\u00261 | tee shadowsocksR.log\r\n```\r\n\r\n如果链接失效可以使用下面的\r\n\r\n``` bash\r\nwget --no-check-certificate https://567899.xyz/bash/shadowsocksR.sh\r\nchmod +x shadowsocksR.sh\r\n./shadowsocksR.sh 2\u003e\u00261 | tee shadowsocksR.log\r\n```\r\n\r\n使用命令：\r\n\r\n``` bash\r\n启动：/etc/init.d/shadowsocks start\r\n停止：/etc/init.d/shadowsocks stop\r\n重启：/etc/init.d/shadowsocks restart\r\n状态：/etc/init.d/shadowsocks status\r\n配置文件路径：/etc/shadowsocks.json\r\n日志文件路径：/var/log/shadowsocks.log\r\n代码安装目录：/usr/local/shadowsocks\r\n卸载方法：./shadowsocksR.sh uninstall\r\n```\r\n\r\n安装完成后即已后台启动 ShadowsocksR ，运行：\r\n\r\n``` bash\r\n/etc/init.d/shadowsocks status\r\n```\r\n\r\n\r\n**多端口配置示范**\r\n\r\n``` bash\r\n{\r\n    \"server\":\"0.0.0.0\",\r\n    \"server_ipv6\":\"[::]\",\r\n    \"local_address\":\"127.0.0.1\",\r\n    \"local_port\":1080,\r\n    \"port_password\":{\r\n    \"80\":\"password1\",\r\n    \"8770\":\"password2\",\r\n    \"8451\":\"password3\"\r\n},\r\n    \"timeout\":120,\r\n    \"method\":\"chacha20\",\r\n    \"protocol\":\"auth_sha1_v4_compatible\",\r\n    \"protocol_param\":\"\",\r\n    \"obfs\":\"http_simple_compatible\",\r\n    \"obfs_param\":\"\",\r\n    \"redirect\":\"*:80#127.0.0.1:81\",\r\n    \"dns_ipv6\":false,\r\n    \"fast_open\":false,\r\n    \"workers\":1\r\n}\r\n```\r\n\r\n\r\n``` bash\r\n\"redirect\":\"*:80#127.0.0.1:81\"\r\n```\r\n\r\n上面的代码是设定shadowsocksR本地端口转发\r\n\r\n","cover":"","link":"shadowsocksr.html","preview":"","title":"秋水逸冰一键shadowsocksR"},{"content":"\r\n\r\n[Caddy](https://caddyserver.com) - The HTTP/2 Web Server with Automatic HTTPS\r\n\r\n- go语言一个二进制单文件就是服务端\r\n- 自动申请[Let's Encrypt](https://letsencrypt.org)免费的SSL/TLS证书,自动续期。\r\n\r\n### Caddy一键安装脚本\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/ToyoDAdoubiBackup/master/caddy_install.sh \u0026\u0026 chmod +x caddy_install.sh \u0026\u0026 bash caddy_install.sh\r\n```\r\n\r\n- caddy_conf_file=\"/usr/local/caddy/Caddyfile\" \r\n- 日志文件：cat /tmp/caddy.log \r\n- 使用说明：service caddy start | stop | restart | status \r\n- 或者使用：/etc/init.d/caddy start | stop | restart | status \r\n\r\n\r\n\r\n### 反代[Google](https://www.google.com)\r\n\r\n``` bash\r\necho \"google.yourdomains.com {\r\n gzip\r\n tls xxxx@xxx.xx\r\n proxy / https://www.google.com\r\n}\" \u003e\u003e /usr/local/caddy/Caddyfile\r\n```\r\n\r\n同样我们可以使用此这个方法、等其它被精准扶贫的网站\r\n\r\n### 反代[YouTube](https://www.youtube.com)\r\n\r\n``` bash\r\necho \"youtube.yourdomains.com {\r\n gzip\r\n tls xxxx@xxx.xx\r\n proxy / https://www.youtube.com\r\n}\" \u003e\u003e /usr/local/caddy/Caddyfile\r\n```\r\n\r\n重启Caddy生效\r\n\r\n``` bash\r\n/etc/init.d/caddy restart\r\n```\r\n\r\n### 反代[维基百科](https://zh.wikipedia.org/wiki/Wiki)\r\n\r\n``` bash\r\necho \"wiki.yourdomains.com {\r\n gzip\r\n tls xxxx@xxx.xx\r\n proxy / https://zh.wikipedia.org/wiki/Wiki\r\n}\" \u003e\u003e /usr/local/caddy/Caddyfile\r\n```\r\n\r\n### Nginx反代设置\r\n\r\n``` bash\r\n        location / {\r\n                proxy_pass              https://www.google.com/;\r\n                proxy_redirect          off;\r\n                proxy_set_header        X-Real-IP       $remote_addr;\r\n                proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;\r\n                sub_filter_once off;\r\n                }\r\n```\r\n","cover":"","link":"nginx-caddy-proxy-google-youtube-wikipedia.html","preview":"\u003cp\u003e\u003ca href=\"https://caddyserver.com\"\u003eCaddy\u003c/a\u003e - The HTTP/2 Web Server with Automatic HTTPS\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ego语言一个二进制单文件就是服务端\u003c/li\u003e\n\u003cli\u003e自动申请\u003ca href=\"https://letsencrypt.org\"\u003eLet\u0026rsquo;s Encrypt\u003c/a\u003e免费的SSL/TLS证书,自动续期。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003eCaddy一键安装脚本\u003c/h3\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003ewget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/ToyoDAdoubiBackup/master/caddy_install.sh \u0026amp;\u0026amp; chmod +x caddy_install.sh \u0026amp;\u0026amp; bash caddy_install.sh\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cul\u003e\n\u003cli\u003ecaddy_conf_file=\u0026ldquo;/usr/local/caddy/Caddyfile\u0026rdquo;\u003c/li\u003e\n\u003cli\u003e日志文件：cat /tmp/caddy.log\u003c/li\u003e\n\u003cli\u003e使用说明：service caddy start | stop | restart | status\u003c/li\u003e\n\u003cli\u003e或者使用：/etc/init.d/caddy start | stop | restart | status\u003c/li\u003e\n\u003c/ul\u003e\n","title":"利用Caddy,Nginx反向代理谷歌YouTube等网站"},{"content":"\r\n\r\n\r\n\u003e gitbook安装使用插件教程\r\n\r\n### 安装gitbook\r\n先下载安装[Node.js](https://nodejs.org/zh-cn/),然后\r\n\r\n``` bash\r\nnpm install -g gitbook-cli\r\ngitbook init\r\ngitbook install ./\r\ngitbook build\r\ngitbook serve\r\n```\r\n\r\n提示如下\r\n\r\n``` bash\r\nD:\\gitbook\u003egitbook serve\r\nLive reload server started on port: 35729\r\nPress CTRL+C to quit ...\r\n\r\ninfo: 7 plugins are installed\r\ninfo: loading plugin \"livereload\"... OK\r\ninfo: loading plugin \"highlight\"... OK\r\ninfo: loading plugin \"search\"... OK\r\ninfo: loading plugin \"lunr\"... OK\r\ninfo: loading plugin \"sharing\"... OK\r\ninfo: loading plugin \"fontsettings\"... OK\r\ninfo: loading plugin \"theme-default\"... OK\r\ninfo: found 5 pages\r\ninfo: found 4 asset files\r\ninfo: \u003e\u003e generation finished with success in 1.0s !\r\n\r\nStarting server ...\r\nServing book on http://localhost:4000\r\n```\r\n\r\n你可以你的浏览器中打开这个网址： (http://localhost:4000)  预览\r\n\r\n\r\n### 创建配置`book.json`\r\n\r\n``` bash\r\n{\r\n    \"title\": \"站点标题\",\r\n    \"author\": \"作者\",\r\n    \"description\": \"网站描述\",\r\n\t\"keywords\": \"关键字1,关键字2,keyword3\",\r\n    \"language\": \"zh-hans\",\r\n    \"gitbook\": \"3.2.3\",\r\n    \"styles\": {\r\n        \"website\": \"./styles/website.css\"\r\n    },\r\n    \"structure\": {\r\n        \"readme\": \"README.md\"\r\n    },\r\n\t\"links\": {\r\n        \"sharing\": {\r\n            \"all\"      : true,\r\n            \"google\"   : true,\r\n            \"facebook\" : true,\r\n            \"twitter\"  : true,\r\n            \"weibo\"    : true,\r\n            \"qq\"       : true,\r\n            \"qrcode\"   : true\r\n        }\r\n    },\r\n    \"links\": {\r\n        \"sidebar\": {\r\n            \"链接网站\": \"https://github.com\"\r\n        }\r\n    },\r\n    \"plugins\": [\r\n\t\t\"-livereload\",\r\n\t\t\"-highlight\",\r\n\t\t\"search\",\r\n\t\t\"-lunr\",\r\n\t\t\"sharing\",\r\n\t\t\"fontsettings\",\r\n\t\t\"theme-default\",\r\n\t\t\"copy-code-button\",\r\n\t\t\"anchor-navigation-ex\",\r\n\t\t\"donate\"\r\n    ],\r\n    \"pluginsConfig\": {\r\n        \"anchor-navigation-ex\": {\r\n            \"isRewritePageTitle\": true,\r\n            \"isShowTocTitleIcon\": true,\r\n            \"tocLevel1Icon\": \"fa fa-hand-o-right\",\r\n            \"tocLevel2Icon\": \"fa fa-hand-o-right\",\r\n            \"tocLevel3Icon\": \"fa fa-hand-o-right\"\r\n        },\r\n\t\t\"donate\": {\r\n          \"wechat\": \"/images/wechatpay.jpg\",\r\n          \"alipay\": \"/images/alipay.jpg\",\r\n          \"title\": \"\",\r\n          \"button\": \"Donate\",\r\n          \"alipayText\": \"支付宝捐赠\",\r\n          \"wechatText\": \"微信捐赠\"\r\n        }\r\n\r\n    }\r\n\t\r\n}\r\n```\r\n\r\n### 配置`SUMMARY.md`示范演示\r\n\r\n``` bash\r\n# Summary\r\n\r\n* [Introduction](README.md)\r\n* [基本安装](howtouse/README.md)\r\n   * [Node.js安装](howtouse/nodejsinstall.md)\r\n   * [Gitbook安装](howtouse/gitbookinstall.md)\r\n   * [Gitbook命令行速览](howtouse/gitbookcli.md)\r\n```\r\n\r\n使用Markdown语法创建编辑`xxx.md`\r\n\r\n然后安装所需要的插件\r\n\r\n``` bash\r\ngitbook install\r\n```\r\n\r\n运行\r\n\r\n``` bash\r\ngitbook build\r\ngitbook serve\r\n```\r\n\r\n\r\n","cover":"","link":"gitbook-install-plugin.html","preview":"","title":"gitbook安装和插件的使用"},{"content":"\r\n\r\n \r\n在debian ubuntu x64上测试通过 [其它系统frp下载](https://github.com/fatedier/frp/releases)\r\n\r\n假设你的IPV4地址为11.22.33.44 假设是以ROOT用户登陆并在root用户默认目录下\r\n\r\n\r\n### 下载安装frp\r\n\r\n``` bash\r\nwget -N -O frp.tar.gz https://github.com/fatedier/frp/releases/download/v0.23.1/frp_0.23.1_linux_amd64.tar.gz\r\ntar -zxvf frp.tar.gz\r\nmv frp_0.23.1_linux_amd64 frp\r\n```\r\n### 配置frps服务端\r\n修改文件frp/frps.ini服务端配置文件,按需要添加删减,示范如下\r\n\r\n\r\n\r\n\r\n``` bash\r\necho \"privilege_token = 12345\r\nvhost_http_port = 800\r\n\r\n[ssh]\r\nlisten_port = 6000\r\n\r\n[ftp]\r\nlisten_port = 221\r\n\r\n[aria2]\r\nlisten_port = 6844\r\n\r\n[websocket]\r\nlisten_port = 4567\" \u003e\u003e frp/frps.ini\r\n```\r\n\r\n### 配置frpc客户端\r\n``` bash\r\nserver_port = 7000\r\nprivilege_token = 12345\r\nvhost_http_port = 800\r\n\r\n[ssh]\r\ntype = tcp\r\nlocal_ip = 127.0.0.1\r\nlocal_port = 22\r\nremote_port = 6000\r\n\r\n[web]\r\ntype = http\r\nlocal_ip = 127.0.0.1\r\nlocal_port = 80\r\ncustom_domains = www.yourdomain.com\r\n\r\n[ftp]\r\ntype = tcp\r\nlocal_ip = 127.0.0.1\r\nlocal_port = 21\r\nremote_port = 221\r\n\r\n[aria2]\r\ntype = tcp\r\nlocal_ip = 127.0.0.1\r\nlocal_port = 6800\r\nremote_port = 6844\r\n```\r\n\r\n### 设置开机自动启动frp服务\r\n\r\n添加自启文件\r\n``` bash\r\necho \"[Unit]\r\nDescription=frps daemon\r\nAfter=syslog.target network.target\r\nWants=network.target\r\n\r\n[Service]\r\nType=simple\r\nExecStart=/root/frp/frps -c /root/frp/frps.ini\r\nRestart= always\r\nRestartSec=1min\r\n\r\n[Install]\r\nWantedBy=multi-user.target\" \u003e /etc/systemd/system/frps.service\r\n```\r\n#### 启动并设为开机自启\r\n``` bash\r\nsystemctl enable frps\r\n```\r\n\r\n#### 启动frps\r\n\r\n``` bash\r\nsystemctl start frps\r\n```\r\n\r\n#### 状态查询\r\n\r\n``` bash\r\nsystemctl status frps\r\n```\r\n\r\n### 其它\r\n\r\n如果使用的是自定义配置文件，经测试在koolshare_LEDE_X86路由器固件中不能开机启动frpc客户端\r\n需要在**[common]**添加以下代码即可\r\n\r\n``` bash\r\nlogin_fail_exit = false\r\ntcp_mux = true\r\nlog_file = /dev/null\r\nlog_level = error\r\nlog_max_days = 1\r\n```\r\n\r\n\r\n","cover":"","link":"frps-service-install.html","preview":"\u003cp\u003e在debian ubuntu x64上测试通过 \u003ca href=\"https://github.com/fatedier/frp/releases\"\u003e其它系统frp下载\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e假设你的IPV4地址为11.22.33.44 假设是以ROOT用户登陆并在root用户默认目录下\u003c/p\u003e\n\n\u003ch3\u003e下载安装frp\u003c/h3\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003ewget -N -O frp.tar.gz https://github.com/fatedier/frp/releases/download/v0.23.1/frp_0.23.1_linux_amd64.tar.gz\ntar -zxvf frp.tar.gz\nmv frp_0.23.1_linux_amd64 frp\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch3\u003e配置frps服务端\u003c/h3\u003e\n\n\u003cp\u003e修改文件frp/frps.ini服务端配置文件,按需要添加删减,示范如下\u003c/p\u003e\n","title":"搭建配置frps内网穿透服务端开机自启"},{"content":"\r\n\r\n# 更新\r\n\r\n``` bash\r\n【2018.10.30】\r\n这里分享下萌咖大佬的Aira2上传脚本，不过是精简版，全能版暂不分享，精简版包含以下功能：\r\n1、脚本适用于Rclone挂载的网盘，比如Onedrive/Google Drive等。\r\n2、判断上传文件的文件大小区间。\r\n限制最低上传大小：可防止产生的.aria2后缀文件一起上传到网盘。\r\n限制最高文件大小：适用于Onedrive等，官方限制上传不能超过15G，其它可自行更改其数值。\r\n3、支持文件名中包含空格等特殊字符。\r\n```\r\n\r\n\r\n# 脚本说明: Aria2 一键安装管理脚本\r\n\r\n系统支持: CentOS6+ / Debian6+ / Ubuntu14+\r\n\r\n``` bash\r\nwget -N --no-check-certificate https://raw.githubusercontent.com/ojbk8/doubi/master/aria2.sh \u0026\u0026 chmod +x aria2.sh \u0026\u0026 bash aria2.sh\r\n```\r\n\r\n\u003e Aria2下载为什么会多出一个.aria2后缀的文件？\r\n\r\n找到force-save参数，进行设置\r\n\r\n`force-save=true` 会保存文件下载历史,但会在下载目录产生同名.aria2文件\r\n\r\n`force-save=false`不产生同名.aria2文件,同时也不能能保存下载历史\r\n\r\n\r\n# 使用方法\r\n\r\n原理是当下载完后`aria2`会给脚本传3个参数`$1`、`$2`、`$3`分别为`gid`、文件数量、文件路径。我们对文件路径这个字符串处理一番就可以达到目的了。\r\n\r\n新建脚本文件`rcloneupload.sh`并复制下面代码：\r\n\r\n``` bash\r\n#!/bin/bash\r\ndownloadpath='/root/Download' #需要上传的目录，Aria2下载目录\r\nname='rclonename' #配置Rclone时填写的name\r\nfolder='/rclone' #网盘里的文件夹，留空为整个网盘。\r\nMinSize='0.01k' #限制最低上传大小，默认10k，BT下载时可防止上传其他无用文件。会删除文件，谨慎设置。\r\nMaxSize='15G' #限制最高文件大小，默认15G，OneDrive上传限制。\r\n\r\nfilepath=$3 #Aria2传递给脚本的原始路径，如果是单文件则为/root/Download/1.mp4，如果是文件夹则该值为文件夹内第一个文件比如/root/Download/a/b/1.mp4\r\nrdp=${filepath#${downloadpath}/} #路径转换，去掉开头的下载路径。\r\npath=${downloadpath}/${rdp%%/*} #文件或文件夹路径。如果是单个文件，应与原始路径一致。\r\n\r\nif [ $2 -eq 0 ]\r\n\tthen\r\n\t\texit 0\r\nfi\r\n\r\nwhile true; do\r\nif [ \"$path\" = \"$filepath\" ] \u0026\u0026 [ $2 -eq 1 ] #如果下载的是单个文件\r\n\tthen\r\n\trclone move -v \"$filepath\" ${name}:${folder} --min-size $MinSize --max-size $MaxSize\r\n\trm -vf \"$filepath\".aria2 #删除残留的.aria.2文件\r\n\texit 0\r\nelif [ \"$path\" != \"$filepath\" ] #如果下载的是文件夹\r\n\tthen\r\n\twhile [[ \"`ls -A \"$path/\"`\" != \"\" ]]; do\r\n\trclone move -v \"$path\" ${name}:\"${folder}\"/\"${rdp%%/*}\" --min-size $MinSize --max-size $MaxSize --delete-empty-src-dirs\r\n\trclone delete -v \"$path\" --max-size $MinSize #删除多余的文件\r\n\trclone rmdirs -v \"$downloadpath\" --leave-root #删除空目录，--delete-empty-src-dirs参数已实现，加上无所谓。\r\n\tdone\r\n\trm -vf \"$path\".aria2 #删除残留的.aria2文件\r\n\texit 0\r\nfi\r\ndone\r\n```\r\n\r\n或者\r\n\r\n\r\n``` bash\r\n#!/bin/bash\r\n\r\nGID=\"$1\";\r\nFileNum=\"$2\";\r\nFile=\"$3\";\r\nMinSize=\"5\"  #限制最低上传大小，默认5k\r\nMaxSize=\"157286400\"  #限制最高文件大小(单位k)，默认15G\r\nRemoteDIR=\"/RATS/\";  #rclone挂载的本地文件夹，最后面保留/\r\nLocalDIR=\"/download/\";  #Aria2下载目录，最后面保留/\r\n\r\nif [[ -z $(echo \"$FileNum\" |grep -o '[0-9]*' |head -n1) ]]; then FileNum='0'; fi\r\nif [[ \"$FileNum\" -le '0' ]]; then exit 0; fi\r\nif [[ \"$#\" != '3' ]]; then exit 0; fi\r\n\r\nfunction LoadFile(){\r\n  IFS_BAK=$IFS\r\n  IFS=$'\\n'\r\n  if [[ ! -d \"$LocalDIR\" ]]; then return; fi\r\n  if [[ -e \"$File\" ]]; then\r\n    FileLoad=\"${File/#$LocalDIR}\"\r\n    while true\r\n      do\r\n        if [[ \"$FileLoad\" == '/' ]]; then return; fi\r\n        echo \"$FileLoad\" |grep -q '/';\r\n        if [[ \"$?\" == \"0\" ]]; then\r\n          FileLoad=$(dirname \"$FileLoad\");\r\n        else\r\n          break;\r\n        fi;\r\n      done;\r\n    if [[ \"$FileLoad\" == \"$LocalDIR\" ]]; then return; fi\r\n    EXEC=\"$(command -v mv)\"\r\n    if [[ -z \"$EXEC\" ]]; then return; fi\r\n    Option=\" -f\";\r\n    cd \"$LocalDIR\";\r\n    if [[ -e \"$FileLoad\" ]]; then\r\n      ItemSize=$(du -s \"$FileLoad\" |cut -f1 |grep -o '[0-9]*' |head -n1)\r\n      if [[ -z \"$ItemSize\" ]]; then return; fi\r\n      if [[ \"$ItemSize\" -le \"$MinSize\" ]]; then\r\n        echo -ne \"\\033[33m$FileLoad \\033[0mtoo small to spik.\\n\";\r\n        return;\r\n      fi\r\n      if [[ \"$ItemSize\" -ge \"$MaxSize\" ]]; then\r\n        echo -ne \"\\033[33m$FileLoad \\033[0mtoo large to spik.\\n\";\r\n        return;\r\n      fi\r\n      eval \"${EXEC}${Option}\" \\'\"${FileLoad}\"\\' \"${RemoteDIR}\";\r\n    fi\r\n  fi\r\n  IFS=$IFS_BAK\r\n}\r\nLoadFile;\r\n```\r\n\r\n\r\n\r\n\r\n授权\r\n\r\n``` bash\r\nchmod +x rcloneupload.sh\r\n```\r\n\r\n然后再到Aria2配置文件中加上一行\r\n\r\n``` bash\r\non-download-complete=/root/rcloneupload.sh\r\n```\r\n\r\n即可，后面为脚本的路径。最后重启Aria2生效。\r\n\r\n\r\n转载自： https://www.moerats.com/archives/482/\r\n","cover":"","link":"aira2-uploads-googledrive-onedrive.html","preview":"\u003cp\u003e离线下载Aira2\u003c/p\u003e\n","title":"使用Aira2下载文件后自动上传到GoogleDrive网盘onedrive"},{"content":"\r\n\r\n### 生成密钥对\r\n\r\n``` bash\r\nssh-keygen\r\n```\r\n\r\n* `id_rsa`为私钥文件(保存在client)\r\n* `id_rsa.pub`为公钥(用于追加到server的用户目录`/.ssh/authorized_keys`文件中)\r\n\r\n### 下载数据\r\n\r\n``` bash\r\nscp -i ~/.ssh/id_rsa -r root@server_ip:/var/www/ /var/www/\r\n```\r\n\r\n### 上传数据\r\n\r\n``` bash\r\nscp -i ~/.ssh/id_rsa -r /var/www/ root@server_ip:/var/www/\r\n```\r\n\r\n### ssh登录\r\n\r\n``` bash\r\nssh user@host\r\n```\r\n\r\n### 其它\r\n\r\n\r\n\r\nssh使用RSA密钥对登录也是同理，service名称为sshd,配置文件为`/etc/ssh/sshd_config`\r\n\r\n\r\n``` bash\r\nchmod -R 700 ~/.ssh/ \r\nchmod 600 ~/.ssh/authorized_keys\r\n``` \r\n\r\n\r\n\r\n\r\n\r\n### 指定端口\r\n\r\n`-P`: 大写的P, 指定端口号 \r\n\r\n``` bash \r\nscp -P 788 -i ~/.ssh/id_rsa -r /var/www/ root@server_ip:/var/www/\r\n```\r\n","cover":"","link":"linux_ssh_scp_id_rsa.html","preview":"","title":"Linux下scp使用RSA秘钥传输数据Scp命令免密码远程下载上传"},{"content":"\r\n\r\n### 备份hexo原始配置文件\r\n压缩打包备份原始的hexo配置文件scaffolds, source, themes 和 _config.yml\r\n### 在新电脑上重新布署安装一次hexo\r\n\r\n``` bash\r\ncd /d\r\nnpm install hexo-cli -g\r\nhexo init blog\r\ncd blog\r\nnpm install\r\nnpm install hexo-deployer-git --save\r\ngit init\r\nnpm install hexo-generator-feed --save\r\nnpm install hexo-generator-sitemap --save\r\nnpm install hexo-generator-baidu-sitemap --save\r\nnpm install hexo-generator-searchdb --save\r\ngit clone https://github.com/iissnan/hexo-theme-next themes/next\r\n```\r\n\r\n然后覆盖替换掉原有的文件scaffolds, source, themes 和 _config.yml\r\n\r\n\u003c!-- more --\u003e\r\n### hexo远程同步到github\r\n[登陆GitHub](https://github.com/login)并创建分支为username.github.io 可以点击[Join GitHub](https://github.com/join?source=header-home)注册账号\r\n\r\n``` bash\r\ngit config --global user.name \"username\"\r\ngit config --global user.email \"youremail@gmail.com\"\r\nssh-keygen -t rsa -C 'youremail@gmail.com'\r\n```\r\n\r\nYour public key has been saved in /c/Users/admin/.ssh/id_rsa.pub.\r\n按提示一路回车即可以得到KEY,并收到邮件提醒。\r\n用文本编辑器打开/c/Users/admin/.ssh/id_rsa.pub这个文件将里面的所有文本文字\r\n复制到repo－Settings－Deploy keys－Add deploy key中，Title可以随便填写\r\n回到Git Bash\r\n\r\n``` bash\r\nssh -T git@github.com\r\n```\r\n\r\n测试是否连接成功，如果能看到\r\n\r\nHi username/username.github.io! You've successfully authenticated, but GitHub does not provide shell access.\r\n即表示连接成功了。\r\n\r\n``` bash\r\ngit remote add origin git@github.com:username/username.github.io.git\r\ngit commit -m \"自定义描述\"\r\ngit push -u origin master\r\n```\r\n\r\n### hexo开启github远程同步文件\r\n\r\n``` bash\r\ngit add .\r\ngit commit -m ‘在新电脑上提交新文章’ #(引号内容可改)\r\ngit push\r\n```\r\n\r\n``` bash\r\nhexo clean\r\nhexo g\r\nhexo d\r\n```\r\n","cover":"","link":"hexo-backup-synchronize-edit.html","preview":"","title":"hexo备份更换设备后同步编辑"},{"content":"\r\n\r\n建议单独托管在github上，因为国内大环境背景下，你懂的啦！\r\n\r\n![](/images/coding-domain-Filing.png)\r\n\r\n### 域名解析\r\n\r\n登陆[DNSPOD控制台](https://www.dnspod.cn)  在域名添加2条记录值\r\n\r\n|记录类型|线路类型|记录值|\r\n|----|----|----|\r\n|CNAME|国外|username.github.io|\r\n|CNAME|国内|username.coding.me|\r\n\r\n\r\n\r\n### 配置文件\r\n在`_config.yml`站点配置文件中添加配置：\r\n\r\n``` bash\r\n# Deployment\r\n# Docs: https://hexo.io/docs/deployment.html\r\ndeploy:\r\n- type: git\r\n  repo: git@github.com:username/username.github.io.git\r\n  branch: master\r\n- type: git\r\n  repo: git@git.coding.net:username/username.coding.me.git\r\n  branch: master\r\n```\r\n\r\n然后执行`hexo deploy`完成。\r\n","cover":"","link":"hexo-github-coding-sync-diversion.html","preview":"\u003cp\u003e建议单独托管在github上，因为国内大环境背景下，你懂的啦！\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nd3d4aGhri4uGlpaQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkHAAAAIf4aQ3JlYXRlZCB3aXRoIGFqYXhsb2FkLmluZm8AIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOw==\" data-src=\"/images/coding-domain-Filing.png\" alt=\"\" /\u003e\u003c/p\u003e\n\n\u003ch3\u003e域名解析\u003c/h3\u003e\n\n\u003cp\u003e登陆\u003ca href=\"https://www.dnspod.cn\"\u003eDNSPOD控制台\u003c/a\u003e  在域名添加2条记录值\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e记录类型\u003c/th\u003e\n\u003cth\u003e线路类型\u003c/th\u003e\n\u003cth\u003e记录值\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eCNAME\u003c/td\u003e\n\u003ctd\u003e国外\u003c/td\u003e\n\u003ctd\u003eusername.github.io\u003c/td\u003e\n\u003c/tr\u003e\n\n\u003ctr\u003e\n\u003ctd\u003eCNAME\u003c/td\u003e\n\u003ctd\u003e国内\u003c/td\u003e\n\u003ctd\u003eusername.coding.me\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n","title":"hexo同步布署在github-coding并实现国内外自动分流"},{"content":"\r\n\r\n\r\n## crond简介\r\n\r\ncrond是linux定时执行计划任务\r\n\r\nLinux下的任务调度分为两类，系统任务调度和用户任务调度。\r\n\r\n### 系统任务\r\n\r\n配置文件`/etc/crontab`\r\n\r\n``` bash\r\nnano /etc/crontab\r\n```\r\n\r\n### 用户任务\r\n\r\n``` bash\r\ncrontab -e\r\n```\r\n\r\n## crontab文件的含义\r\n\r\n用户所建立的crontab文件中，每一行都代表一项任务，每行的每个字段代表一项设置，它的格式共分为六个字段，前五段是时间设定段，第六段是要执行的命令段，格式如下：\r\n\r\nminute   hour   day   month   week   command\r\n\r\n![](/images/crontab.png)\r\n\r\n其中：\r\n\r\n- minute： 表示分钟，可以是从0到59之间的任何整数。\r\n- hour：表示小时，可以是从0到23之间的任何整数。\r\n- day：表示日期，可以是从1到31之间的任何整数。\r\n- month：表示月份，可以是从1到12之间的任何整数。\r\n- week：表示星期几，可以是从0到7之间的任何整数，这里的0或7代表星期日。\r\n- command：要执行的命令，可以是系统命令，也可以是自己编写的脚本文件。\r\n\r\n在以上各个字段中，还可以使用以下特殊字符：\r\n\r\n- 星号（*）：代表所有可能的值，例如month字段如果是星号，则表示在满足其它字段的制约条件后每月都执行该命令操作。\r\n- 逗号（,）：可以用逗号隔开的值指定一个列表范围，例如，“1,2,5,7,8,9”\r\n- 中杠（-）：可以用整数之间的中杠表示一个整数范围，例如“2-6”表示“2,3,4,5,6”\r\n- 正斜线（/）：可以用正斜线指定时间的间隔频率，例如“0-23/2”表示每两小时执行一次。同时正斜线可以和星号一起使用，例如*/10，如果用在minute字段，表示每十分钟执行一次。\r\n\r\n\r\n## 管理crontab进程\r\n\r\n重启\r\n\r\n``` bash\r\n/etc/init.d/cron restart\r\n```\r\n\r\n或者\r\n\r\n``` bash\r\nsystemctl restart cron\r\n```\r\n\r\n或者\r\n\r\n``` bash\r\nsystemctl restart cron.service\r\n```\r\n\r\n状态查询\r\n\r\n``` bash\r\nservice cron status\r\n```\r\n\r\n或者\r\n\r\n``` bash\r\nsystemctl status cron\r\n```\r\n\r\n\r\n列出crontab文件\r\n\r\n``` bash\r\ncrontab -l\r\n```\r\n\r\n删除crontab文件\r\n\r\n``` bash\r\ncrontab -r\r\n```\r\n\r\n","cover":"","link":"crontab.html","preview":"","title":"Crontab定时执行计划任务"},{"content":"\r\n\r\n查看内核版本\r\n\r\n``` bash\r\nuname -r\r\n```\r\n\r\nBBR要求内核为kernel4.9以上版本。\r\n\r\n如果大于或等于4.9的可以直接开启BBR,开启步骤如下\r\n\r\n配置文件\r\n\r\n``` bash\r\necho \"net.core.default_qdisc=fq\" \u003e\u003e /etc/sysctl.conf\r\necho \"net.ipv4.tcp_congestion_control=bbr\" \u003e\u003e /etc/sysctl.conf\r\n```\r\n\r\n加载配置到内核参数中\r\n\r\n``` bash\r\nsysctl -p\r\nsysctl net.ipv4.tcp_available_congestion_control\r\n```\r\n\r\n顺利的话下面的命令就能看到bbr模块了\r\n\r\n``` bash\r\nlsmod | grep bbr\r\n```\r\n\r\n``` bash\r\nsysctl net.ipv4.tcp_available_congestion_control\r\n```\r\n\r\n返回值一般为：\r\n\r\n``` bash\r\nnet.ipv4.tcp_available_congestion_control = bbr cubic reno\r\n```\r\n\r\n``` bash\r\nsysctl net.ipv4.tcp_congestion_control\r\n```\r\n\r\n返回值一般为：\r\n\r\n``` bash\r\nnet.ipv4.tcp_congestion_control = bbr\r\n```\r\n\r\n``` bash\r\nsysctl net.core.default_qdisc\r\n```\r\n\r\n返回值一般为：\r\n\r\n``` bash\r\nnet.core.default_qdisc = fq\r\n```\r\n\r\n如果内核版本低于4.9的需要手动升级到4.9或以上才能开启\r\n\r\n去这里[下载最新版的内核 deb 安装包](https://kernel.ubuntu.com/~kernel-ppa/mainline/)\r\n\r\n1. 如果系统是 64 位，则下载 amd64 的 linux-image 中含有 generic 这个 deb 包；\r\n2. 如果系统是 32 位，则下载 i386 的 linux-image 中含有 generic 这个 deb 包；\r\n\r\n安装的命令如下（以最新版的 64 位 4.12.4 举例而已，请替换为下载好的 deb 包）：\r\n\r\n``` bash\r\nwget https://kernel.ubuntu.com/~kernel-ppa/mainline/v4.12.4/linux-image-4.12.4-041204-generic_4.12.4-041204.201707271932_amd64.deb\r\ndpkg -i linux-image-4.12.4-041204-generic_4.12.4-041204.201707271932_amd64.deb\r\n```\r\n\r\n安装完成后，再执行命令：\r\n\r\n``` bash\r\n/usr/sbin/update-grub\r\n```\r\n\r\n最后，重启 VPS 即可。\r\n\r\n``` bash\r\nreboot\r\n```\r\n","cover":"","link":"debian-ubuntu-kernel-update-bbr.html","preview":"","title":"Debian/Ubuntu系统手动更新内核并启用TCP BBR拥塞控制算法"},{"content":"\r\n\r\n项目地址： https://github.com/donwa/oneindex\r\n\r\n功能：\r\n\r\n* 不占用服务器空间，不走服务器流量；\r\n* 直接列出 OneDrive 目录，文件直链下载。\r\n\r\n源码安装运行需求：\r\n\r\n1. PHP空间，PHP 5.6+ 需打开curl支持\r\n2. OneDrive 账号 (个人、企业版或教育版/工作或学校帐户)\r\n3. OneIndex 程序\r\n\r\n# Oneindex程序安装失败解决办法\r\n\r\n打开这个网址https://apps.dev.microsoft.com/#/appList\r\n\r\n里面会列出oneindex的应用，点击进去后，会看到你的应用ID（client_ID）。\r\n\r\n找到【应用程序机密】，点击【生成新密码】，就会生成一个新的client_secret，然后重新安装时候填这个新的client_secret就可以了\r\n","cover":"","link":"oneindex-installation-failed.html","preview":"","title":"Oneindex程序安装失败解决办法"},{"content":"\r\n\r\n\r\n### tar压缩\r\n\r\n压缩多个文件或者文件夹的命令\r\n\r\n``` bash\r\ntar -czvf a.tar.gz(想压缩文件名) 源文件名1 源文件名2 源文件夹1 源文件夹2\r\n```\r\n\r\n参数：\r\n\r\n- `c`创建一个压缩文件，如果只使用这个参数，不使用 z 参数，那么只会打包，不会压缩\r\n- `x`解开一个压缩文件\r\n- `z`是否使用 gzip 压缩或解压\r\n- `j`是否使用 bzip2 压缩或解压\r\n- `v`显示详细信息\r\n- `f`指定压缩后的文件名，后面要直接跟文件名，所以将 f 参数放到最后\r\n\r\n举几个例子：\r\n\r\n将a文件夹打包成a.tar但是不压缩\r\n\r\n``` bash\r\ntar cvf a.tar arg\r\n```\r\n\r\n将a文件夹打包成a.tar.gz并使用 gzip 压缩\r\n\r\n``` bash\r\ntar czvf a.tar.gz arg\r\n```\r\n\r\n将a文件夹打包成a.tar.gz并使用bzip2压缩\r\n\r\n``` bash\r\ntar cjvf a.tar.bz2 arg\r\n```\r\n\r\n### tar解压\r\n\r\nLinux下常见的压缩包格式有5种:zip tar.gz tar.bz2 tar.xz tar.Z\r\n\r\n其中tar是种打包格式,gz和bz2等后缀才是指代压缩方式:gzip和bzip2\r\n\r\nfilename.zip的解压:\r\n\r\n``` bash\r\nunzip filename.zip\r\n```\r\n\r\nfilename.tar.gz的解压:\r\n\r\n``` bash\r\ntar -zxvf filename.tar.gz\r\n```\r\n\r\n其中zxvf含义分别如下\r\n\r\n- `z`gzip压缩格式\r\n- `x`extract解压\r\n- `v`verbose详细信息\r\n- `f`file(file=archieve)文件\r\n\r\nfilename.tar.bz2的解压:\r\n\r\n``` bash\r\ntar -jxvf filename.tar.bz2\r\n```\r\n\r\n`j`指bzip2压缩格式\r\n\r\n其它选项和tar.gz解压含义相同\r\n\r\n\r\nfilename.tar.xz的解压: \r\n\r\n``` bash\r\ntar -Jxvf filename.tar.xz\r\n```\r\n\r\n注意`J`大写\r\n\r\n \r\n\r\nfilename.tar.Z的解压: \r\n\r\n``` bash\r\ntar -Zxvf filename.tar.Z\r\n```\r\n\r\n注意`Z`大写\r\n\r\n \r\n\r\n关于tar的详细命令可以\r\n\r\n``` bash\r\ntar --help\r\n```\r\n\r\n事实上, 从1.15版本开始tar就可以自动识别压缩的格式,故不需人为区分压缩格式就能正确解压\r\n\r\n``` bash\r\ntar -xvf filename.tar.gz\r\ntar -xvf filename.tar.bz2\r\ntar -xvf filename.tar.xz\r\ntar -xvf filename.tar.Z\r\n```\r\n\r\n### 压缩zip解压unzip缩命令\r\n\r\n安装\r\n\r\n``` bash\r\napt-get install unzip\r\n```\r\n\r\nzip命令\r\n\r\n``` bash\r\nzip -r myfile.zip ./*\r\n```\r\n\r\n将当前目录下的所有文件和文件夹全部压缩成myfile.zip文件,－r表示递归压缩子目录下所有文件.\r\n\r\nunzip命令\r\n\r\n``` bash\r\nunzip -o -d /home/sunny myfile.zip\r\n```\r\n\r\n把myfile.zip文件解压到 /home/sunny/\r\n\r\n- `o`不提示的情况下覆盖文件；\r\n- `d` -d /home/sunny 指明将文件解压缩到/home/sunny目录下；\r\n\r\n其他\r\n\r\n``` bash\r\nzip -d myfile.zip smart.txt\r\n```\r\n\r\n删除压缩文件中smart.txt文件\r\n\r\n``` bash\r\nzip -m myfile.zip ./rpm_info.txt\r\n```\r\n\r\n向压缩文件中myfile.zip中添加rpm_info.txt文件\r\n\r\n``` bash\r\nzip -r filename.zip file1 file2 file3 /usr/work/school \r\n```\r\n\r\n上面的命令把 file1、file2、 file3、以及 /usr/work/school 目录的内容（假设这个目录存在）压缩起来，然后放入 filename.zip 文件中。\r\n\r\n解压unzip缩命令\r\n\r\n``` bash\r\nunzip filename.zip\r\n```\r\n\r\n### 7Z\r\n\r\nlinux安装7z命令\r\n\r\n``` bash\r\napt-get install p7zip-full\r\n```\r\n\r\n带密码压缩\r\n\r\n``` bash\r\n7z -p a test.7z test.txt\r\n```\r\n\r\n`-p`添加密码\r\n\r\n解压：\r\n\r\n``` bash\r\n7z x test.7z\r\n```\r\n\r\n\r\n解压缩7z文件\r\n\r\n``` bash\r\n7z x phpMyAdmin-3.3.8.1-all-languages.7z -r -o./\r\n```\r\n\r\n最新命令为7zr\r\n\r\n参数含义：\r\n\r\n1. `x`代表解压缩文件，并且是按原始目录树解压（还有个参数 e 也是解压缩文件，但其会将所有文件都解压到根下，而不是自己原有的文件夹下）\r\n2. `r` 表示递归解压缩所有的子文件夹\r\n3. `o`是指定解压到的目录，-o后是没有空格的，直接接目录。这一点需要注意。\r\n\r\n压缩文件/文件夹\r\n\r\n``` bash\r\n7z a -r test.7z ./*\r\n```\r\n\r\n参数含义：\r\n\r\n1. `a`代表添加文件／文件夹到压缩包\r\n2. `t`是指定压缩类型，这里定为7z，可不指定，因为7za默认压缩类型就是7z。\r\n3. `r`表示递归所有的子文件夹\r\n4. `Mytest.7z`是压缩好后的压缩包名\r\n5. `/opt/phpMyAdmin-3.3.8.1-all-languages/*`是压缩目标。\r\n\r\n注意：7za不仅仅支持.7z压缩格式，还支持.tar.bz2等压缩类型的。如上所述，用-t指定即可。\r\n\r\n\r\n\r\n### unrar\r\n\r\n[RAR下载地址](http://www.rarsoft.com/download.htm) 64系统\r\n\r\n安装unrar,rar\r\n\r\n``` bash\r\nwget https://www.rarlab.com/rar/rarlinux-x64-5.8.b2.tar.gz\r\ntar xvf rarlinux-x64-5.8.b2.tar.gz\r\ncd rar\r\ncp rar /usr/local/rar\r\ncp unrar /usr/local/unrar\r\nln -s /usr/local/rar /usr/local/bin/rar\r\nln -s /usr/local/unrar /usr/local/bin/unrar\r\n```\r\n\r\n安装完毕后就有了RAR和UNRAR这两个程序\r\n\r\n解压有密码的rar压缩包\r\n\r\n``` bash\r\nunrar e -p filename.rar\r\n```\r\n\r\n输入密码后解压一个名为filename.rar的带密码压缩包\r\n\r\n1. unrar v test.rar    #查看压缩文件中的文件\r\n2. unrar x test.rar /tmp   #解压到指定文件夹\r\n3. unrar e test.rar   #解压到当前文件夹\r\n\r\n``` bash\r\nrar -p a test.rar test.txt\r\n```\r\n\r\n带密码压缩会提示输入两次密码。\r\n\r\n解压：\r\n\r\n``` bash\r\nunrar x test.rar\r\n```\r\n\r\n会提示输入密码。\r\n","cover":"","link":"linux-tar-unzip-p7zip-unrar-password.html","preview":"","title":"Linux下tar,unzip,7z,rar压缩带密码解压文件文件夹的使用"},{"content":"\r\n\r\n\r\n整出了一个集合BBR、BBR魔改、BBR plus、锐速四合一的脚本\r\n本脚本支持KVM架构的VPS，不支持OpenVZ。\r\n\r\n\r\n\u003e 项目地址：(https://github.com/cx9208/Linux-NetSpeed)\r\n\r\n# 安装\r\n\r\n``` bash\r\nwget https://github.com/ojbk8/Linux-NetSpeed/raw/master/tcp.sh\r\nchmod +x tcp.sh\r\n./tcp.sh\r\n```\r\n\r\n先换成对应加速\r\n出现弹窗按`TAB键`切换选择`No`回车删除原内核\r\n\r\n![](/images/tcp-bbrplus-lotserver.png)\r\n\r\n重启后\r\n\r\n``` bash\r\n./tcp.sh\r\n```\r\n\r\n开启加速\r\n\r\n\r\n \r\n","cover":"","link":"linux-tcp-bbr-lotserver.html","preview":"","title":"TCP加速bbr魔改plus锐速lotserver一键安装包"},{"content":"\r\n\r\nSSH安全登陆三步曲\r\n\r\n1. 修改默认端口22为其它\r\n2. 改用SSH-keys登陆\r\n3. 禁止密码登陆\r\n\r\n\u003e Linux生成密钥对\r\n\r\n``` bash\r\nssh-keygen\r\n```\r\n\r\n|文件|类型|路径|\r\n|----|----|----|\r\n|id_rsa|私钥|~/.ssh/id_rsa|\r\n|id_rsa.pub|公钥|~/.ssh/id_rsa.pub|\r\n\r\n\r\n# 使用Xshell生成密钥公钥\r\n\r\n[点击下载Xshell5](/uploads/XSHELL5.7z)依次点击菜单栏中的【工具】【新建用户密钥生成向导】\r\n\r\n![](/images/xshell_new_key.png)\r\n\r\n【密钥类型】选择`RSA`【长度】`2048`可以自定义\r\n\r\n![](/images/xshell_new_key1.png)\r\n\r\n![](/images/xshell_new_key2.png)\r\n\r\n![](/images/xshell_new_key3.png)\r\n\r\n![](/images/xshell_new_key4.png)\r\n\r\n然后一路【下一步】【保存为文件】\r\n\r\n生成私钥\r\n工具 -\u003e 用户秘钥管理者\r\n选中秘钥类型 -\u003e 导出\r\n\r\n![](/images/xshell_new_key5.png)\r\n\r\n至此，生成了一对 公钥-私钥 对。\r\nid_rsa_2048.pub #公钥\r\nid_rsa_2048 #私钥\r\n\r\n使用[puttygen](/uploads/puttygen.7z)把密钥id_rsa_2048转换成xxx.ppk后缀的文件\r\n\r\n![](/images/id_rsa_2048_to_ppk.png)\r\n\r\n\r\n如果您实在不会或者不想动手的话，可以用现成的。下载已经生成的 [id_rsa_2048密钥对](/uploads/share_id_rsa_2048.zip) 里面包括了`公钥` `私钥`及转换好了的PPK格式后缀\r\n\r\n# 配置Xshell使用密钥登陆\r\n\r\n创建目录\r\n\r\n``` bash\r\nmkdir .ssh\r\nchmod 700 .ssh\r\n```\r\n\r\n创建文件\r\n\r\n``` bash\r\ncd .ssh\r\ntouch authorized_keys\r\nchmod 600 authorized_keys\r\n```\r\n\r\n写入公钥内容\r\n\r\n``` bash\r\nnano /.ssh/authorized_keys\r\n```\r\n\r\n把`id_rsa_2048.pub`中的文本内容全部复制到`/.ssh/authorized_keys`\r\n\r\n修改SSH配置文件\r\n\r\n``` bash\r\nnano /etc/ssh/sshd_config\r\n```\r\n\r\n启用密钥验证\r\n\r\n``` bash\r\nRSAAuthentication yes\r\nPubkeyAuthentication yes\r\nAuthorsizedKeysFile .ssh/authorized_keys\r\n```\r\n\r\n`AuthorsizedKeysFile .ssh/authorized_keys`是指定公钥数据库文件\r\n\r\n\r\n重启SSH服务生效\r\n\r\nRHEL/CentOS系统\r\n\r\n``` bash\r\nservice sshd restart\r\n```\r\nubuntu系统\r\n\r\n``` bash\r\nservice ssh restart\r\n```\r\n\r\ndebian系统\r\n\r\n``` bash\r\n/etc/init.d/ssh restart\r\n```\r\n\r\n切换到使用密钥登陆，如果成功了就可以禁止密码登陆了\r\n\r\nPasswordAuthentication no\r\n\r\n# 其它\r\n\r\nPermitRootLogin yes\r\n\r\n`yes`允许用户root登陆`no`禁用\r\n\r\nPort 22\r\n\r\n默认22端口，可自定义修改\r\n\r\n``` bash\r\nsudo -i\r\n```\r\n\r\n切换到root用户权限\r\n\r\n``` bash\r\npasswd root\r\n```\r\n\r\n设置root用户的密码\r\n\r\n关于putty的登陆设置，由于putty与ssh2的key文件不同，所以要用puttygen.exe转换一下。\r\n\r\n运行puttygen.exe，选择Conversions-\u003eImport key，选择privateKey文件，\r\n\r\n注意这里要选privatekey文件，而不是前面用的publickey文件，\r\n最后选择\"save private key\"将密钥保存为.ppk文件，这个就是putty需要的key文件。\r\n\r\n运行putty，填写完session信息后，到connection-\u003essh-\u003eauth中指定好privatekey文件即可，\r\n当然也可以在connection-\u003edata中设置上auto-login username\r\n\r\n\r\n`PermitRootLogin yes`使用root登陆提示如下\r\n\r\n``` bash\r\nlogin as: root\r\nAuthenticating with public key \"imported-openssh-key\"\r\nPlease login as the user \"ubuntu\" rather than the user \"root\".\r\n```\r\n\r\n需要在authorized_keys中有一个命令，如下所示。\r\n\r\n``` bash\r\ncat /root/.ssh/authorized_keys \r\nno-port-forwarding,no-agent-forwarding,no-X11-forwarding,command=\"echo 'Please login as the user \\\"ubuntu\\\" rather than the user \\\"root\\\".';echo;sleep 10\"\r\n```\r\n\r\n删除此行，并保留它后面的ssh-rsa和密钥。\r\n\r\n保存文件，然后重试。\r\n","cover":"","link":"ssh-xshell-password-keys.html","preview":"","title":"SSH使用SSH-KEY登录并禁用密码登录"},{"content":"\r\n\r\n将 OneDrive 映射为本地网络驱动器\r\n登录到 [OneDrive](https://onedrive.live.com/) 在浏览器地址栏即可获取账户 ID。类似：\r\n\r\n``` bash\r\nhttps://onedrive.live.com/?id=root\u0026cid=xxxxxxxxxxx\r\n```\r\n\r\n其中xxxxxxxxxxx为Onedrive账户ID\r\n\r\n![](/images/onedriveid.png)\r\n\r\n打开`此电脑` `计算机` `映射网络驱动器`\r\n\r\n![](/images/windows-map-a-network-drive.png)\r\n\r\n`映射网络驱动器`在`文件夹`输入\r\n\r\n``` bash\r\nhttps://d.docs.live.net/xxxxxxxxxxx\r\n```\r\n\r\n按提示输入账号密码即能完成映射网络驱动器\r\n\r\n![](/images/windows-map-a-network-drive1.png)\r\n\r\n\r\n\r\n\r\n","cover":"","link":"windows-map-a-network-drive.html","preview":"","title":"Windows中将OneDrive映射为本地磁盘"},{"content":"\r\n\r\n\r\n以下以Windows平台为例\r\n### 下载安装Node和git\r\n[Git - Downloads](https://git-scm.com/downloads) 和 [下载 | Node.js](https://nodejs.org/zh-cn/download/)\r\n### 安装hexo\r\n打开Git Bash依次执行\r\n\r\n``` bash\r\nnpm install hexo-cli -g\r\ncd /d  #这里以D盘为例\r\nhexo init blog\r\ncd blog #/d/blog为hexo的根目录\r\nnpm install\r\nhexo server\r\n```\r\n\r\n应该就能在浏览器中打开(http://localhost:4000) 看到效果了。\r\n\r\n\r\n\r\n### hexo远程同步到github\r\n登陆[GitHub](https://github.com)并创建分支为username.github.io 可以点击[Join GitHub](https://github.com/join?source=header-home)\r\n\r\n``` bash\r\ngit config --global user.name \"username\"\r\ngit config --global user.email \"youremail@gmail.com\"\r\nssh-keygen -t rsa -C 'youremail@gmail.com'\r\n```\r\n\r\nYour public key has been saved in /c/Users/admin/.ssh/id_rsa.pub.\r\n按提示一路回车即可以得到KEY,并收到邮件提醒。\r\n用文本编辑器打开/c/Users/admin/.ssh/id_rsa.pub这个文件将里面的所有文本文字\r\n复制到repo－Settings－Deploy keys－Add deploy key中，Title可以随便填写\r\n回到Git Bash\r\n\r\n``` bash\r\nssh -T git@github.com\r\n```\r\n\r\n测试是否连接成功，如果能看到\r\n\r\nHi username/username.github.io! You've successfully authenticated, but GitHub does not provide shell access.\r\n即表示连接成功了。\r\n安装 hexo-deployer-git\r\n\r\n``` bash\r\nnpm install hexo-deployer-git --save\r\n```\r\n\r\n1. 先同步hexo生成的静态文件修改hexo根目录下的_config.yml配置文件\r\n\r\n``` bash\r\ndeploy: \r\n  type: git\r\n  repo: https://github.com/username/username.github.io\r\n  branch: master\r\n  message: hexo生成的静态文件\r\n```\r\n\r\n然后使用以下命令github同步\r\n\r\n``` bash\r\nhexo clean\r\nhexo g\r\nhexo d\r\n```\r\n\r\n2. 为了日后换电脑编辑同步github更方便，这里强烈建议先后依次2个branch分支\r\n\r\n``` bash\r\ndeploy: \r\n  type: git\r\n  repo: https://github.com/username/username.github.io\r\n  branch: hexo\r\n  message: hexo原始配置文件\r\n```\r\n\r\n然后使用以下命令github同步\r\n\r\n``` bash\r\nhexo clean\r\nhexo g\r\nhexo d\r\n```\r\n\r\n- repo:库（Repository）地址\r\n- branch:分支名称。如果您使用的是 GitHub 或 GitCafe 的话，程序会尝试自动检测。\r\n- message:自定义提交信息\r\n\r\n使用详情参考[Hexo](https://hexo.io/zh-cn/)\r\n### 安装next主题 \r\n定位到 Hexo 站点目录下\r\n\r\n``` bash\r\ngit clone https://github.com/iissnan/hexo-theme-next themes/next\r\n```\r\n\r\n修改站点根目录下的_config.yml配置文件,启用 NexT 主题\r\n\r\n``` bash\r\n# Extensions\r\n## Plugins: https://hexo.io/plugins/\r\n## Themes: https://hexo.io/themes/\r\ntheme: next\r\n```\r\n\r\n详情参考: [开始使用 - NexT 使用文档](https://theme-next.iissnan.com/getting-started.html#theme-settings)\r\n","cover":"","link":"hexo-next-install.html","preview":"\u003cp\u003e以下以Windows平台为例\u003c/p\u003e\n\n\u003ch3\u003e下载安装Node和git\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://git-scm.com/downloads\"\u003eGit - Downloads\u003c/a\u003e 和 \u003ca href=\"https://nodejs.org/zh-cn/download/\"\u003e下载 | Node.js\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e安装hexo\u003c/h3\u003e\n\n\u003cp\u003e打开Git Bash依次执行\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm install hexo-cli -g\ncd /d  #这里以D盘为例\nhexo init blog\ncd blog #/d/blog为hexo的根目录\nnpm install\nhexo server\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003e应该就能在浏览器中打开(\u003ca href=\"http://localhost:4000\"\u003ehttp://localhost:4000\u003c/a\u003e) 看到效果了。\u003c/p\u003e\n","title":"简要安装hexo和next主题"},{"content":"\r\n\r\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\r\n\r\n## Quick Start\r\n\r\n### Create a new post\r\n\r\n``` bash\r\n$ hexo new \"My New Post\"\r\n```\r\n\r\nMore info: [Writing](https://hexo.io/docs/writing.html)\r\n\r\n### Run server\r\n\r\n``` bash\r\n$ hexo server\r\n```\r\n\r\nMore info: [Server](https://hexo.io/docs/server.html)\r\n\r\n### Generate static files\r\n\r\n``` bash\r\n$ hexo generate\r\n```\r\n\r\nMore info: [Generating](https://hexo.io/docs/generating.html)\r\n\r\n### Deploy to remote sites\r\n\r\n``` bash\r\n$ hexo deploy\r\n```\r\n\r\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\r\n","cover":"","link":"hello-world.html","preview":"","title":"hexo Hello World"},{"content":"\n\n\n### 为Python 3安装pip3\n\n**以具有sudo权限的非root用户身份执行**以下步骤\n\n首先更新包列表：\n\n``` bash\nsudo apt update\n```\n\n使用以下命令为Python 3及其所有依赖项安装pip：\n\n``` bash\nsudo apt install python3-pip\n```\n\n查看pip3、Python版本以验证安装：\n\n``` bash\npip3 --version\npython3 -V\n```\n\n版本号可能不同，但它看起来如下所示：\n\n``` bash\npip 18.1 from /usr/lib/python3/dist-packages/pip (python 3.7)\n```\n\n### 为Python 2安装pip\n\n**以具有sudo权限的非root用户身份执行**以下步骤\n\n首先更新包索引：\n\n``` bash\nsudo apt update\n```\n\n为Python 2及其所有依赖项安装pip：\n\n``` bash\nsudo apt install python-pip\n```\n\n通过输入以下命令来验证安装，该命令将打印pip版本：\n\n``` bash\npip --version\n```\n\n版本号可能会有所不同，但它看起来像这样：\n\n``` bash\npip 18.1 from /usr/lib/python2.7/dist-packages/pip (python 2.7)\n```\n \n安装软件\n\n``` bash\npip install 软件包名\n```\n\n卸载包：\n\n``` bash\npip uninstall package_name\n```\n\n从PyPI搜索包：\n\n``` bash\npip search \"search_query\"\n```\n\n列出已安装的包：\n\n``` bash\npip list\n```\n\n列出过时的包：\n\n``` bash\npip list --outdated\n```\n","cover":"","link":"ubuntu-debian-install-python3-pin3-pip.html","preview":"","title":"在Debian、Ubuntu系统上为Python 2/3安装和使用Pip的方法"},{"content":"\n\n\n### 列出已存在相应的ssh key密钥对\n\n``` bash\nls -al ~/.ssh\n```\n\n\n如果你已经有了一套名为`id_rsa`的公秘钥，将要生成另外一个公钥，比如`new_id_rsa`你也可以使用任何你喜欢的名字。\n\n步骤如下：\n\n### 生成一个新的自定义名称的公钥\n\n``` bash\ngit config --global user.name \"username\" \ngit config --global user.email \"youremail@gmail.com\"\nssh-keygen -t rsa -C \"youremail@gmail.com\"\n```\n\n修改文件名或路径\n\n``` bash\nGenerating public/private rsa key pair.\nEnter file in which to save the key (/root/.ssh/id_rsa): /root/.ssh/new_id_rsa #这里替换成新的路径、文件名 \n```\n\n或者直接使用以下命令生成\n\n``` bash\nssh-keygen -t rsa -b 4096 -C \"your_email@example.com\" -f ~/.ssh/new_id_rsa\n```\n\n`your_email@example.com`替换成你注册github所用的邮箱，执行命令后，执行完成后，会在`~/.ssh/`目录下生成一个`new_id_rsa`私钥和`new_id_rsa.pub`公钥文件。\n\n\n### 为ssh key 添加代理\n\n``` bash\nssh-add ~/.ssh/new_id_rsa\n```\n\n注意：如果执行`ssh-add`时显示错误`Could not open a connection to your authentication agent.`那么执行\n\n``` bash\neval `ssh-agent -s`\n```\n\n后重新执行`ssh-add`那条命令即可。\n\n### 连接到github\n\n查看`~/.ssh/new_id_rsa.pub`复制内容到github的Key里面\n\n``` bash\ncat ~/.ssh/new_id_rsa.pub\n```\n\n连接测试\n\n``` bash\nssh -T git@github.com\n```\n\n---\n\n``` bash\ngit init\ngit add .\ngit commit -m \"first commit\"\ngit remote add origin https://github.com/username/username.github.io.git\ngit push -u origin master\n```\n","cover":"","link":"linux-github-id_rsa-pub.html","preview":"","title":"Linux下如何管理多个ssh密钥对github公钥私钥"},{"content":"\n\n[Github](https://github.com)网页同步更新Fork的项目，操作方便。不用命令行\n\n登陆进入自己已经fork的仓库名，切换到`Code`  按照截图操作即可。\n\n![](/images/github-pull-request-Synchronize-Update1.png)\n\n点击`New pull request`\n\n![](/images/github-pull-request-Synchronize-Update2.png)\n\n1. `base repository`选择自己的仓库分支\n2. `compare across forks`\n3. `head repository`选择fork源头项目的仓库分支\n4. `Caeate pull request`\n\n![](/images/github-pull-request-Synchronize-Update3.png)\n\n`titel`自定义  然后点击`Create pull request`\n\n![](/images/github-pull-request-Synchronize-Update4.png)\n\n`Merge pull request`\n\n![](/images/github-pull-request-Synchronize-Update5.png)\n\n`Confirm merge` 到此完全了Github同步更新Fork的项目\n\n`xxxx Merge pull request #xxxx from xxxx/master`\n\n刷新自己的github仓库，可以看到代码更新时间，已经同步成功，跟源项目仓库保持一样了\n","cover":"","link":"github-fork-pull-request-update.html","preview":"\u003cp\u003egithub上fork了别人的项目后，再同步更新别人的提交，github分支网站上操作，同步你的Fork 仓库\u003c/p\u003e\n","title":"Github同步更新Fork的项目"},{"content":"\r\n\r\n\r\nGit可以将用户名，密码和仓库链接保存在硬盘中，而不用在每次push的时候都输入密码。保存密码到硬盘一条命令就可以\r\n\r\n``` bash\r\ngit config credential.helper store\r\n```\r\n\r\n当git push的时候输入一次用户名和密码就会被记录,以后git pull/push就不再需要填写用户名密码了\r\n\r\n\r\n这样保存的密码是明文的，保存在用户目录~的.git-credentials文件中\r\n\r\n``` bash\r\ncat ~/.git-credentials\r\n```\r\n","cover":"","link":"git-push-pull-password.html","preview":"","title":"Git push/pull提交记住保存用户名和密码"},{"content":"\r\n\r\n\r\n在刚接触Linux时最怕的就是SSH远程登录Linux VPS编译安装程序时（比如安装lnmp）网络突然断开，或者其他情况导致不得不与远程SSH服务器链接断开，远程执行的命令也被迫停止，只能重新连接，重新运行。\r\n\r\n\r\n一、screen命令是什么？\r\n\r\nScreen是一个可以在多个进程之间多路复用一个物理终端的全屏窗口管理器。Screen中有会话的概念，用户可以在一个screen会话中创建多个screen窗口，在每一个screen窗口中就像操作一个真实的telnet/SSH连接窗口那样。\r\n\r\n二、如何安装screen命令？\r\n\r\n除部分精简的系统或者定制的系统大部分都安装了screen命令，如果没有安装，\r\nCentOS系统可以执行：\r\n\r\n``` bash\r\nyum install screen\r\n```\r\n\r\nDebian/Ubuntu系统执行：\r\n\r\n``` bash\r\napt-get install screen\r\n```\r\n\r\n三、screen命令使用方法？\r\n\r\n1、常用的使用方法\r\n\r\n用来解决文章开始我们遇到的问题，比如在安装lnmp时。\r\n\r\n1.1 创建screen会话\r\n\r\n可以先执行：screen -S lnmp ，screen就会创建一个名字为lnmp的会话。 VPS侦探 https://www.vpser.net/\r\n\r\n1.2 暂时离开，保留screen会话中的任务或程序\r\n\r\n当需要临时离开时（会话中的程序不会关闭，仍在运行）可以用快捷键Ctrl+a d(即按住Ctrl，依次再按a,d)\r\n\r\n\r\n1.3 恢复screen会话\r\n\r\n当回来时可以再执行执行：`screen -r lnmp` 即可恢复到离开前创建的lnmp会话的工作界面。如果忘记了，或者当时没有指定会话名，可以执行：screen -ls screen会列出当前存在的会话列表，如下图：\r\n\r\n\r\n11791.lnmp即为刚才的screen创建的lnmp会话，目前已经暂时退出了lnmp会话，所以状态为Detached，当使用`screen -r lnmp`后状态就会变为Attached，11791是这个screen的会话的进程ID，恢复会话时也可以使用：screen -r 11791\r\n\r\n1.4 关闭screen的会话\r\n\r\n执行：`exit` 会提示：[screen is terminating]，表示已经成功退出screen会话。VPS侦探 https://www.vpser.net/\r\n\r\n2、远程演示\r\n首先演示者先在服务器上执行 screen -S test 创建一个screen会话，观众可以链接到远程服务器上执行screen -x test 观众屏幕上就会出现和演示者同步。\r\n\r\n3、常用快捷键\r\n\r\n\r\n- `Ctrl+a c` ：在当前screen会话中创建窗口\r\n- `Ctrl+a w` ：窗口列表\r\n- `Ctrl+a n ：下一个窗口\r\n- `Ctrl+a p` ：上一个窗口\r\n- `Ctrl+a 0-9` ：在第0个窗口和第9个窗口之间切换\r\n\r\n\r\n执行：`screen -S lnmp` 创建screen会话。\r\n\r\n* 如果网络掉线，可以重新连接SSH，再执行 `screen -r lnmp` 就会看到你的lnmp安装进程。\r\n* 有时候screen异常退出可能会提示状态为Attached，可以执行：`screen -D -r lnmp` 进行恢复。\r\n* 有时候可能会创建了多个同名的screen会话，可以执行：`screen -ls` 查看对应会话的session id，然后使用`screen -D -r sessionid` 进行恢复。\r\n\r\n\r\n转载自： https://www.vpser.net/manage/screen.html\r\n\r\n\r\n防止中途掉线\r\n","cover":"","link":"screen.html","preview":"","title":"SSH远程会话管理工具screen使用教程"},{"content":"\n\n运行`cmd`,键盘快捷键`win+r`输入`cmd`回车.\n\n``` bash\nshutdown -s\n```\n\n关机（默认1分钟后关）\n\n``` bash\nshutdown -s -t 3600\n```\n\n1小时后定时关机\n\n``` bash\nshutdown -r\n```\n\n重启（默认1分钟后重启）\n\n``` bash\nshutdown -r -t 3600\n```\n\n1小时后定时重启\n\n``` bash\nshutdown -a\n```\n\n取消定时任务\n\n例子：1小时后自动关机，输入`shutdown -s -t 3600`回车，其中`-s`是关机,`-t`是定时，`3600`是3600秒。","cover":"","link":"cmd-shutdown.html","preview":"","title":"cmd定时关机重启"},{"content":"\n\n方法一： 安卓手机依次进入【设置】【网络和互联网】【热点和网络共享】打开启用【允许客户端使用VPN】\n\n![](/images/android-vpn-hotspot-egerre435366.png)\n\n方法二： Android安卓手机下载安装`VPN 热点`这个软件\n\nhttps://github.com/Mygod/VPNHotspot\n\n下载地址：[VPN 热点 - Google Play 上的应用](https://play.google.com/store/apps/details?id=be.mygod.vpnhotspot) or [XDA Labs](https://labs.xda-developers.com/store/app/be.mygod.vpnhotspot) or [GitHub](https://github.com/Mygod/VPNHotspot/releases)\n\n[本站下载vpnhotspot-v2.6.2.apk](/uploads/vpnhotspot-v2.6.2.apk)\n\n\n**前提条件**\n`VPN 热点`这个软件必须有root权限\n\n\u003e Android安卓手机如何ROOT？\n\n方法在[Google](https://www.google.com)中输入`手机机型+root`\n\n常规的思路是解锁后用第三方[TWRP-recovery](https://twrp.me)卡刷[Magisk](https://github.com/topjohnwu/Magisk/releases)\n\n**如果不能用可尝试【全局】或者关闭【分应用代理】或者在【设置选项】关闭【网络共享硬件加速】**\n\n![](/images/v2rayn-Setting.png)\n\n![](/images/android-vpn-hotspot.png)\n\n![](/images/android-vpn-hotspot1.png)\n\n以下是README.md原文\n\n# VPN Hotspot\n\nConnecting things to your VPN made simple. Share your VPN connection over hotspot or repeater. (**root required**)  \n\u003ca href=\"https://play.google.com/store/apps/details?id=be.mygod.vpnhotspot\" target=\"_blank\"\u003e\u003cimg src=\"https://play.google.com/intl/en_us/badges/images/generic/en-play-badge.png\" height=\"60\"\u003e\u003c/a\u003e\nor \u003ca href=\"https://labs.xda-developers.com/store/app/be.mygod.vpnhotspot\" target=\"_blank\"\u003eXDA Labs\u003c/a\u003e\n\nThis app is useful for:\n\n* Connecting things that don't support VPN like Chromecasts behind corporate firewalls;\n* Setting up [gapps](https://support.google.com/pixelphone/answer/7158475) behind corporate firewalls;\n* Connecting to your mobile hotspot but you're not bothered to set up VPN on your device;\n* Identifying, monitoring and blocking (unwanted) clients;\n* Bypassing tethering limits by:\n    - (recommended) Use this app with a real VPN/socksifier; (ad-blocker may not work)\n    - (might or might not work based on your carrier) Use this app with TTL editor like\n      [TTL Master](https://github.com/TTLMaster/TTLMaster);\n    - Try your luck and simply use this app.\n\nP.S. You can also do the similar on [Windows](https://www.expressvpn.com/support/vpn-setup/share-vpn-connection-windows/),\n[Mac](https://www.expressvpn.com/support/vpn-setup/share-vpn-connection-mac/),\nand [iOS](http://www.tetherme.net/).\nI don't know about you but I can't get my stupid Windows 10 to work with\n[hosted network](https://msdn.microsoft.com/en-us/library/windows/desktop/dd815243(v=vs.85).aspx)\nnow that they introduced this\n[Mobile hotspot](https://support.microsoft.com/en-us/help/4027762/windows-use-your-pc-as-a-mobile-hotspot).\n\n## Settings and How to Use Them\n\nDefault settings are picked to suit general use cases and maximize compatibility but it might not be optimal for battery\n life.\n\n### Upstream\n\n* Upstream network interface: Main upstream used to reroute traffic.\n  Leave blank for auto detect system VPN (allow/do not bypass this app to use VPN for it to work).\n  Put `none` (or other similarly invalid entries) to suppress tethering VPN.\n  Put your interface name for tethering WireGuard.\n* Fallback upstream:\n  Fallback upstream is used when some VPN leave certain routes fallback to default network interface.\n  Leave blank for auto detect.\n  Put `none` (or other similarly invalid entries) to forbid falling back.\n  Put other interface name if you feel like it.\n* IP Masquerade Mode:\n  - None:\n    Nothing will be done to remap address/port from downstream.\n    I find turning this option off sometimes works better for dummy VPNs like ad-blockers and socksifiers than Simple mode, e.g. Shadowsocks.\n    But you should never use this for real VPNs like OpenVPN, WireGuard, etc.\n  - Simple: Source address/port from downstream packets will be remapped and that's about it.\n  - (since Android 9) Android Netd Service:\n    Let your system handle masquerade.\n    Android system will do a few extra things to make things like FTP and tethering traffic counter work.\n    You should probably not use this if you are trying to hide your tethering activity from your carrier.\n\n### Downstream\n\n* Disable IPv6 tethering: Turning this option on will disable IPv6 for system tethering. Useful for stopping IPv6 leaks\n  as this app currently doesn't handle IPv6 VPN tethering (see [#6](https://github.com/Mygod/VPNHotspot/issues/6)).\n* (since Android 8.1) Tethering hardware acceleration:\n    This is a shortcut to the same setting in system Developer options.\n    Turning this option off is probably a must for making VPN tethering over system tethering work,\n     but it might also decrease your battery life while tethering is enabled.\n* Enable DHCP workaround:\n    Only used if your device isn't able to get your clients IP addresses with VPN on.\n    This is a global setting, meaning it will only be applied once globally.\n\n### Misc\n\n* Keep Wi-Fi alive: Acquire Wi-Fi locks when repeater, temporary hotspot or system VPN hotspot is activated.\n   - Choose \"System default\" (default since Android 10) to save battery life;\n   - (prior to Android 10) Choose \"On\" (default) if repeater/hotspot turns itself off automatically or stops working after a while;\n   - (prior to Android 10) Choose \"High Performance Mode\" to minimize packet loss and latency (will consume more power);\n   - (since Android 10) Choose \"Disable power save\" to decrease packet latency.\n     An example use case is when a voice connection needs to be kept active even after the device screen goes off.\n     Using this mode may improve the call quality.\n     Requires support from the hardware.\n   - (since Android 10) Choose \"Low latency mode\" to optimize for reduced packet latency, and this might result in:\n     1. Reduced battery life.\n     2. Reduced throughput.\n     3. Reduced frequency of Wi-Fi scanning.\n        This may cause the device not roaming or switching to the AP with highest signal quality, and location accuracy may be reduced.\n     Example use cases are real time gaming or virtual reality applications where low latency is a key factor for user experience.\n     Requires support from the hardware.\n     Note: Requires this app running in foreground with screen on.\n* Start repeater on boot: Self explanatory.\n* Network status monitor mode: This option controls how the app monitors connected devices as well as interface changes\n  (when custom upstream is used).\n  Requires restarting the app to take effects. (best way is to go to app info and force stop)\n   - Netlink monitor: Use Linux netlink mechanism, most battery efficient but may not work with SELinux enforcing mode.\n     Sometimes auto fallbacks to Netlink monitor with root and Poll.\n   - Netlink monitor with root: Same as above but runs netlink as root. This option works well with SELinux enforcing mode\n     but might still be bugged on devices heavily modified by OEM and/or carriers. Sometimes auto fallbacks to Poll.\n   - Poll: (default) Update network information manually every second. Least battery efficient but it should work on most\n     devices. Recommended to switch to other modes if possible.\n   - Poll with root: Same as Poll but polling is done using a root shell.\n\n\n## Q \u0026 A\n\nSearch the [issue tracker](https://github.com/Mygod/VPNHotspot/issues) for more.\n\n### [What changes exactly can this app do to my system? (and how to revert them)](https://github.com/Mygod/VPNHotspot/issues/8#issuecomment-448529512)\n\n### [No root?](https://github.com/Mygod/VPNHotspot/issues/62)\n\n### Failed to create group due to internal error/repeater shuts down after a while?\n\nThis could caused by the Wi-Fi channel you selected is no longer available, due to:\n\n1. Your device doesn't support operating on this channel, or\n2. There is some nearby Wi-Fi direct device that broadcasted that it can't operate on the channel you picked.\n\nFor maximum stability, you need to set channel = 0 so that your device will pick a channel automatically.\nYou can also use WPS to connect your 2.4GHz-only device to force the repeater to switch from 5GHz to 2.4GHz for this time.\n\n## Private APIs used / Assumptions for Android customizations\n\n_a.k.a. things that can go wrong if this app doesn't work._\n\nThis is a list of stuff that might impact this app's functionality if unavailable.\nThis is only meant to be an index. You can read more in the source code.\n\nNon-public API list:\n\n* (since API 24) [`Landroid/bluetooth/BluetoothPan;-\u003eisTetheringOn()Z,greylist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#32103)\n* (since API 24) [`Landroid/net/ConnectivityManager$OnStartTetheringCallback;-\u003e\u003cinit\u003e()V,system-api,whitelist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#123103)\n* (since API 24) [`Landroid/net/ConnectivityManager$OnStartTetheringCallback;-\u003eonTetheringFailed()V,system-api,whitelist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#123104)\n* (since API 24) [`Landroid/net/ConnectivityManager$OnStartTetheringCallback;-\u003eonTetheringStarted()V,system-api,whitelist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#123105)\n* (since API 24) [`Landroid/net/ConnectivityManager;-\u003egetLastTetherError(Ljava/lang/String;)I,greylist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#123309)\n* (since API 24) [`Landroid/net/ConnectivityManager;-\u003estartTethering(IZLandroid/net/ConnectivityManager$OnStartTetheringCallback;Landroid/os/Handler;)V,system-api,whitelist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#123408)\n* (since API 24) [`Landroid/net/ConnectivityManager;-\u003estopTethering(I)V,system-api,whitelist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#123410)\n* (since API 23) [`Landroid/net/wifi/WifiConfiguration;-\u003eapBand:I,greylist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#131529)\n* (since API 23) [`Landroid/net/wifi/WifiConfiguration;-\u003eapChannel:I,greylist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#131530)\n* (since API 26) [`Landroid/net/wifi/WifiManager;-\u003ecancelLocalOnlyHotspotRequest()V,greylist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#132250)\n* [`Landroid/net/wifi/WifiManager;-\u003egetWifiApConfiguration()Landroid/net/wifi/WifiConfiguration;,system-api,whitelist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#132289)\n* [`Landroid/net/wifi/WifiManager;-\u003esetWifiApConfiguration(Landroid/net/wifi/WifiConfiguration;)Z,system-api,whitelist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#132358)\n* (deprecated since API 26) `Landroid/net/wifi/WifiManager;-\u003esetWifiApEnabled(Landroid/net/wifi/WifiConfiguration;Z)Z`\n* (prior to API 29) [`Landroid/net/wifi/p2p/WifiP2pGroup;-\u003egetNetworkId()I,greylist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#134440)\n* (prior to API 29) [`Landroid/net/wifi/p2p/WifiP2pGroupList;-\u003egetGroupList()Ljava/util/Collection;,greylist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#134487)\n* (prior to API 29) [`Landroid/net/wifi/p2p/WifiP2pManager;-\u003edeletePersistentGroup(Landroid/net/wifi/p2p/WifiP2pManager$Channel;ILandroid/net/wifi/p2p/WifiP2pManager$ActionListener;)V,greylist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#134703)\n* (prior to API 29) [`Landroid/net/wifi/p2p/WifiP2pManager;-\u003erequestPersistentGroupInfo(Landroid/net/wifi/p2p/WifiP2pManager$Channel;Landroid/net/wifi/p2p/WifiP2pManager$PersistentGroupInfoListener;)V,greylist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#134728)\n* (prior to API 29) [`Landroid/net/wifi/p2p/WifiP2pManager;-\u003esetWifiP2pChannels(Landroid/net/wifi/p2p/WifiP2pManager$Channel;IILandroid/net/wifi/p2p/WifiP2pManager$ActionListener;)V,greylist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#134737)\n* [`Landroid/net/wifi/p2p/WifiP2pManager;-\u003estartWps(Landroid/net/wifi/p2p/WifiP2pManager$Channel;Landroid/net/wifi/WpsInfo;Landroid/net/wifi/p2p/WifiP2pManager$ActionListener;)V,greylist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#134738)\n* (prior to API 29) [`Ljava/net/InetAddress;-\u003eparseNumericAddress(Ljava/lang/String;)Ljava/net/InetAddress;,core-platform-api,greylist-max-p`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#335306)\n\nUndocumented system configurations:\n\n* `@android:array/config_tether_usb_regexs`\n* `@android:array/config_tether_wifi_regexs`\n* `@android:array/config_tether_wimax_regexs`\n* `@android:array/config_tether_bluetooth_regexs`\n* (since API 28) `@android:integer/config_wifi_framework_soft_ap_timeout_delay`\n\nOther:\n\n* (since API 29) `android.net.wifi.p2p.WifiP2pConfig` needs to be parcelized in a very specific order.\n* (since API 28) [`Landroid/provider/Settings$Global;-\u003eSOFT_AP_TIMEOUT_ENABLED:Ljava/lang/String;,greylist-max-o`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#158307) is assumed to be `\"soft_ap_timeout_enabled\"`.\n* (since API 27) [`Landroid/provider/Settings$Global;-\u003eTETHER_OFFLOAD_DISABLED:Ljava/lang/String;,greylist-max-o`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#158331) is assumed to be `\"tether_offload_disabled\"`.\n* (since API 27) `com.android.server.connectivity.tethering.OffloadHardwareInterface.DEFAULT_TETHER_OFFLOAD_DISABLED` is assumed to be 0.\n* Several constants in `ConnectivityManager` is assumed to be defined as in `TetheringManager.kt`;\n* Following broadcasts are assumed to be sticky:\n  - [`Landroid/net/ConnectivityManager;-\u003eACTION_TETHER_STATE_CHANGED:Ljava/lang/String;,greylist`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#123163) is assumed to be `android.net.conn.TETHER_STATE_CHANGED`.\n  - (prior to API 29) [`Landroid/net/wifi/p2p/WifiP2pManager;-\u003eWIFI_P2P_PERSISTENT_GROUPS_CHANGED_ACTION:Ljava/lang/String;,greylist-max-o`](https://android.googlesource.com/platform/prebuilts/runtime/+/3d07e5c/appcompat/hiddenapi-flags.csv#134686) is assumed to be `android.net.wifi.p2p.PERSISTENT_GROUPS_CHANGED`;\n* Activity `com.android.settings/.Settings$TetherSettingsActivity` is assumed to be exported.\n\nFor `ip rule` priorities, `RULE_PRIORITY_SECURE_VPN` and `RULE_PRIORITY_TETHERING` is assumed to be 12000 and 18000 respectively;\n(prior to API 24) `RULE_PRIORITY_DEFAULT_NETWORK` is assumed to be 22000 (or at least \u003e 18000).\nDHCP server like `dnsmasq` is assumed to run and send DHCP packets as root.\n\nUndocumented system binaries are all bundled and executable:\n\n* (since API 24) `iptables-save`, `ip6tables-save`;\n* `echo`;\n* `ip` (`link monitor neigh rule`);\n* `ndc` (`ipfwd` since API 23, `nat` since API 28);\n* `iptables`, `ip6tables` (with correct version corresponding to API level, `-nvx -L \u003cchain\u003e`);\n* `su`.\n\nIf some of these are unavailable, you can alternatively install a recent version (v1.28.1 or higher) of Busybox.\n\n(prior to API 29) Wi-Fi driver `wpa_supplicant`:\n\n* P2P configuration file is assumed to be saved to [`/data/vendor/wifi/wpa/p2p_supplicant.conf` or `/data/misc/wifi/p2p_supplicant.conf`](https://android.googlesource.com/platform/external/wpa_supplicant_8/+/0b4856b6dc451e290f1f64f6af17e010be78c073/wpa_supplicant/hidl/1.1/supplicant.cpp#26) and have reasonable format;\n* Android system is expected to restart `wpa_supplicant` after it crashes.\n","cover":"","link":"android-vpn-hotspot.html","preview":"\u003cp\u003eAndroid安卓手机root后授权VPN Hotspot可以实现VPN热点中继USB蓝牙网络共享，P.S. You can also do the similar on Windows, Mac, and iOS. I don\u0026rsquo;t know about you but I can\u0026rsquo;t get my stupid Windows 10 to work with hosted network now that they introduced this Mobile hotspot.\u003c/p\u003e\n","title":"Android安卓手机VPN热点中继USB蓝牙网络共享"},{"content":"\n\n配置低的VPS在运行部分程序时会被`killed`进程，通常使用swap交换分区，间接给VPS提高一下性能。\n\nVPS添加swap交换分区的方法(只有虚拟化为`Xen`、`KVM`、`VMWare`的VPS可以，**OpenVZ不支持添加swap**)。\n\n确认是否有SWAP，可以执行\n\n``` bash\nfree -m\n```\n\n命令查看，如果有swap一行且total项下不为零的话就是存在swap，就不适合再进行添加swap。\n\n\n以下以添加2GB SWAP为例，生成文件块：（SWAP一般设置为内存的2倍，并非完全以此为标准，只适合4GB以下内存，count后面的数为要设置的swap大小xxMB）\n\n``` bash\ndd if=/dev/zero of=/var/swapfile bs=1M count=2048\n```\n\n创建swap文件\n\n``` bash\n/sbin/mkswap /var/swapfile\n```\n\n激活swap文件\n\n``` bash\n/sbin/swapon /var/swapfile\n```\n\n查看一下swap是否正确：\n\n``` bash\n/sbin/swapon -s\n```\n\n另外为了安全建议执行：\n\n``` bash\nchmod 0600 /var/swapfile\n```\n\n改一下权限\n\n到fstab文件中添加开机自动挂载设置\n\n``` bash\nvi /etc/fstab\n```\n\n在末尾增加以下内容：\n\n``` bash\n/var/swapfile swap swap defaults 0 0\n```\n\n也可以执行如下命令，感觉这样更方便\n\n``` bash\necho \"/var/swapfile swap swap defaults 0 0\" \u003e\u003e/etc/fstab\n```\n\nSWAP删除方法：\n\n``` bash\n/sbin/swapoff /var/swapfile\nrm -f /var/swapfile\n```\n\n删掉添加的自动挂载swap的设置\n\n``` bash\nvi /etc/fstab\n```\n\n顺便附上DD命令的参数介绍：\ndd命令\n功能：把指定的输入文件拷贝到指定的输出文件中，并且在拷贝过程中可以进行格式转换。可以用该命令实现DOS下的diskcopy命令的作用。先用dd命令把软盘上的数据写成硬盘的一个寄存文件，再把这个寄存文件写入第二张软盘上，完成diskcopy的功能。需要注意的是，应该将硬盘上的寄存文件用rm命令删除掉。系统默认使用标准输入文件和标准输出文件。\n语法：\n\n``` bash\ndd [选项] if =输入文件（或设备名称）。\nof =输出文件（或设备名称）。\nibs = bytes 一次读取bytes字节，即读入缓冲区的字节数。\nskip = blocks 跳过读入缓冲区开头的ibs*blocks块。\nobs = bytes 一次写入bytes字节，即写入缓冲区的字节数。\nbs = bytes 同时设置读/写缓冲区的字节数（等于设置ibs和obs）。\ncbs = byte 一次转换bytes字节。\ncount=blocks 只拷贝输入的blocks块。\n```\n\n转载自https://www.vpser.net/opt/vps-add-swap.html\n","cover":"","link":"swap.html","preview":"","title":"Linux添加swap交换分区虚拟内存"},{"content":"\r\n\r\n[FastStone Capture](https://www.faststone.org)是一款非常小巧的屏幕截图屏幕录像软件。\r\n\r\n\r\n官方下载地址:  https://www.faststone.org/FSCaptureDownload.htm\r\n\r\n\r\n企业版序列号：\r\n\r\n- name：`bluman`\r\n\r\n- serial/序列号/注册码：`VPISCJULXUFGDDXYAUYF`\r\n\r\n\r\n\r\n\r\nFastStone Capture 注册码 序列号：\r\n\r\nname/用户名：`TEAM JiOO`\r\n\r\nkey/注册码：`CPCWXRVCZW30HMKE8KQQUXW`\r\n\r\n\r\n\r\nUSER NAME:TEAM_BRAiGHTLiNG_2007\r\n\r\n\r\nCODE:XPNMF-ISDYF-LCSED-BPATU\r\n\r\n\r\nRPTME-IMDHD-MIEPX-VLXAW\r\n\r\n\r\n","cover":"","link":"faststone-capture-fscapture.html","preview":"","title":"FastStone Capture是一款非常小巧的屏幕截图屏幕录像软件"},{"content":"\n\nLXDE桌面环境相对其它VNC更加节省资源，开始安装\n\n\n``` bash\napt-get update\napt-get install xorg lxde-core tightvncserver -y\n```\n\n启动VNC/输入设置密码\n\n``` bash\ntightvncserver :1\n```\n\n暂停VNC\n\n``` bash\ntightvncserver -kill :1\n```\n\n配置xstartup系统文件\n\n``` bash\nnano ~/.vnc/xstartup\n```\n\n然后在文件的最后添加下面的脚本代码\n\n``` bash\nlxterminal \u0026\n/usr/bin/lxsession -s LXDE \u0026\n```\n\n客户端下载 [Download VNC Viewer](https://www.realvnc.com/en/connect/download/viewer/) 使用ip:5901登录\n\n如果vnc远程桌面 桌面空白,编辑文件`~/.vnc/xstartup`将里面的最后一行`twn \u0026`改成`gnome-session \u0026` (即可视化界面)\n\n\n安装Firefox浏览器\n\n``` bash\napt-get install iceweasel -y\n```\n\nFirefox浏览器文件下载路径在`/tmp/mozilla_root0`\n\n可以使用`free -m`查看内存使用情况\n\nLXDE桌面VNC和Firefox浏览器，安装完成后占用磁盘大概1GB左右。\n","cover":"","link":"debian-lxde-vnc-firefox.html","preview":"","title":"Debian安装LXDE VNC桌面和Firefox浏览器"},{"content":"\n\n## 纸小墨简介\n\n纸小墨（InkPaper）是一个GO语言编写的开源静态博客构建工具，可以快速搭建博客网站。它无依赖跨平台，配置简单构建快速，注重简洁易用与更优雅的排版。\n\n![纸小墨 - 简洁的静态博客构建工具](/images/example.png)\n\n### 开始上手\n\n- 下载并解压 [Ink](http://www.chole.io/)，运行命令 `ink preview`\n\n  \u003e 注意：Linux/macOS下，使用 `./ink preview`\n\n- 使用浏览器访问 `http://localhost:8000` 预览。\n\n### 特性介绍\n- YAML格式的配置\n- Markdown格式的文章\n- 无依赖跨平台\n- 超快的构建速度\n- 不断改善的主题与排版\n- 多文章作者支持\n- 归档与标签自动生成\n- 保存时实时预览页面\n- 离线的全文关键字搜索\n\n### 配置网站\n编辑`config.yml`，使用如下格式：\n\n``` yaml\nsite:\n    title: 网站标题\n    subtitle: 网站子标题\n    limit: 每页可显示的文章数目\n    theme: 网站主题目录\n    comment: 评论插件变量(默认为Disqus账户名)\n    root: 网站根路径 #可选\n    lang: 网站语言 #支持en, zh, ru, ja，可在theme/config.yml配置\n    url: 网站链接 #用于RSS生成\n    link: 文章链接形式 #默认为{title}.html，支持{year},{month},{day},{title}变量\n\nauthors:\n    作者ID:\n        name: 作者名称\n        intro: 作者简介\n        avatar: 作者头像路径\n\nbuild:\n    output: 构建输出目录 #可选, 默认为 \"public\"\n    port: 预览端口\n    copy:\n        - 构建时将会复制的目录/文件\n    publish: |\n        ink publish 命令将会执行的脚本\n```\n\n### 创建文章\n在`source`目录中建立任意`.md`文件（可置于子文件夹），使用如下格式：\n\n``` yaml\ntitle: 文章标题\ndate: 年-月-日 时:分:秒 #创建时间，可加时区如\" +0800\"\nupdate: 年-月-日 时:分:秒 #更新时间，可选，可加时区如\" +0800\"\nauthor: 作者ID\ncover: 题图链接 #可选\ndraft: false #草稿，可选\ntop: false #置顶文章，可选\npreview: 文章预览，也可在正文中使用\u003c!--more--\u003e分割 #可选\ntags: #可选\n    - 标签1\n    - 标签2\ntype: post #指定类型为文章(post)或页面(page)，可选\nhide: false #隐藏文章，只可通过链接访问，可选\n\n---\n\nMarkdown格式的正文\n```\n\n### 发布博客\n- 在博客目录下运行`ink publish`命令自动构建博客并发布。\n- 或运行`ink build`命令将生成的`public`目录下的内容手动部署。\n\n\u003e Tips: 在使用`ink preview`命令时，编辑保存文件后，博客会自动重新构建并刷新浏览器页面。\n\n## 定制支持\n\n### 修改主题\n\n默认主题在`theme`目录下，修改源代码后在该目录下运行`npm install`与`npm run build`重新构建。\n\n页面包含`page.html`（文章列表）及`article.html`（文章）等，所有页面均支持[GO语言HTML模板](http://golang.org/pkg/html/template/)语法，可引用变量。\n\n### 添加页面\n\n在`source`目录下创建的任意`.html`文件将被复制，这些文件中可引用`config.yml`中site字段下的所有变量。\n\n### 博客迁移(Beta)\n\n纸小墨提供简单的Jeklly/Hexo博客文章格式转换，使用命令：\n``` shell\nink convert /path/_posts\n```\n\n### 源码编译\n\n本地运行\n\n1. 配置[GO](http://golang.org/doc/install)语言环境。\n2. 运行命令`go get github.com/InkProject/ink`，编译并获取ink。\n3. 运行命令`ink preview $GOPATH/src/github.com/InkProject/ink/template`，预览博客。\n\nDocker构建（示例）\n\n1. Clone源码 `git clone git@github.com:InkProject/ink.git`。\n2. 源码目录下构建镜像`docker build -t ink .`。\n3. 运行容器`docker run -p 8000:80 ink`。\n\n## 主题\n\n- Dark(Official Theme): [https://github.com/InkProject/ink-theme-dark](https://github.com/InkProject/ink-theme-dark)\n- simple: [https://github.com/myiq/ink-simple](https://github.com/myiq/ink-simple)\n\n## 相关链接\n\n- [InkPaper 最佳实践](https://segmentfault.com/a/1190000009084954)\n\n## 反馈贡献\n\n纸小墨基于 [CC Attribution-NonCommercial License 4.0](https://creativecommons.org/licenses/by-nc/4.0/) 协议，目前为止它仍然是个非成熟的开源项目，非常欢迎任何人的任何贡献。如有问题可报告至 [https://github.com/InkProject/ink/issues](https://github.com/InkProject/ink/issues)。\n\n## 更新历史\n\n- [2016-07-11] 修复诸多Issue与合并一些PR。\n- [2015-08-15] 一些Bug修复，新增RSS订阅支持，主题改善。\n- [2015-07-04] 数项Bug修复与主题改善，支持置顶，多语言，子模板。\n- [2015-06-04] 编译更多平台版本，增加标签与存档页。\n- [2015-03-01] Beta版本，基础功能完成。\n\n## 更新计划\n\n- 排版深度优化\n- 纸小墨编辑器\n\n## 正在使用\n\n- [http://www.chole.io/blog/](http://www.chole.io/blog/)\n- [http://blog.hyper.sh/](http://blog.hyper.sh/)\n- [http://wangxu.me/](http://wangxu.me/)\n- [http://whzecomjm.com/](http://whzecomjm.com/)\n- [http://www.shery.me/blog/](http://www.shery.me/blog/)\n","cover":"/images/example.png","link":"ink-blog-tool.html","preview":"\u003cp\u003e纸小墨（InkPaper）是一个GO语言编写的开源静态博客构建工具，可以快速搭建博客网站。它无依赖跨平台，配置简单构建快速，注重简洁易用与更优雅的排版。\u003c/p\u003e\n","title":"简洁的静态博客构建工具 —— 纸小墨（InkPaper）"},{"content":"\n\n## Introduce\n\nInkPaper is an static blog generator developed by Golang, No dependencies, Cross platform, Easy use, Fast build, Elegant theme.\n\n![InkPaper - An Elegant Static Blog Generator](/images/example-en.png)\n\n### Quick Start\n- Download \u0026 Extract [Ink](http://www.chole.io/)，Run `ink preview`\n\n  \u003e Tips：Linux/macOS, use `./ink preview`\n\n- Open `http://localhost:8000` in browser to preview\n\n### Website Configuration\nEdit `config.yml`, use format:\n\n``` yaml\nsite:\n    title: Website Title\n    subtitle: Website Subtitle\n    limit: Max Article Count Per Page\n    theme: Website Theme Directory\n    comment: Comment Plugin Variable (Default is disqus username)\n    root: Website Root Path #Optional\n    lang: Website Language #Support en, zh, ru, ja, Configurable in theme/lang.yml\n    url: Website URL #For RSS Generating\n    link: Article Link Scheme #Default Is {title}.html，Support {year},{month},{day},{title} Variables\n\nauthors:\n    AuthorID:\n        name: Author Name\n        intro: Author Motto\n        avatar: Author Avatar Path\n\nbuild:\n    output: Build Output Directory #Optional, Default is \"public\"\n    port: Preview Port\n    copy:\n        - Copied Files When Build\n    publish: |\n        Excuted command when use 'ink publish'\n```\n\n### Writing\nCreate any `.md` file in `source` directory (Support subdirectory), use format:\n\n``` yaml\ntitle: Article Title\ndate: Year-Month-Day Hour:Minute:Second #Created Time，Support TimeZone, such as \" +0800\"\nupdate: Year-Month-Day Hour:Minute:Second #Updated Time，Optional，Support TimeZone, such as \" +0800\"\nauthor: AuthorID\ncover: Article Cover Path #Optional\ndraft: false #If Draft，Optional\ntop: false #Place article to top, Optional\npreview: Article Preview，Also use \u003c!--more--\u003e to split in body #Optional\ntags: #Optional\n    - Tag1\n    - Tag2\ntype: post #Specify type is post or page, Optional\nhide: false #Hide article，can be accessed via URL, Optional\n\n---\n\nMarkdown Format's Body\n```\n\n### Publish\n- Run `ink publish` in blog directory to automatically build and publish\n- Or run `ink build` to manually deploy generated `public` directory\n\n\u003e **Tips**: When files changed，`ink preview` will automatically rebuild blog，refresh browser to update.\n\n## Customization\n\n### Modify Theme\n\nDefault theme placed in `theme` folder, run `npm install` and `npm run build` to rebuild in this folder.\n\npage `page.html` (article list) and `article.html` (article), use variable with [Golang Template](http://golang.org/pkg/html/template/) syntax.\n\n### New Page\n\nCreated any `.html` file will be copied to `source` directory, could use all variables on `site` field in `config.yml`.\n\n### Blog Migrate (Beta)\n\nSupport simple Jeklly/Hexo post convert, use:\n\n``` shell\nink convert /path/_posts\n```\n\n### Build from source\n\nLocal Build\n\n1. Install [Golang](http://golang.org/doc/install) environment\n2. Run `go get github.com/InkProject/ink`, compile and get ink\n3. Run `ink preview $GOPATH/src/github.com/InkProject/ink/template`, preview blog\n\nDocker Build (Example)\n\n1. Clone code `git clone git@github.com:InkProject/ink.git`\n2. Build image `docker build -t ink .` in source directory\n3. Run container `docker run -p 8888:80 ink`\n\n## Theme\n\n- Dark(Official Theme): [https://github.com/InkProject/ink-theme-dark](https://github.com/InkProject/ink-theme-dark)\n- simple: [https://github.com/myiq/ink-simple](https://github.com/myiq/ink-simple)\n\n## Related Toturials\n\n- [Automatically deploy your Ink blog to GitHub pages wiht Travis CI](http://www.shery.me/blog/travis-ci.html)\n\n## Issue Report\n\n[CC Attribution-NonCommercial License 4.0](https://creativecommons.org/licenses/by-nc/4.0/)\n\n[https://github.com/InkProject/ink/issues](https://github.com/InkProject/ink/issues)\n\n## Change Log\n\n- [2016-07-11] Fix bugs and merge many PRs\n- [2015-08-15] Bug fix, support RSS feed, improve theme\n- [2015-07-04] Bug fix, improve theme, support top, i18n, subtemplate\n- [2015-06-04] Build more platform, add archive and tag page\n- [2015-03-01] Release first beta version\n\n## Develop Plan\n\n- Improve Theme\n- InkPaper Editor\n\n## They are using\n\n- [http://www.chole.io/blog/](http://www.chole.io/blog/)\n- [http://blog.hyper.sh/](http://blog.hyper.sh/)\n- [http://wangxu.me/](http://wangxu.me/)\n- [http://whzecomjm.com/](http://whzecomjm.com/)\n- [http://www.shery.me/blog/](http://www.shery.me/blog/)\n","cover":"/images/example-en.png","link":"ink-blog-tool-en.html","preview":"\u003cp\u003eInkPaper is an static blog generator developed by Golang, No dependencies, Cross platform, Easy use, Fast build, Elegant theme.\u003c/p\u003e\n","title":"An Elegant Static Blog Generator —— InkPaper"},{"content":"\r\n\r\n**安装**\r\n\r\nCentOS执行\r\n\r\n``` bash\r\nyum -y install nano\r\n```\r\n\r\nDebian执行\r\n\r\n``` bash\r\napt-get install -y nano\r\n```\r\n\r\n**新建/打开文件**\r\n\r\n``` bash\r\nnano 路径+文件名\r\n```\r\n\r\n1. 如果改文件存在，上面的命令将打开这个文件；\r\n2. 如果文件不存在则将会创建一个新文件并打开。\r\n\r\n**光标控制**\r\n\r\n1. 移动光标：使用用方向键移动。\r\n2. 选择文字：按住鼠标左键拖到。\r\n\r\n**复制、剪贴和粘贴**\r\n\r\n1. 复制一整行：`Alt+6`\r\n2. 剪贴一整行：`Ctrl+K`\r\n3. 粘贴：`Ctrl+U`\r\n\r\n如果需要复制/剪贴多行或者一行中的一部分，先将光标移动到需要复制／剪贴的文本的开头，按`Ctrl+6`或者`Alt+A`做标记，然后移动光标到 待复制／剪贴的文本末尾。这时选定的文本会反白，用`Alt+6`来复制`Ctrl+K`来剪贴。若在选择文本过程中要取消，只需要再按一次`Ctrl+6`。\r\n\r\n**搜索**\r\n\r\n按`Ctrl+W`然后输入你要搜索的关键字，回车确定。这将会定位到第一个匹配的文本，接着可以用`Alt+W`来定位到下一个匹配的文本。\r\n\r\n**翻页**\r\n\r\n用`Ctrl+Y`到上一页，`Ctrl+V`到下一页\r\n\r\n**替换文本**\r\n\r\n按`Ctrl+\\`在编辑器的底部输入`要替换的文本`回车然后输入`替换后的文本内容`按`A`替换所有匹配的文本\r\n\r\n**保存**\r\n\r\n使用`Ctrl+O`来保存所做的修改\r\n\r\n**退出**\r\n\r\n按`Ctrl+X`\r\n\r\n如果你修改了文件，下面会询问你是否需要保存修改。输入`Y`确认保存，输入`N`不保存，按`Ctrl+C`取消返回。\r\n\r\n如果输入了`Y`，下一步会让你输入想要保存的文件名。如果不需要修改文件名直接回车就行；若想要保存成别的名字（也就是另存为）则输入新名称然后确 定。这个时候也可用`Ctrl+C`来取消返回。\r\n\r\n**获得帮助**\r\n\r\n进入nano界面后，下面有两行菜单，例如，“^G Get Help”。其意义如下：\r\n\r\n`^G`意味着快捷键是`Ctrl+G`，“Get Help”当然是功能了。\r\n\r\n根据这些提示就可以立刻开始使用nano了，也可以Ctrl+G看看帮助。\r\n\r\nNote：nano中，黑底白字表示快捷键操作。其中`^`表示Ctrl键，则`Ctrl+G`就表示成`^G`。`M`表示 Alt键，则`Alt+W`表示为`M-W`。\r\n\r\n---\r\n\r\n编辑文件**整行文本**内容替换\r\n\r\n``` bash\r\nsed -i 's/替换前的整行原文本/替换后的整行文本/' 文件路径\r\n```\r\n\r\n`文件路径`示范`/root/test.txt`\r\n\r\n**修改或替换整个文件**\r\n\r\n``` bash\r\necho \"添加的文本内容\" \u003e 文件路径\r\n```\r\n\r\n**在文件最后增加**\r\n\r\n``` bash\r\necho \"添加的文本内容\" \u003e\u003e 文件路径\r\n```\r\n","cover":"","link":"nano.html","preview":"\u003cp\u003enano是Linux平台一个体积小巧而功能强大的文本编辑器\u003c/p\u003e\n","title":"nano文本编辑器使用复制剪切粘贴查找替换"},{"content":"\n\nVPS回程路由指的是你的远程VPS的IP地址到你本地ISP的IP。\n\n使用`traceroute`命令进行路由跟踪,但不能显示IP归属地。\n\n[下载BestTrace](https://www.ipip.net/product/client.html)\n\n* [Windows](https://cdn.ipip.net/17mon/besttrace.exe)\n* [Mac OS](https://itunes.apple.com/us/app/best-trace/id1037779758?l=zh\u0026ls=1\u0026mt=12)\n* [iOS](https://itunes.apple.com/cn/app/best-trace/id1026747589?ls=1\u0026mt=8)\n* [Android](https://cdn.ipip.net/17mon/besttrace.apk)\n* [Linux](https://cdn.ipip.net/17mon/besttrace4linux.zip)\n\nLinux使用方法如下\n\n``` bash\nwget https://cdn.ipip.net/17mon/besttrace4linux.zip\nunzip besttrace4linux.zip\nchmod +x besttrace\n./besttrace -q1 -g cn IP地址\n```\n\n更多使用说明可输入`./besttrace --help`进行查看，完整的参数如下：\n\n``` bash\n-6， - ipv6\n    使用ipv6。\n  -J， - json\n    使用JSON格式打印traceroute结果。\n  -g， - lang string\n    语言现在仅支持cn和en。\n  -m， - maxhop int\n    指定traceroute将探测的最大跳数（最大生存时间值）。默认值为30.（默认为30）\n  -a， - noas\n    显示时，请勿尝试将IP地址映射到AS。\n  -n， - nodomain\n    显示时，请勿尝试将IP地址映射到主机名。\n  -l， - location\n    显示时，请勿尝试将IP地址映射到位置。\n  -q， - query int\n    设置每跳的探测包数。默认值为3.（默认值为3）\n  -z， - sendtime int\n    探针之间的最小时间间隔（默认为0）。\n    如果该值大于10，则它指定一个以毫秒为单位的数字，否则它是一个秒数（也允许浮点值）。\n    当某些路由器对ICMP消息使用速率限制时很有用。\n  -f， - stopop int\n    指定要启动的TTL。默认为1.（默认值为1）\n   - 同步\n    通过同步发送icmp包。\n  -T， - tcp\n    使用TCP SYN进行探测。\n  -V， - 版本\n    打印版本并退出。\n  -w， - waittime int\n    设置等待探测响应的时间（以秒为单位）。 （默认3）\n```\n\n\n","cover":"","link":"besttrace.html","preview":"","title":"Linux VPS使用BestTrace进行路由跟踪"},{"content":"\n\n### 启用安全性较低的应用的访问权限\n\n1. 个人邮箱登录google账号输入网址[安全性较低的应用的访问权限](https://myaccount.google.com/lesssecureapps)开启启用【允许安全性较低的应用】即可正常发送邮件。\n2. 企业邮箱登录之后，打开网址[安全性](https://myaccount.google.com/lesssecureapps) 查看 [具体设置方法](https://support.google.com/a/answer/6260879?hl=zh-Hans) 或者 [直接打开](https://admin.google.com/AdminHome#ServiceSettings/notab=1\u0026service=securitysetting\u0026subtab=lesssecureappsaccess)\n\n\n### 电子邮件客户端中更改 SMTP 和其他设置\n\n[参考链接](https://support.google.com/mail/answer/7126229?hl=zh-Hans)\n\n``` json\n接收邮件 (IMAP) 服务器:imap.gmail.com\n要求 SSL：是\n端口：993\n发送邮件 (SMTP) 服务器:smtp.gmail.com\n要求 SSL：是\n要求 TLS：是（如适用）\n使用身份验证：是\nSSL 端口：465\nTLS/STARTTLS 端口：587\n完整名称或显示名称:您的姓名\n帐号名、用户名或电子邮件地址:您的完整电子邮件地址\n密码:您的 Gmail 密码\n```\n","cover":"","link":"gmail-smtp.html","preview":"","title":"Gmail邮件客户端中SMTP的设置"}]